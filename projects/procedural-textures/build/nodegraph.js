!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=97)}([function(e,t){e.exports=React},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return s});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}},,function(e,t,n){"use strict";var r=n(8);function i(e){var t={},n=function(n){var i;e.hasOwnProperty(n)&&Object.defineProperty(t,n,{get:function(){return void 0===i&&(i=Object(r.c)(e[n]).toString()),i},enumerable:!0,configurable:!0})};for(var i in e)n(i);return t}var o=n(1),a=n(92),s=n(57),l=n(10),c=n(77),u=n(68),h=a.a.getValue("icons",{__options:{disableWarnings:!1,warnOnMissingIcons:!0},__remapped:{}}),d=l.a.getInstance();d&&d.onReset&&d.onReset(function(){for(var e in h)h.hasOwnProperty(e)&&h[e].subset&&(h[e].subset.className=void 0)});var p=function(e){return e.toLowerCase()};function f(e,t){var n=o.a({},e,{isRegistered:!1,className:void 0}),r=e.icons;for(var i in t=t?o.a({},h.__options,t):h.__options,r)if(r.hasOwnProperty(i)){var a=r[i],s=p(i);h[s]?b(i):h[s]={code:a,subset:n}}}function m(e,t){h.__remapped[p(e)]=p(t)}function g(e){var t=void 0,n=h.__options;if(e=e?p(e):"",e=h.__remapped[e]||e)if(t=h[e]){var r=t.subset;r&&r.fontFace&&(r.isRegistered||(Object(c.a)(r.fontFace),r.isRegistered=!0),r.className||(r.className=Object(u.a)(r.style,{fontFamily:r.fontFace.fontFamily,fontWeight:r.fontFace.fontWeight||"normal",fontStyle:r.fontFace.fontStyle||"normal"})))}else!n.disableWarnings&&n.warnOnMissingIcons&&Object(s.a)('The icon "'+e+'" was used but not registered. See http://aka.ms/fabric-icon-usage for more information.');return t}var v=[],y=void 0;function b(e){var t=h.__options;t.disableWarnings||(v.push(e),void 0===y&&(y=setTimeout(function(){Object(s.a)("Some icons were re-registered. Applications should only call registerIcons for any given icon once. Redefining what an icon is may have unintended consequences. Duplicates include: \n"+v.slice(0,10).join(", ")+(v.length>10?" (+ "+(v.length-10)+" more)":"")),y=void 0,v=[]},2e3)))}var x=n(78),_="cubic-bezier(.1,.9,.2,1)",w="cubic-bezier(.1,.25,.75,.9)",M=Object(x.a)({from:{opacity:0},to:{opacity:1}}),S=Object(x.a)({from:{opacity:1},to:{opacity:0}}),C=ie(-10),E=ie(-20),T=ie(-40),L=ie(-400),P=ie(10),k=ie(20),A=ie(40),I=ie(400),O=oe(10),R=oe(20),D=oe(-10),N=oe(-20),B=ae(10),F=ae(20),j=ae(40),H=ae(400),z=ae(-10),U=ae(-20),G=ae(-40),V=ae(-400),W=se(-10),q=se(-20),K=se(10),X=se(20),Y=Object(x.a)({from:{transform:"scale3d(.98,.98,1)"},to:{transform:"scale3d(1,1,1)"}}),Z=Object(x.a)({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(.98,.98,1)"}}),J=Object(x.a)({from:{transform:"scale3d(1.03,1.03,1)"},to:{transform:"scale3d(1,1,1)"}}),Q=Object(x.a)({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(1.03,1.03,1)"}}),$=Object(x.a)({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(90deg)"}}),ee=Object(x.a)({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(-90deg)"}}),te={easeFunction1:_,easeFunction2:w,durationValue1:"0.167s",durationValue2:"0.267s",durationValue3:"0.367s",durationValue4:"0.467s"},ne={slideRightIn10:re(M+","+C,"0.367s",_),slideRightIn20:re(M+","+E,"0.367s",_),slideRightIn40:re(M+","+T,"0.367s",_),slideRightIn400:re(M+","+L,"0.367s",_),slideLeftIn10:re(M+","+P,"0.367s",_),slideLeftIn20:re(M+","+k,"0.367s",_),slideLeftIn40:re(M+","+A,"0.367s",_),slideLeftIn400:re(M+","+I,"0.367s",_),slideUpIn10:re(M+","+O,"0.367s",_),slideUpIn20:re(M+","+R,"0.367s",_),slideDownIn10:re(M+","+D,"0.367s",_),slideDownIn20:re(M+","+N,"0.367s",_),slideRightOut10:re(S+","+B,"0.367s",_),slideRightOut20:re(S+","+F,"0.367s",_),slideRightOut40:re(S+","+j,"0.367s",_),slideRightOut400:re(S+","+H,"0.367s",_),slideLeftOut10:re(S+","+z,"0.367s",_),slideLeftOut20:re(S+","+U,"0.367s",_),slideLeftOut40:re(S+","+G,"0.367s",_),slideLeftOut400:re(S+","+V,"0.367s",_),slideUpOut10:re(S+","+W,"0.367s",_),slideUpOut20:re(S+","+q,"0.367s",_),slideDownOut10:re(S+","+K,"0.367s",_),slideDownOut20:re(S+","+X,"0.367s",_),scaleUpIn100:re(M+","+Y,"0.367s",_),scaleDownIn100:re(M+","+J,"0.367s",_),scaleUpOut103:re(S+","+Q,"0.167s",w),scaleDownOut98:re(S+","+Z,"0.167s",w),fadeIn100:re(M,"0.167s",w),fadeIn200:re(M,"0.267s",w),fadeIn400:re(M,"0.367s",w),fadeIn500:re(M,"0.467s",w),fadeOut100:re(S,"0.167s",w),fadeOut200:re(S,"0.267s",w),fadeOut400:re(S,"0.367s",w),fadeOut500:re(S,"0.467s",w),rotate90deg:re($,"0.1s",w),rotateN90deg:re(ee,"0.1s",w)};function re(e,t,n){return{animationName:e,animationDuration:t,animationTimingFunction:n,animationFillMode:"both"}}function ie(e){return Object(x.a)({from:{transform:"translate3d("+e+"px,0,0)"},to:{transform:"translate3d(0,0,0)"}})}function oe(e){return Object(x.a)({from:{transform:"translate3d(0,"+e+"px,0)"},to:{transform:"translate3d(0,0,0)"}})}function ae(e){return Object(x.a)({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d("+e+"px,0,0)"}})}function se(e){return Object(x.a)({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d(0,"+e+"px,0)"}})}var le,ce,ue={themeDarker:"#004578",themeDark:"#005a9e",themeDarkAlt:"#106ebe",themePrimary:"#0078d4",themeSecondary:"#2b88d8",themeTertiary:"#71afe5",themeLight:"#c7e0f4",themeLighter:"#deecf9",themeLighterAlt:"#eff6fc",black:"#000000",blackTranslucent40:"rgba(0,0,0,.4)",neutralDark:"#212121",neutralPrimary:"#333333",neutralPrimaryAlt:"#3c3c3c",neutralSecondary:"#666666",neutralSecondaryAlt:"#767676",neutralTertiary:"#a6a6a6",neutralTertiaryAlt:"#c8c8c8",neutralQuaternary:"#d0d0d0",neutralQuaternaryAlt:"#dadada",neutralLight:"#eaeaea",neutralLighter:"#f4f4f4",neutralLighterAlt:"#f8f8f8",accent:"#0078d4",white:"#ffffff",whiteTranslucent40:"rgba(255,255,255,.4)",yellow:"#ffb900",yellowLight:"#fff100",orange:"#d83b01",orangeLight:"#ea4300",orangeLighter:"#ff8c00",redDark:"#a80000",red:"#e81123",magentaDark:"#5c005c",magenta:"#b4009e",magentaLight:"#e3008c",purpleDark:"#32145a",purple:"#5c2d91",purpleLight:"#b4a0ff",blueDark:"#002050",blueMid:"#00188f",blue:"#0078d4",blueLight:"#00bcf2",tealDark:"#004b50",teal:"#008272",tealLight:"#00b294",greenDark:"#004b1c",green:"#107c10",greenLight:"#bad80a"},he="'Segoe UI', -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', sans-serif";!function(e){e.Arabic="Segoe UI Web (Arabic)",e.Cyrillic="Segoe UI Web (Cyrillic)",e.EastEuropean="Segoe UI Web (East European)",e.Greek="Segoe UI Web (Greek)",e.Hebrew="Segoe UI Web (Hebrew)",e.Thai="Leelawadee UI Web",e.Vietnamese="Segoe UI Web (Vietnamese)",e.WestEuropean="Segoe UI Web (West European)",e.Selawik="Selawik Web"}(le||(le={})),function(e){e.Arabic="'"+le.Arabic+"'",e.ChineseSimplified="'Microsoft Yahei UI', Verdana, Simsun",e.ChineseTraditional="'Microsoft Jhenghei UI', Pmingliu",e.Cyrillic="'"+le.Cyrillic+"'",e.EastEuropean="'"+le.EastEuropean+"'",e.Greek="'"+le.Greek+"'",e.Hebrew="'"+le.Hebrew+"'",e.Hindi="'Nirmala UI'",e.Japanese="'Yu Gothic UI', 'Meiryo UI', Meiryo, 'MS Pgothic', Osaka",e.Korean="'Malgun Gothic', Gulim",e.Selawik="'"+le.Selawik+"'",e.Thai="'Leelawadee UI Web', 'Kmer UI'",e.Vietnamese="'"+le.Vietnamese+"'",e.WestEuropean="'"+le.WestEuropean+"'"}(ce||(ce={}));var de,pe,fe,me="'Segoe UI', '"+le.WestEuropean+"'",ge={ar:ce.Arabic,bg:ce.Cyrillic,cs:ce.EastEuropean,el:ce.Greek,et:ce.EastEuropean,he:ce.Hebrew,hi:ce.Hindi,hr:ce.EastEuropean,hu:ce.EastEuropean,ja:ce.Japanese,kk:ce.EastEuropean,ko:ce.Korean,lt:ce.EastEuropean,lv:ce.EastEuropean,pl:ce.EastEuropean,ru:ce.Cyrillic,sk:ce.EastEuropean,"sr-latn":ce.EastEuropean,th:ce.Thai,tr:ce.EastEuropean,uk:ce.Cyrillic,vi:ce.Vietnamese,"zh-hans":ce.ChineseSimplified,"zh-hant":ce.ChineseTraditional};function ve(e){return e+", "+he}function ye(e,t,n){return{fontFamily:n,MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontSize:e,fontWeight:t}}!function(e){e.mini="10px",e.xSmall="11px",e.small="12px",e.smallPlus="13px",e.medium="14px",e.mediumPlus="15px",e.icon="16px",e.large="17px",e.xLarge="21px",e.xxLarge="28px",e.superLarge="42px",e.mega="72px"}(de||(de={})),function(e){e.light=100,e.semilight=300,e.regular=400,e.semibold=600,e.bold=700}(pe||(pe={})),function(e){e.xSmall="10px",e.small="12px",e.medium="16px",e.large="20px"}(fe||(fe={}));var be,xe=n(6);var _e,we,Me,Se,Ce="https://static2.sharepointonline.com/files/fabric/assets",Ee=(_e=function(){if(void 0===be){var e=Object(xe.d)(),t=function(e){var t=null;try{t=window.localStorage.getItem(e)}catch(e){}return t}("language");null!==t&&(be=t),void 0===be&&e&&(be=e.documentElement.getAttribute("lang")),void 0===be&&(be="en")}return be}(),we=function(e){for(var t in ge)if(ge.hasOwnProperty(t)&&e&&0===t.indexOf(e))return ge[t];return me}(_e),Me=ve(we),Se=Me,we===me&&(Se=ve(ce.WestEuropean)),{tiny:ye(de.mini,pe.semibold,Me),xSmall:ye(de.xSmall,pe.regular,Me),small:ye(de.small,pe.regular,Me),smallPlus:ye(de.smallPlus,pe.regular,Me),medium:ye(de.medium,pe.regular,Me),mediumPlus:ye(de.mediumPlus,pe.regular,Me),large:ye(de.large,pe.semilight,Se),xLarge:ye(de.xLarge,pe.light,Me),xxLarge:ye(de.xxLarge,pe.light,Me),superLarge:ye(de.superLarge,pe.light,Me),mega:ye(de.mega,pe.light,Me)});function Te(e,t,n,r){e="'"+e+"'";var i=void 0!==r?"local('"+r+"'),":"";Object(c.a)({fontFamily:e,src:i+"url('"+t+".woff2') format('woff2'),url('"+t+".woff') format('woff')",fontWeight:n,fontStyle:"normal"})}function Le(e,t,n,r,i){void 0===r&&(r="segoeui");var o=e+"/"+n+"/"+r;Te(t,o+"-light",pe.light,i&&i+" Light"),Te(t,o+"-semilight",pe.semilight,i&&i+" SemiLight"),Te(t,o+"-regular",pe.regular,i),Te(t,o+"-semibold",pe.semibold,i&&i+" SemiBold")}!function(e){if(e){var t=e+"/fonts";Le(t,le.Thai,"leelawadeeui-thai","leelawadeeui"),Le(t,le.Arabic,"segoeui-arabic"),Le(t,le.Cyrillic,"segoeui-cyrillic"),Le(t,le.EastEuropean,"segoeui-easteuropean"),Le(t,le.Greek,"segoeui-greek"),Le(t,le.Hebrew,"segoeui-hebrew"),Le(t,le.Vietnamese,"segoeui-vietnamese"),Le(t,le.WestEuropean,"segoeui-westeuropean","segoeui","Segoe UI"),Le(t,ce.Selawik,"selawik","selawik"),Te("Leelawadee UI Web",t+"/leelawadeeui-thai/leelawadeeui-semilight",pe.light),Te("Leelawadee UI Web",t+"/leelawadeeui-thai/leelawadeeui-bold",pe.semibold)}}(function(){var e="undefined"!=typeof window?window:void 0,t=e?e.FabricConfig:void 0;return t&&void 0!==t.fontBaseUrl?t.fontBaseUrl:Ce}());var Pe="@media screen and (-ms-high-contrast: active)";function ke(e,t){return"@media only screen and (min-width: "+e+"px) and (max-width: "+t+"px)"}var Ae,Ie=n(14);function Oe(e,t,n,r,i,o,a){return void 0===t&&(t=0),void 0===n&&(n="relative"),void 0===r&&(r=void 0),void 0===i&&(i=e.palette.white),void 0===o&&(o=e.palette.neutralSecondary),void 0===a&&(a=!0),{outline:"transparent",position:n,selectors:(s={"::-moz-focus-inner":{border:"0"}},s["."+Ie.a+" &"+(a?":focus":"")+":after"]={content:'""',position:"absolute",left:t+1,top:t+1,bottom:t+1,right:t+1,border:"1px solid "+i,outline:"1px solid "+o,zIndex:Ae.FocusStyle,selectors:(l={},l[Pe]=r,l)},s)};var s,l}function Re(){return{selectors:{"&::-moz-focus-inner":{border:0},"&":{outline:"transparent"}}}}!function(e){e.Nav=1,e.ScrollablePane=1,e.FocusStyle=1,e.Coachmark=1e3,e.Layer=1e6,e.KeytipLayer=1000001}(Ae||(Ae={}));var De={position:"absolute",width:1,height:1,margin:-1,padding:0,border:0,overflow:"hidden"};var Ne=n(25),Be=Object(Ne.a)(function(e,t){var n=l.a.getInstance();return t?Object.keys(e).reduce(function(t,r){return t[r]=n.getClassName(e[r]),t},{}):e});function Fe(e,t,n){return Be(e,void 0!==n?n:t.disableGlobalClassNames)}var je=n(18);n(54);var He,ze={s2:"4px",s1:"8px",m:"16px",l1:"20px",l2:"32px"},Ue=(n(94),{elevation4:{boxShadow:"0 0 5px 0 rgba(0,0,0,.4)"},elevation8:{boxShadow:"0 0 5px 0 rgba(0,0,0,.4)"},elevation16:{boxShadow:"0 0 5px 0 rgba(0,0,0,.4)"},elevation64:{boxShadow:"0 0 5px 0 rgba(0,0,0,.4)"},roundedCorner2:0}),Ge=Ke({palette:ue,semanticColors:Xe(ue,!1,!1),fonts:Ee,isInverted:!1,disableGlobalClassNames:!1}),Ve="theme";if(!je.a.getSettings([Ve]).theme){var We="undefined"!=typeof window?window:void 0;We&&We.FabricConfig&&We.FabricConfig.theme&&(Ge=Ke(We.FabricConfig.theme)),je.a.applySettings(((He={})[Ve]=Ge,He))}function qe(e){return void 0===e&&(e=!1),!0===e&&(Ge=Ke({},e)),Ge}function Ke(e,t){void 0===t&&(t=!1);var n=o.a({},ue,e.palette);e.palette&&e.palette.accent||(n.accent=n.themePrimary);var r=o.a({},Xe(n,!!e.isInverted,t),e.semanticColors);return{palette:n,fonts:o.a({},Ee,e.fonts),semanticColors:r,isInverted:!!e.isInverted,disableGlobalClassNames:!!e.disableGlobalClassNames,spacing:o.a({},ze,e.spacing),effects:o.a({},Ue,e.effects)}}function Xe(e,t,n){return function(e,t){var n="";!0===t&&(n=" /* @deprecated */");return e.listTextColor=e.listText+n,e.menuItemBackgroundChecked+=n,e}({bodyBackground:e.white,bodyStandoutBackground:e.neutralLighterAlt,bodyFrameBackground:e.white,bodyFrameDivider:e.neutralLight,bodyText:e.neutralPrimary,bodyTextChecked:e.black,bodySubtext:e.neutralSecondary,bodyDivider:e.neutralLight,disabledBackground:e.neutralLighter,disabledText:e.neutralTertiary,disabledBodyText:e.neutralTertiary,disabledSubtext:e.neutralQuaternary,disabledBodySubtext:e.neutralTertiaryAlt,focusBorder:e.neutralSecondary,variantBorder:e.neutralLight,variantBorderHovered:e.neutralTertiary,defaultStateBackground:e.neutralLighterAlt,errorText:t?"#ff5f5f":e.redDark,warningText:t?"#ffffff":"#333333",errorBackground:t?"rgba(232, 17, 35, .5)":"rgba(232, 17, 35, .2)",blockingBackground:t?"rgba(234, 67, 0, .5)":"rgba(234, 67, 0, .2)",warningBackground:t?"rgba(255, 251, 0, .6)":"rgba(255, 185, 0, .2)",warningHighlight:t?"#fff100":"#ffb900",successBackground:t?"rgba(186, 216, 10, .4)":"rgba(186, 216, 10, .2)",inputBorder:e.neutralTertiary,inputBorderHovered:e.neutralPrimary,inputBackground:e.white,inputBackgroundChecked:e.themePrimary,inputBackgroundCheckedHovered:e.themeDarkAlt,inputForegroundChecked:e.white,inputFocusBorderAlt:e.themePrimary,smallInputBorder:e.neutralSecondary,inputText:e.neutralPrimary,inputTextHovered:e.neutralDark,inputPlaceholderText:e.neutralSecondary,buttonBackground:e.neutralLighter,buttonBackgroundChecked:e.neutralTertiaryAlt,buttonBackgroundHovered:e.neutralLight,buttonBackgroundCheckedHovered:e.neutralLight,buttonBackgroundPressed:e.neutralLight,buttonBackgroundDisabled:e.neutralLighter,buttonBorder:"transparent",buttonText:e.neutralPrimary,buttonTextHovered:e.neutralDark,buttonTextChecked:e.neutralDark,buttonTextCheckedHovered:e.black,buttonTextPressed:e.neutralDark,buttonTextDisabled:e.neutralTertiary,buttonBorderDisabled:"transparent",primaryButtonBackground:e.themePrimary,primaryButtonBackgroundHovered:e.themeDarkAlt,primaryButtonBackgroundPressed:e.themeDark,primaryButtonBackgroundDisabled:e.neutralLighter,primaryButtonBorder:"transparent",primaryButtonText:e.white,primaryButtonTextHovered:e.white,primaryButtonTextPressed:e.white,primaryButtonTextDisabled:e.neutralQuaternary,accentButtonBackground:e.accent,accentButtonText:e.white,menuBackground:e.white,menuDivider:e.neutralTertiaryAlt,menuIcon:e.themePrimary,menuHeader:e.themePrimary,menuItemBackgroundHovered:e.neutralLighter,menuItemBackgroundPressed:e.neutralLight,menuItemText:e.neutralPrimary,menuItemTextHovered:e.neutralDark,listBackground:e.white,listText:e.neutralPrimary,listItemBackgroundHovered:e.neutralLighter,listItemBackgroundChecked:e.neutralLight,listItemBackgroundCheckedHovered:e.neutralQuaternaryAlt,listHeaderBackgroundHovered:e.neutralLighter,listHeaderBackgroundPressed:e.neutralLight,actionLink:e.neutralPrimary,actionLinkHovered:e.neutralDark,link:e.themePrimary,linkHovered:e.themeDarker,listTextColor:"",menuItemBackgroundChecked:e.neutralLight},n)}var Ye={boxShadow:"none",margin:0,padding:0,boxSizing:"border-box"};var Ze=i(ne),Je=(i(Ee),{});for(var Qe in ue)ue.hasOwnProperty(Qe)&&($e(Je,Qe,"",!1,"color"),$e(Je,Qe,"Hover",!0,"color"),$e(Je,Qe,"Background",!1,"background"),$e(Je,Qe,"BackgroundHover",!0,"background"),$e(Je,Qe,"Border",!1,"borderColor"),$e(Je,Qe,"BorderHover",!0,"borderColor"));function $e(e,t,n,r,i){Object.defineProperty(e,t+n,{get:function(){var e,n=((e={})[i]=qe().palette[t],e);return Object(u.a)(r?{selectors:{":hover":n}}:n).toString()},enumerable:!0,configurable:!0})}var et=n(145);Object(et.a)("@uifabric/styling","6.39.0"),n.d(t,"a",function(){return Ze}),n.d(t,"b",function(){return te}),n.d(t,"c",function(){return Ee}),n.d(t,"d",function(){return de}),n.d(t,"e",function(){return pe}),n.d(t,"k",function(){return Oe}),n.d(t,"j",function(){return Re}),n.d(t,"p",function(){return De}),n.d(t,"l",function(){return Fe}),n.d(t,"o",function(){return qe}),n.d(t,"f",function(){return Pe}),n.d(t,"g",function(){return 639}),n.d(t,"n",function(){return ke}),n.d(t,"s",function(){return Ye}),n.d(t,"h",function(){return Ae}),n.d(t,"m",function(){return g}),n.d(t,"u",function(){return f}),n.d(t,"t",function(){return m}),n.d(t,"i",function(){return r.a}),n.d(t,"q",function(){return r.b}),n.d(t,"r",function(){return r.c})},,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={topLeftEdge:0,topCenter:1,topRightEdge:2,topAutoEdge:3,bottomLeftEdge:4,bottomCenter:5,bottomRightEdge:6,bottomAutoEdge:7,leftTopEdge:8,leftCenter:9,leftBottomEdge:10,rightTopEdge:11,rightCenter:12,rightBottomEdge:13}},function(e,t,n){"use strict";n.d(t,"i",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"f",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"g",function(){return h}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return p});var r="data-portal-element";function i(e,t){var n=e,r=t;n._virtual||(n._virtual={children:[]});var i=n._virtual.parent;if(i&&i!==t){var o=i._virtual.children.indexOf(n);o>-1&&i._virtual.children.splice(o,1)}n._virtual.parent=r||void 0,r&&(r._virtual||(r._virtual={children:[]}),r._virtual.children.push(n))}function o(e,t){return void 0===t&&(t=!0),e&&(t&&function(e){var t;return e&&f(e)&&(t=e._virtual.parent),t}(e)||e.parentNode&&e.parentNode)}function a(e,t,n){void 0===n&&(n=!0);var r=!1;if(e&&t)if(n)for(r=!1;t;){var i=o(t);if(i===e){r=!0;break}t=i}else e.contains&&(r=e.contains(t));return r}var s=!1;function l(e){return s||"undefined"==typeof window?void 0:e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}function c(e){return s||"undefined"==typeof document?void 0:e&&e.ownerDocument?e.ownerDocument:document}function u(e){e.setAttribute(r,"true")}function h(e,t){var n=d(e,function(e){return t===e||e.hasAttribute(r)});return null!==n&&n.hasAttribute(r)}function d(e,t){return e&&e!==document.body?t(e)?e:d(o(e),t):null}function p(e,t){var n=d(e,function(e){return e.hasAttribute(t)});return n&&n.getAttribute(t)}function f(e){return e&&!!e._virtual}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pauseBreak:19,capslock:20,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,del:46,zero:48,one:49,two:50,three:51,four:52,five:53,six:54,seven:55,eight:56,nine:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftWindow:91,rightWindow:92,select:93,zero_numpad:96,one_numpad:97,two_numpad:98,three_numpad:99,four_numpad:100,five_numpad:101,six_numpad:102,seven_numpad:103,eight_numpad:104,nine_numpad:105,multiply:106,add:107,subtract:109,decimalPoint:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrollLock:145,semicolon:186,equalSign:187,comma:188,dash:189,period:190,forwardSlash:191,graveAccent:192,openBracket:219,backSlash:220,closeBracket:221,singleQuote:222}},function(e,t,n){"use strict";var r=n(68),i=n(69),o=n(32),a=n(145);Object(a.a)("@uifabric/merge-styles","6.15.0"),n.d(t,"c",function(){return r.a}),n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return o.a})},function(e,t,n){"use strict";n.d(t,"d",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"g",function(){return h}),n.d(t,"f",function(){return d}),n.d(t,"j",function(){return f}),n.d(t,"i",function(){return m}),n.d(t,"h",function(){return g}),n.d(t,"a",function(){return v}),n.d(t,"k",function(){return y}),n.d(t,"b",function(){return x});var r=n(6),i="data-is-focusable",o="data-is-visible",a="data-focuszone-id",s="data-is-sub-focuszone";function l(e,t,n){return d(e,t,!0,!1,!1,n)}function c(e,t,n){return h(e,t,!0,!1,!0,n)}function u(e){var t=d(e,e,!0,!1,!1,!0);return!!t&&(x(t),!0)}function h(e,t,n,r,i,o,a,s){if(!t||!a&&t===e)return null;var l=p(t);if(i&&l&&(o||!m(t)&&!g(t))){var c=h(e,t.lastElementChild,!0,!0,!0,o,a,s);if(c){if(s&&f(c,!0)||!s)return c;var u=h(e,c.previousElementSibling,!0,!0,!0,o,a,s);if(u)return u;for(var d=c.parentElement;d&&d!==t;){var v=h(e,d.previousElementSibling,!0,!0,!0,o,a,s);if(v)return v;d=d.parentElement}}}if(n&&l&&f(t))return t;var y=h(e,t.previousElementSibling,!0,!0,!0,o,a,s);return y||(r?null:h(e,t.parentElement,!0,!1,!1,o,a,s))}function d(e,t,n,r,i,o,a,s){if(!t||t===e&&i&&!a)return null;var l=p(t);if(n&&l&&f(t,s))return t;if(!i&&l&&(o||!m(t)&&!g(t))){var c=d(e,t.firstElementChild,!0,!0,!1,o,a,s);if(c)return c}if(t===e)return null;var u=d(e,t.nextElementSibling,!0,!0,!1,o,a,s);return u||(r?null:d(e,t.parentElement,!1,!1,!0,o,a,s))}function p(e){if(!e||!e.getAttribute)return!1;var t=e.getAttribute(o);return null!=t?"true"===t:0!==e.offsetHeight||null!==e.offsetParent||!0===e.isVisible}function f(e,t){if(!e||e.disabled)return!1;var n=0,r=null;e&&e.getAttribute&&(r=e.getAttribute("tabIndex"))&&(n=parseInt(r,10));var o=e.getAttribute?e.getAttribute(i):null,a=null!==r&&n>=0,s=!!e&&"false"!==o&&("A"===e.tagName||"BUTTON"===e.tagName||"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"true"===o||a||e.getAttribute&&"button"===e.getAttribute("role"));return t?-1!==n&&s:s}function m(e){return!!(e&&e.getAttribute&&e.getAttribute(a))}function g(e){return!(!e||!e.getAttribute||"true"!==e.getAttribute(s))}function v(e){var t=Object(r.d)(e),n=t&&t.activeElement;return!(!n||!Object(r.a)(e,n))}function y(e,t){return"true"!==Object(r.b)(e,t)}var b=void 0;function x(e){if(e){if(b)return void(b=e);b=e;var t=Object(r.f)(e);t&&t.requestAnimationFrame(function(){b&&b.focus(),b=void 0})}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return s});var r,i=n(1),o={none:0,insertNode:1,appendChild:2},a={},s=function(){function t(e){this._rules=[],this._preservedRules=[],this._rulesToInsert=[],this._counter=0,this._keyToClassName={},this._onResetCallbacks=[],this._classNameToArgs={},this._config=i.a({injectionMode:o.insertNode,defaultPrefix:"css",namespace:void 0},e)}return t.getInstance=function(){var n="undefined"!=typeof window?window:void 0!==e?e:a;if(!(r=n.__stylesheet__)||r._lastStyleElement&&r._lastStyleElement.ownerDocument!==document){var i=n&&n.FabricConfig||{};r=n.__stylesheet__=new t(i.mergeStyles)}return r},t.prototype.setConfig=function(e){this._config=i.a({},this._config,e)},t.prototype.onReset=function(e){this._onResetCallbacks.push(e)},t.prototype.getClassName=function(e){var t=this._config.namespace;return(t?t+"-":"")+(e||this._config.defaultPrefix)+"-"+this._counter++},t.prototype.cacheClassName=function(e,t,n,r){this._keyToClassName[t]=e,this._classNameToArgs[e]={args:n,rules:r}},t.prototype.classNameFromKey=function(e){return this._keyToClassName[e]},t.prototype.argsFromClassName=function(e){var t=this._classNameToArgs[e];return t&&t.args},t.prototype.insertedRulesFromClassName=function(e){var t=this._classNameToArgs[e];return t&&t.rules},t.prototype.insertRule=function(e,t){var n=this._config.injectionMode!==o.none?this._getStyleElement():void 0;if(t&&this._preservedRules.push(e),n)switch(this._config.injectionMode){case o.insertNode:var r=n.sheet;try{r.insertRule(e,r.cssRules.length)}catch(e){}break;case o.appendChild:n.appendChild(document.createTextNode(e))}else this._rules.push(e);this._config.onInsertRule&&this._config.onInsertRule(e)},t.prototype.getRules=function(e){return(e?this._preservedRules.join(""):"")+this._rules.join("")+this._rulesToInsert.join("")},t.prototype.reset=function(){this._rules=[],this._rulesToInsert=[],this._counter=0,this._classNameToArgs={},this._keyToClassName={},this._onResetCallbacks.forEach(function(e){return e()})},t.prototype.resetKeys=function(){this._keyToClassName={}},t.prototype._getStyleElement=function(){var e=this;return this._styleElement||"undefined"==typeof document||(this._styleElement=this._createStyleElement(),window.requestAnimationFrame(function(){e._styleElement=void 0})),this._styleElement},t.prototype._createStyleElement=function(){var e=document.createElement("style");return e.setAttribute("data-merge-styles","true"),e.type="text/css",this._lastStyleElement&&this._lastStyleElement.nextElementSibling?document.head.insertBefore(e,this._lastStyleElement.nextElementSibling):document.head.appendChild(e),this._lastStyleElement=e,e},t}()}).call(this,n(75))},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r});var r,i={none:0,all:1,inputOnly:2};!function(e){e[e.vertical=0]="vertical",e[e.horizontal=1]="horizontal",e[e.bidirectional=2]="bidirectional"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"f",function(){return r});var r,i="ktp",o="-",a="data-ktp-target",s="data-ktp-execute-target",l="ktp-layer-id";!function(e){e.KEYTIP_ADDED="keytipAdded",e.KEYTIP_REMOVED="keytipRemoved",e.KEYTIP_UPDATED="keytipUpdated",e.PERSISTED_KEYTIP_ADDED="persistedKeytipAdded",e.PERSISTED_KEYTIP_REMOVED="persistedKeytipRemoved",e.PERSISTED_KEYTIP_EXECUTE="persistedKeytipExecute",e.ENTER_KEYTIP_MODE="enterKeytipMode",e.EXIT_KEYTIP_MODE="exitKeytipMode"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r,i=n(5);n.d(t,"b",function(){return i.a}),function(e){e[e.Normal=0]="Normal",e[e.Divider=1]="Divider",e[e.Header=2]="Header",e[e.Section=3]="Section"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n(6),i=n(93),o="ms-Fabric--isFocusVisible";function a(e){var t=e||Object(r.f)();t&&!t.__hasInitializeFocusRects__&&(t.__hasInitializeFocusRects__=!0,t.addEventListener("mousedown",s,!0),t.addEventListener("keydown",l,!0))}function s(e){var t=Object(r.f)(e.target);if(t){var n=t.document.body.classList;n.contains(o)&&n.remove(o)}}function l(e){var t=Object(r.f)(e.target);if(t){var n=t.document.body.classList;Object(i.a)(e.which)&&!n.contains(o)&&n.add(o)}}},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(135),a=n(6),s=n(7),l=n(24),c=n(58),u=n(134),h=n(34),d=n(61),p=n(5),f=n(51),m=n(25),g=n(3),v={msButton:"ms-Button",msButtonIcon:"ms-Button-icon",msButtonMenuIcon:"ms-Button-menuIcon",msButtonLabel:"ms-Button-label",msButtonDescription:"ms-Button-description",msButtonScreenReaderText:"ms-Button-screenReaderText",msButtonFlexContainer:"ms-Button-flexContainer",msButtonTextContainer:"ms-Button-textContainer"},y=Object(m.a)(function(e,t,n,r,i,o,a,s,l,c){var u,h,d=Object(g.l)(v,e||{}),p=l&&!c;return Object(g.q)({root:[d.msButton,t.root,r,s&&["is-checked",t.rootChecked],p&&["is-expanded",t.rootExpanded,{selectors:(u={},u[":hover ."+d.msButtonIcon]=t.iconExpandedHovered,u[":hover ."+d.msButtonMenuIcon]=t.menuIconExpandedHovered||t.rootExpandedHovered,u[":hover"]=t.rootExpandedHovered,u)}],a&&["is-disabled",t.rootDisabled],!a&&!p&&!s&&{selectors:(h={":hover":t.rootHovered},h[":hover ."+d.msButtonLabel]=t.labelHovered,h[":hover ."+d.msButtonIcon]=t.iconHovered,h[":hover ."+d.msButtonDescription]=t.descriptionHovered,h[":hover ."+d.msButtonMenuIcon]=t.menuIconHovered,h[":focus"]=t.rootFocused,h[":active"]=t.rootPressed,h[":active ."+d.msButtonIcon]=t.iconPressed,h[":active ."+d.msButtonDescription]=t.descriptionPressed,h[":active ."+d.msButtonMenuIcon]=t.menuIconPressed,h)},a&&s&&[t.rootCheckedDisabled],!a&&s&&{selectors:{":hover":t.rootCheckedHovered,":active":t.rootCheckedPressed}},n],flexContainer:[d.msButtonFlexContainer,t.flexContainer],textContainer:[d.msButtonTextContainer,t.textContainer],icon:[d.msButtonIcon,i,t.icon,p&&t.iconExpanded,s&&t.iconChecked,a&&t.iconDisabled],label:[d.msButtonLabel,t.label,s&&t.labelChecked,a&&t.labelDisabled],menuIcon:[d.msButtonMenuIcon,o,t.menuIcon,s&&t.menuIconChecked,a&&t.menuIconDisabled,!a&&!p&&!s&&{selectors:{":hover":t.menuIconHovered,":active":t.menuIconPressed}},p&&["is-expanded",t.menuIconExpanded]],description:[d.msButtonDescription,t.description,s&&t.descriptionChecked,a&&t.descriptionDisabled],screenReaderText:[d.msButtonScreenReaderText,t.screenReaderText]})}),b=Object(m.a)(function(e,t,n,r){return{root:Object(g.r)(e.splitButtonMenuButton,n&&[e.splitButtonMenuButtonExpanded],t&&[e.splitButtonMenuButtonDisabled],r&&!t&&[e.splitButtonMenuButtonChecked]),splitButtonContainer:Object(g.r)(e.splitButtonContainer,r&&!t&&[e.splitButtonContainerChecked,{selectors:{":hover":e.splitButtonContainerCheckedHovered}}],!t&&!r&&[{selectors:{":hover":e.splitButtonContainerHovered,":focus":e.splitButtonContainerFocused}}],t&&e.splitButtonContainerDisabled),icon:Object(g.r)(e.splitButtonMenuIcon,t&&e.splitButtonMenuIconDisabled),flexContainer:Object(g.r)(e.splitButtonFlexContainer),divider:Object(g.r)(e.splitButtonDivider)}}),x=n(136);n.d(t,"a",function(){return _});var _=function(e){function t(t,n){var c=e.call(this,t)||this;c._buttonElement=i.createRef(),c._splitButtonContainer=i.createRef(),c._onRenderIcon=function(e,t){var n=c.props.iconProps;if(n){var a=n.className,s=r.d(n,["className"]);return i.createElement(d.a,r.a({className:Object(o.a)(c._classNames.icon,a)},s))}return null},c._onRenderTextContents=function(){var e=c.props,t=e.text,n=e.children,r=e.secondaryText,o=void 0===r?c.props.description:r,a=e.onRenderText,s=void 0===a?c._onRenderText:a,l=e.onRenderDescription,u=void 0===l?c._onRenderDescription:l;return t||"string"==typeof n||o?i.createElement("div",{className:c._classNames.textContainer},s(c.props,c._onRenderText),u(c.props,c._onRenderDescription)):[s(c.props,c._onRenderText),u(c.props,c._onRenderDescription)]},c._onRenderText=function(){var e=c.props.text,t=c.props.children;return void 0===e&&"string"==typeof t&&(e=t),c._hasText()?i.createElement("div",{key:c._labelId,className:c._classNames.label,id:c._labelId},e):null},c._onRenderChildren=function(){var e=c.props.children;return"string"==typeof e?null:e},c._onRenderDescription=function(e){var t=e.secondaryText,n=void 0===t?c.props.description:t;return n?i.createElement("div",{key:c._descriptionId,className:c._classNames.description,id:c._descriptionId},n):null},c._onRenderAriaDescription=function(){var e=c.props.ariaDescription;return e?i.createElement("span",{className:c._classNames.screenReaderText,id:c._ariaDescriptionId},e):null},c._onRenderMenuIcon=function(e){var t=c.props.menuIconProps;return i.createElement(d.a,r.a({iconName:"ChevronDown"},t,{className:c._classNames.menuIcon}))},c._onRenderMenu=function(e){var t=e.onDismiss,n=void 0===t?c._dismissMenu:t,a=c.props.menuAs||f.a;return e.ariaLabel||e.labelElementId||!c._hasText()||(e=r.a({},e,{labelElementId:c._labelId})),i.createElement(a,r.a({id:c._labelId+"-menu",directionalHint:p.a.bottomLeftEdge},e,{shouldFocusOnContainer:c.state.menuProps?c.state.menuProps.shouldFocusOnContainer:void 0,shouldFocusOnMount:c.state.menuProps?c.state.menuProps.shouldFocusOnMount:void 0,className:Object(o.a)("ms-BaseButton-menuhost",e.className),target:c._isSplitButton?c._splitButtonContainer.current:c._buttonElement.current,onDismiss:n}))},c._dismissMenu=function(){var e=null;c.props.persistMenu&&c.state.menuProps&&((e=c.state.menuProps).hidden=!0),c.setState({menuProps:e})},c._openMenu=function(e,t){if(void 0===t&&(t=!0),c.props.menuProps){var n=r.a({},c.props.menuProps,{shouldFocusOnContainer:e,shouldFocusOnMount:t});c.props.persistMenu&&(n.hidden=!1),c.setState({menuProps:n})}},c._onToggleMenu=function(e){var t=c.state.menuProps,n=!0;c.props.menuProps&&!1===c.props.menuProps.shouldFocusOnMount&&(n=!1),c.props.persistMenu?t&&t.hidden?c._openMenu(e,n):c._dismissMenu():t?c._dismissMenu():c._openMenu(e,n)},c._onSplitContainerFocusCapture=function(e){var t=c._splitButtonContainer.current;!t||e.target&&Object(a.g)(e.target,t)||t.focus()},c._onSplitButtonPrimaryClick=function(e){c._isExpanded&&c._dismissMenu(),!c._processingTouch&&c.props.onClick?c.props.onClick(e):c._processingTouch&&c._onMenuClick(e)},c._onKeyDown=function(e){!c.props.disabled||e.which!==s.a.enter&&e.which!==s.a.space?c.props.disabled||(c.props.menuProps?c._onMenuKeyDown(e):void 0!==c.props.onKeyDown&&c.props.onKeyDown(e)):(e.preventDefault(),e.stopPropagation())},c._onKeyUp=function(e){c.props.disabled||void 0===c.props.onKeyUp||c.props.onKeyUp(e)},c._onKeyPress=function(e){c.props.disabled||void 0===c.props.onKeyPress||c.props.onKeyPress(e)},c._onMouseUp=function(e){c.props.disabled||void 0===c.props.onMouseUp||c.props.onMouseUp(e)},c._onMouseDown=function(e){c.props.disabled||void 0===c.props.onMouseDown||c.props.onMouseDown(e)},c._onClick=function(e){c.props.disabled||(c.props.menuProps?c._onMenuClick(e):void 0!==c.props.onClick&&c.props.onClick(e))},c._onSplitButtonContainerKeyDown=function(e){e.which===s.a.enter?c._buttonElement.current&&(c._buttonElement.current.click(),e.preventDefault(),e.stopPropagation()):c._onMenuKeyDown(e)},c._onMenuKeyDown=function(e){if(!c.props.disabled&&(c.props.onKeyDown&&c.props.onKeyDown(e),!e.defaultPrevented&&c._isValidMenuOpenKey(e))){var t=c.props.onMenuClick;t&&t(e,c),c._onToggleMenu(!1),e.preventDefault(),e.stopPropagation()}},c._onTouchStart=function(){!c._isSplitButton||!c._splitButtonContainer.current||"onpointerdown"in c._splitButtonContainer.current||c._handleTouchAndPointerEvent()},c._onMenuClick=function(e){var t=c.props.onMenuClick;if(t&&t(e,c),!e.defaultPrevented){var n=0!==e.nativeEvent.detail;c._onToggleMenu(n),e.preventDefault(),e.stopPropagation()}},c._warnConditionallyRequiredProps(["menuProps","onClick"],"split",c.props.split),c._warnDeprecations({rootProps:void 0,description:"secondaryText",toggled:"checked"}),c._labelId=Object(l.c)(),c._descriptionId=Object(l.c)(),c._ariaDescriptionId=Object(l.c)();var u=null;return t.persistMenu&&t.menuProps&&((u=t.menuProps).hidden=!0),c.state={menuProps:u},c}return r.c(t,e),Object.defineProperty(t.prototype,"_isSplitButton",{get:function(){return!!this.props.menuProps&&!!this.props.onClick&&!0===this.props.split},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_isExpanded",{get:function(){return this.props.persistMenu?!this.state.menuProps.hidden:!!this.state.menuProps},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.ariaDescription,n=e.ariaLabel,r=e.ariaHidden,i=e.className,o=e.disabled,a=e.allowDisabledFocus,s=e.primaryDisabled,u=e.secondaryText,h=void 0===u?this.props.description:u,d=e.href,p=e.iconProps,f=e.menuIconProps,m=e.styles,g=e.checked,v=e.variantClassName,b=e.theme,x=e.toggle,_=e.getClassNames,w=this.state.menuProps,M=o||s;this._classNames=_?_(b,i,v,p&&p.className,f&&f.className,M,g,!!w,this.props.split,!!a):y(b,m,i,v,p&&p.className,f&&f.className,M,g,!!w,this.props.split);var S=this._ariaDescriptionId,C=this._labelId,E=this._descriptionId,T=!M&&!!d,L=T?"a":"button",P=Object(c.d)(Object(l.a)(T?{}:{type:"button"},this.props.rootProps,this.props),T?c.a:c.b,["disabled"]),k=n||P["aria-label"],A=void 0;t?A=S:h?A=E:P["aria-describedby"]&&(A=P["aria-describedby"]);var I=void 0;k||(P["aria-labelledby"]?I=P["aria-labelledby"]:A&&(I=this._hasText()?C:void 0));var O=!(!1===this.props["data-is-focusable"]||o&&!a||this._isSplitButton),R=Object(l.a)(P,{className:this._classNames.root,ref:this._buttonElement,disabled:M&&!a,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onClick:this._onClick,"aria-label":k,"aria-labelledby":I,"aria-describedby":A,"aria-disabled":M,"data-is-focusable":O,"aria-pressed":x?!!g:void 0});return r&&(R["aria-hidden"]=!0),this._isSplitButton?this._onRenderSplitButtonContent(L,R):(this.props.menuProps&&Object(l.a)(R,{"aria-expanded":this._isExpanded,"aria-owns":this.state.menuProps?this._labelId+"-menu":null,"aria-haspopup":!0}),this._onRenderContent(L,R))},t.prototype.componentDidMount=function(){this._isSplitButton&&this._splitButtonContainer.current&&"onpointerdown"in this._splitButtonContainer.current&&this._events.on(this._splitButtonContainer.current,"pointerdown",this._onPointerDown,!0)},t.prototype.componentDidUpdate=function(e,t){this.props.onAfterMenuDismiss&&t.menuProps&&!this.state.menuProps&&this.props.onAfterMenuDismiss()},t.prototype.focus=function(){this._isSplitButton&&this._splitButtonContainer.current?this._splitButtonContainer.current.focus():this._buttonElement.current&&this._buttonElement.current.focus()},t.prototype.dismissMenu=function(){this._dismissMenu()},t.prototype.openMenu=function(e,t){this._openMenu(e,t)},t.prototype._onRenderContent=function(e,t){var n=this,o=this.props,a=e,s=o.menuIconProps,l=o.menuProps,c=o.onRenderIcon,u=void 0===c?this._onRenderIcon:c,h=o.onRenderAriaDescription,d=void 0===h?this._onRenderAriaDescription:h,p=o.onRenderChildren,f=void 0===p?this._onRenderChildren:p,m=o.onRenderMenu,g=void 0===m?this._onRenderMenu:m,v=o.onRenderMenuIcon,y=void 0===v?this._onRenderMenuIcon:v,b=o.disabled,_=o.keytipProps;_&&l&&(_=r.a({},_,{hasMenu:!0}));var w=i.createElement(x.a,{keytipProps:this._isSplitButton?void 0:_,ariaDescribedBy:t["aria-describedby"],disabled:b},function(e){return i.createElement(a,r.a({},t,e),i.createElement("div",{className:n._classNames.flexContainer},u(o,n._onRenderIcon),n._onRenderTextContents(),d(o,n._onRenderAriaDescription),f(o,n._onRenderChildren),!n._isSplitButton&&(l||s||n.props.onRenderMenuIcon)&&y(n.props,n._onRenderMenuIcon),n.state.menuProps&&!n.state.menuProps.doNotLayer&&g(l,n._onRenderMenu)))});return l&&l.doNotLayer?i.createElement("div",{style:{display:"inline-block"}},w,this.state.menuProps&&g(l,this._onRenderMenu)):w},t.prototype._hasText=function(){return null!==this.props.text&&(void 0!==this.props.text||"string"==typeof this.props.children)},t.prototype._onRenderSplitButtonContent=function(e,t){var n=this,o=this.props,a=o.styles,s=void 0===a?{}:a,h=o.disabled,d=o.allowDisabledFocus,p=o.checked,f=o.getSplitButtonClassNames,m=o.primaryDisabled,g=o.menuProps,v=o.toggle,y=this.props.keytipProps,_=f?f(!!h,!!this.state.menuProps,!!p,!!d):s&&b(s,!!h,!!this.state.menuProps,!!p);Object(l.a)(t,{onClick:void 0,tabIndex:-1,"data-is-focusable":!1});var w=t.ariaDescription;y&&g&&(y=r.a({},y,{hasMenu:!0}));var M=Object(c.d)(t,[],["disabled"]);return i.createElement(x.a,{keytipProps:y,disabled:h},function(o){return i.createElement("div",r.a({},M,{"data-ktp-target":o["data-ktp-target"],role:"button","aria-disabled":h,"aria-haspopup":!0,"aria-expanded":n._isExpanded,"aria-pressed":v?!!p:void 0,"aria-describedby":Object(u.a)(w,o["aria-describedby"]),className:_&&_.splitButtonContainer,onKeyDown:n._onSplitButtonContainerKeyDown,onTouchStart:n._onTouchStart,ref:n._splitButtonContainer,"data-is-focusable":!0,onClick:h||m?void 0:n._onSplitButtonPrimaryClick,tabIndex:!h||d?0:void 0,"aria-roledescription":t["aria-roledescription"],onFocusCapture:n._onSplitContainerFocusCapture}),i.createElement("span",{style:{display:"flex"}},n._onRenderContent(e,t),n._onRenderSplitButtonMenuButton(_,o),n._onRenderSplitButtonDivider(_)))})},t.prototype._onRenderSplitButtonDivider=function(e){return e&&e.divider?i.createElement("span",{className:e.divider}):null},t.prototype._onRenderSplitButtonMenuButton=function(e,n){var o=this.props,a=o.allowDisabledFocus,s=o.checked,l=o.disabled,c=this.props.menuIconProps,u=this.props.splitButtonAriaLabel;void 0===c&&(c={iconName:"ChevronDown"});var h={styles:e,checked:s,disabled:l,allowDisabledFocus:a,onClick:this._onMenuClick,menuProps:void 0,iconProps:r.a({},c,{className:this._classNames.menuIcon}),ariaLabel:u,"aria-haspopup":!0,"aria-expanded":this._isExpanded,"data-is-focusable":!1};return i.createElement(t,r.a({},h,{"data-ktp-execute-target":n["data-ktp-execute-target"],onMouseDown:this._onMouseDown,tabIndex:-1}))},t.prototype._onPointerDown=function(e){"touch"===e.pointerType&&(this._handleTouchAndPointerEvent(),e.preventDefault(),e.stopImmediatePropagation())},t.prototype._handleTouchAndPointerEvent=function(){var e=this;void 0!==this._lastTouchTimeoutId&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout(function(){e._processingTouch=!1,e._lastTouchTimeoutId=void 0},500)},t.prototype._isValidMenuOpenKey=function(e){return this.props.menuTriggerKeyCode?e.which===this.props.menuTriggerKeyCode:!!this.props.menuProps&&(e.which===s.a.down&&(e.altKey||e.metaKey))},t.defaultProps={baseClassName:"ms-Button",styles:{},split:!1},t}(h.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(25),i=n(3),o={outline:0},a={fontSize:i.d.icon,margin:"0 4px",height:"16px",lineHeight:"16px",textAlign:"center",verticalAlign:"middle",flexShrink:0},s=Object(r.a)(function(e){var t,n=e.semanticColors,r=n.buttonBorder,s=n.disabledBackground,l=n.disabledText,c={left:-2,top:-2,bottom:-2,right:-2,border:"none",outlineColor:"ButtonText"};return{root:[Object(i.k)(e,-1,"relative",c),e.fonts.medium,{boxSizing:"border-box",border:"1px solid "+r,userSelect:"none",display:"inline-block",textDecoration:"none",textAlign:"center",cursor:"pointer",verticalAlign:"top",padding:"0 16px",borderRadius:0,selectors:{":active > *":{position:"relative",left:0,top:0}}}],rootDisabled:[Object(i.k)(e,-1,"relative",c),{backgroundColor:s,color:l,cursor:"default",pointerEvents:"none",selectors:(t={":hover":o,":focus":o},t[i.f]={color:"grayText",bordercolor:"grayText"},t)}],iconDisabled:{color:l},menuIconDisabled:{color:l},flexContainer:{display:"flex",height:"100%",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"},textContainer:{flexGrow:1},icon:a,menuIcon:[a,{fontSize:i.d.small}],label:{margin:"0 4px",lineHeight:"100%"},screenReaderText:i.p}})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(133),i=n(49),o=n(33),a=Object(r.a)(i.a,o.a,void 0,{scope:"ContextualMenuItem"})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),i=n(92),o=n(19),a={settings:{},scopedSettings:{},inCustomizerContext:!1},s=i.a.getValue("customizations",{settings:{},scopedSettings:{},inCustomizerContext:!1}),l=new o.a(s),c=function(){function e(){}return e.reset=function(){s.settings={},s.scopedSettings={}},e.applySettings=function(t){s.settings=r.a({},s.settings,t),e._raiseChange()},e.applyScopedSettings=function(t,n){s.scopedSettings[t]=r.a({},s.scopedSettings[t],n),e._raiseChange()},e.getSettings=function(e,t,n){void 0===n&&(n=a);for(var r={},i=t&&n.scopedSettings[t]||{},o=t&&s.scopedSettings[t]||{},l=0,c=e;l<c.length;l++){var u=c[l];r[u]=i[u]||n.settings[u]||o[u]||s.settings[u]}return r},e.observe=function(e){l.on(s,"change",e)},e.unobserve=function(e){l.off(s,"change",e)},e._raiseChange=function(){l.raise("change")},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(24),i=function(){function e(t){this._id=e._uniqueId++,this._parent=t,this._eventRecords=[]}return e.raise=function(t,n,i,o){var a;if(e._isElement(t)){if(document.createEvent){var s=document.createEvent("HTMLEvents");s.initEvent(n,o||!1,!0),Object(r.a)(s,i),a=t.dispatchEvent(s)}else if(document.createEventObject){var l=document.createEventObject(i);t.fireEvent("on"+n,l)}}else for(;t&&!1!==a;){var c=t.__events__,u=c?c[n]:null;if(u)for(var h in u)if(u.hasOwnProperty(h))for(var d=u[h],p=0;!1!==a&&p<d.length;p++){var f=d[p];f.objectCallback&&(a=f.objectCallback.call(f.parent,i))}t=o?t.parent:null}return a},e.isObserved=function(e,t){var n=e&&e.__events__;return!!n&&!!n[t]},e.isDeclared=function(e,t){var n=e&&e.__declaredEvents;return!!n&&!!n[t]},e.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},e._isElement=function(e){return!!e&&(!!e.addEventListener||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement)},e.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this.off(),this._parent=null)},e.prototype.onAll=function(e,t,n){for(var r in t)t.hasOwnProperty(r)&&this.on(e,r,t[r],n)},e.prototype.on=function(t,n,r,i){var o=this;if(n.indexOf(",")>-1)for(var a=n.split(/[ ,]+/),s=0;s<a.length;s++)this.on(t,a[s],r,i);else{var l=this._parent,c={target:t,eventName:n,parent:l,callback:r,useCapture:i||!1};if((a=t.__events__=t.__events__||{})[n]=a[n]||{count:0},a[n][this._id]=a[n][this._id]||[],a[n][this._id].push(c),a[n].count++,e._isElement(t)){var u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!o._isDisposed){var n;try{if(!1===(n=r.apply(l,e))&&e[0]){var i=e[0];i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.cancelBubble=!0}}catch(i){}return n}};c.elementCallback=u,t.addEventListener?t.addEventListener(n,u,i):t.attachEvent&&t.attachEvent("on"+n,u)}else{c.objectCallback=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!o._isDisposed)return r.apply(l,e)}}this._eventRecords.push(c)}},e.prototype.off=function(e,t,n,r){for(var i=0;i<this._eventRecords.length;i++){var o=this._eventRecords[i];if(!(e&&e!==o.target||t&&t!==o.eventName||n&&n!==o.callback||"boolean"==typeof r&&r!==o.useCapture)){var a=o.target.__events__,s=a[o.eventName],l=s?s[this._id]:null;l&&(1!==l.length&&n?(s.count--,l.splice(l.indexOf(o),1)):(s.count-=l.length,delete a[o.eventName][this._id]),s.count||delete a[o.eventName]),o.elementCallback&&(o.target.removeEventListener?o.target.removeEventListener(o.eventName,o.elementCallback,o.useCapture):o.target.detachEvent&&o.target.detachEvent("on"+o.eventName,o.elementCallback)),this._eventRecords.splice(i--,1)}}},e.prototype.raise=function(t,n,r){return e.raise(this._parent,t,n,r)},e.prototype.declare=function(e){var t=this._parent.__declaredEvents=this._parent.__declaredEvents||{};if("string"==typeof e)t[e]=!0;else for(var n=0;n<e.length;n++)t[e[n]]=!0},e._uniqueId=0,e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(36),i=n(21),o=function(){function e(){}return e.getNodeNamespace=function(e){return"~/"+e.id},e.getChannelNamespace=function(e){return this.getNodeNamespace(e.node)+"/"+this.getChannelDirectionNamespace(e.direction)+"/"+e.name},e.getChannelDirectionNamespace=function(e){switch(e){case i.NodeGraphChannelDirection.Inbound:return"inputs";case i.NodeGraphChannelDirection.Outbound:return"outputs"}return null},e.getAttributeNamespace=function(e){return e.object instanceof i.NodeGraphChannel?this.getChannelNamespace(e.object)+"/@"+e.name:e.object instanceof r.PrimitiveNode?this.getNodeNamespace(e.object)+"/@"+e.name:null},e.isValidNamespace=function(e){return e.indexOf("/")>=1},e}();t.NodeGraphNamespace=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(0),l=n(20),c=function(){function e(e){if(e=e||{direction:a.Undefined,name:"Undefined"},this.name=e.name,this.direction=e.direction,this.node=e.node||null,this.attributes={},null!=e.attributes)for(var t=0;t<e.attributes.length;++t){var n=e.attributes[t];this.attributes[n.name]=o({},n,{object:this})}}return e.prototype.serialize=function(){var e=[];for(var t in this.attributes)e.push({name:t,expression:this.attributes[t].expression,type:this.attributes[t].type,read_only:this.attributes[t].read_only});return{attributes:e,direction:this.direction,name:this.name}},e.prototype.applyAttributes=function(e){if(null!=e)for(var t=0;t<e.length;++t){var n=e[t];this.attributes.hasOwnProperty(n.name)?(this.attributes[n.name].expression=n.expression,this.attributes[n.name].read_only=n.read_only,this.attributes[n.name].type=n.type):this.attributes[n.name]=o({},n,{object:this})}},e}();t.NodeGraphChannel=c,function(e){e[e.Outbound=0]="Outbound",e[e.Inbound=1]="Inbound",e[e.Undefined=2]="Undefined"}(a=t.NodeGraphChannelDirection||(t.NodeGraphChannelDirection={}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={name:t.channel.name,direction:t.channel.direction,attributes:t.channel.attributes,selected:!1},n}return i(t,e),t.prototype.updateState=function(e){this.setState({name:e.name,direction:e.direction,attributes:e.attributes})},t.prototype.channelClicked=function(e){return 0!=e.button||(this.props.entityClicked(e.currentTarget.id),this.setState({selected:!this.state.selected}),e.stopPropagation(),e.preventDefault(),!1)},t.prototype.onMouseDown=function(e){return 0!=e.button||null==this.props.onMouseDown||(this.props.onMouseDown(e.currentTarget.id,e.clientX,e.clientY),e.stopPropagation(),e.preventDefault(),!1)},t.prototype.onMouseUp=function(e){return 0!=e.button||null==this.props.onMouseUp||(this.props.onMouseUp(e.currentTarget.id,e.clientX,e.clientY),e.stopPropagation(),e.preventDefault(),!1)},t.prototype.render=function(){var e=this,t=l.NodeGraphNamespace.getChannelNamespace(this.props.channel);return s.createElement("li",null,s.createElement("div",{onClick:function(t){return e.channelClicked(t)},onMouseDown:function(t){return e.onMouseDown(t)},onMouseUp:function(t){return e.onMouseUp(t)},id:t,className:(this.state.selected?"selected":"")+" "+(this.props.showLabel?"forceLabel":"")},s.createElement("span",null,this.state.name)))},t}(s.Component);t.NodeChannelRenderer=u},function(e,t,n){"use strict";var r,i=n(10);var o={"user-select":1};function a(e,t){var n=function(){if(!r){var e="undefined"!=typeof document?document:void 0,t="undefined"!=typeof navigator?navigator:void 0,n=t?t.userAgent.toLowerCase():void 0;r=e?{isWebkit:!!(e&&"WebkitAppearance"in e.documentElement.style),isMoz:!!(n&&n.indexOf("firefox")>-1),isOpera:!!(n&&n.indexOf("opera")>-1),isMs:!(!t||!/rv:11.0/i.test(t.userAgent)&&!/Edge\/\d./i.test(navigator.userAgent))}:{isWebkit:!0,isMoz:!0,isOpera:!0,isMs:!0}}return r}(),i=e[t];if(o[i]){var a=e[t+1];o[i]&&(n.isWebkit&&e.push("-webkit-"+i,a),n.isMoz&&e.push("-moz-"+i,a),n.isMs&&e.push("-ms-"+i,a),n.isOpera&&e.push("-o-"+i,a))}}var s=["column-count","font-weight","flex-basis","flex","flex-grow","flex-shrink","fill-opacity","opacity","order","z-index","zoom"];function l(e,t){var n=e[t],r=e[t+1];if("number"==typeof r){var i=-1===s.indexOf(n)?"px":"";e[t+1]=""+r+i}}var c=n(46);n.d(t,"b",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"a",function(){return m}),n.d(t,"c",function(){return g});var u="displayName";function h(e,t){return 0===e.indexOf(":global(")?e.replace(/:global\(|\)$/g,""):0===e.indexOf(":")?t+e:e.indexOf("&")<0?t+" "+e:e}function d(e,t,n){var r="string"==typeof n?n.split(" "):[n];e[t+"Top"]=r[0],e[t+"Right"]=r[1]||r[0],e[t+"Bottom"]=r[2]||r[0],e[t+"Left"]=r[3]||r[1]||r[0]}function p(e){if(!e)return"";var t,n,r=[];for(var i in e)e.hasOwnProperty(i)&&i!==u&&void 0!==e[i]&&r.push(i,e[i]);for(var o=0;o<r.length;o+=2)(t=r)[n=o]=t[n].replace(/([A-Z])/g,"-$1").toLowerCase(),l(r,o),Object(c.a)(r,o),a(r,o);for(o=1;o<r.length;o+=4)r.splice(o,1,":",r[o],";");return r.join("")}function f(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function e(t,n,r){void 0===n&&(n={__order:[]}),void 0===r&&(r="&");var o=i.a.getInstance(),a=n[r];a||(a={},n[r]=a,n.__order.push(r));for(var s=0,l=t;s<l.length;s++){var c=l[s];if("string"==typeof c){var u=o.argsFromClassName(c);u&&e(u,n,r)}else if(Array.isArray(c))e(c,n,r);else for(var p in c)if("selectors"===p){var f=c.selectors;for(var m in f)if(f.hasOwnProperty(m)){var g=f[m];0===m.indexOf("@")?e([g],n,m=m+"{"+r):m.indexOf(",")>-1?e([g],n,m.split(/,/g).map(function(e){return e.trim()}).map(function(e){return h(e,r)}).join(", ")):e([g],n,h(m,r))}}else void 0!==c[p]&&("margin"===p||"padding"===p?d(a,p,c[p]):a[p]=c[p])}return n}(e),r=function(e){for(var t=[],n=!1,r=0,i=e.__order;r<i.length;r++){var o=i[r];t.push(o);var a=e[o];for(var s in a)a.hasOwnProperty(s)&&void 0!==a[s]&&(n=!0,t.push(s,a[s]))}return n?t.join(""):void 0}(n);if(r){var o=i.a.getInstance(),a={className:o.classNameFromKey(r),key:r,args:e};if(!a.className){a.className=o.getClassName(function(e){var t=e&&e["&"];return t?t.displayName:void 0}(n));for(var s=[],l=0,c=n.__order;l<c.length;l++){var u=c[l];s.push(u,p(n[u]))}a.rulesToInsert=s}return a}}function m(e,t){var n=i.a.getInstance(),r=e.className,o=e.key,a=e.args,s=e.rulesToInsert;if(s){for(var l=0;l<s.length;l+=2){var c=s[l+1];if(c){var u=s[l],h=(u=u.replace(/(&)|\$([\w-]+)\b/g,function(n,r,i){return r?"."+e.className:i?"."+(t&&t[i]||i):""}))+"{"+c+"}"+(0===u.indexOf("@")?"}":"");n.insertRule(h)}}n.cacheClassName(r,o,a,s)}}function g(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=f.apply(void 0,e);return n?(m(n),n.className):""}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(3),i=n(25),o=Object(i.a)(function(e,t){var n={splitButtonContainer:[Object(r.k)(e,0,"relative",{left:-2,top:-2,bottom:-2,right:-2,border:"none"}),{display:"inline-flex"}],splitButtonContainerFocused:{outline:"none!important"},splitButtonMenuButton:{padding:6,height:"auto",boxSizing:"border-box",border:0,borderRadius:0,outline:"transparent",userSelect:"none",display:"inline-block",textDecoration:"none",textAlign:"center",cursor:"pointer",verticalAlign:"top",width:32,marginLeft:-1},splitButtonDivider:{position:"absolute",width:1,right:31,top:8,bottom:8},splitButtonMenuButtonDisabled:{pointerEvents:"none",selectors:{":hover":{cursor:"default"}}},splitButtonFlexContainer:{display:"flex",height:"100%",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"},splitButtonContainerDisabled:{outline:"none",border:"none"}};return Object(r.i)(n,t)})},function(e,t,n){"use strict";(function(e){n.d(t,"d",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return d});var r=n(10),i="__currentId__",o="id__",a="undefined"!=typeof window&&window||e;function s(e,t){for(var n in e)if(e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||t[n]!==e[n]))return!1;return!0}function l(e,t){return s(e,t)&&s(t,e)}function c(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return u.apply(this,[null,e].concat(t))}function u(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t=t||{};for(var i=0,o=n;i<o.length;i++){var a=o[i];if(a)for(var s in a)!a.hasOwnProperty(s)||e&&!e(s)||(t[s]=a[s])}return t}void 0===a[i]&&(a[i]=0);var h=r.a.getInstance();function d(e){var t=a[i]++;return(e||o)+t}h&&h.onReset&&h.onReset(function(e){void 0===e&&(e=0);a[i]=e})}).call(this,n(75))},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(10),i=r.a.getInstance();i&&i.onReset&&r.a.getInstance().onReset(function(){o++});var o=0,a={empty:!0},s={},l="undefined"==typeof WeakMap?null:WeakMap;function c(e,t){if(void 0===t&&(t=100),!l)return e;var n,r=0,i=o;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var l=n;(void 0===n||i!==o||t>0&&r>t)&&(n=h(),r=0,i=o),l=n;for(var c=0;c<a.length;c++){var d=u(a[c]);l.map.has(d)||l.map.set(d,h()),l=l.map.get(d)}return l.hasOwnProperty("value")||(l.value=e.apply(void 0,a),r++),l.value}}function u(e){return e?"object"==typeof e||"function"==typeof e?e:(s[e]||(s[e]={val:e}),s[e]):a}function h(){return{map:l?new l:null}}},,,function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(o).concat([i]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),l=null,c=0,u=[],h=n(100);function d(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(y(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(y(r.parts[a],t));o[r.id]={id:r.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function f(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(e.insertAt.before,n);n.insertBefore(t,i)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return v(t,e.attrs),f(e,t),t}function v(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function y(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}if(t.singleton){var a=c++;n=l||(l=g(t)),r=_.bind(null,n,a,!1),i=_.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),f(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=h(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return d(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}e&&d(p(e,t),t);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var b,x=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function _(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t,n){(function(e){!function(t){function n(){}function r(e,t){this.x=e||0,this.y=t||0}function i(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function o(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}function a(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function s(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function l(e,t,n,i,o,a,c,u,h,d){Object.defineProperty(this,"id",{value:eo++}),this.uuid=Qi.generateUUID(),this.name="",this.image=void 0!==e?e:l.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:l.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:1001,this.wrapT=void 0!==i?i:1001,this.magFilter=void 0!==o?o:1006,this.minFilter=void 0!==a?a:1008,this.anisotropy=void 0!==h?h:1,this.format=void 0!==c?c:1023,this.type=void 0!==u?u:1009,this.offset=new r(0,0),this.repeat=new r(1,1),this.center=new r(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new s,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==d?d:3e3,this.version=0,this.onUpdate=null}function c(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}function u(e,t,n){this.width=e,this.height=t,this.scissor=new c(0,0,e,t),this.scissorTest=!1,this.viewport=new c(0,0,e,t),void 0===(n=n||{}).minFilter&&(n.minFilter=1006),this.texture=new l(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.generateMipmaps=void 0===n.generateMipmaps||n.generateMipmaps,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function h(e,t,n){u.call(this,e,t,n),this.activeMipMapLevel=this.activeCubeFace=0}function d(e,t,n,r,i,o,a,s,c,u,h,d){l.call(this,null,o,a,s,c,u,r,i,h,d),this.image={data:e,width:t,height:n},this.magFilter=void 0!==c?c:1003,this.minFilter=void 0!==u?u:1003,this.flipY=this.generateMipmaps=!1,this.unpackAlignment=1}function p(e,t){this.min=void 0!==e?e:new a(1/0,1/0,1/0),this.max=void 0!==t?t:new a(-1/0,-1/0,-1/0)}function f(e,t){this.center=void 0!==e?e:new a,this.radius=void 0!==t?t:0}function m(e,t){this.normal=void 0!==e?e:new a(1,0,0),this.constant=void 0!==t?t:0}function g(e,t,n,r,i,o){this.planes=[void 0!==e?e:new m,void 0!==t?t:new m,void 0!==n?n:new m,void 0!==r?r:new m,void 0!==i?i:new m,void 0!==o?o:new m]}function v(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function y(){function e(i,o){!1!==n&&(r(i,o),t.requestAnimationFrame(e))}var t=null,n=!1,r=null;return{start:function(){!0!==n&&null!==r&&(t.requestAnimationFrame(e),n=!0)},stop:function(){n=!1},setAnimationLoop:function(e){r=e},setContext:function(e){t=e}}}function b(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){n.isInterleavedBufferAttribute&&(n=n.data);var i=t.get(n);if(void 0===i)t.set(n,function(t,n){var r=t.array,i=t.dynamic?35048:35044,o=e.createBuffer();return e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback(),n=5126,r instanceof Float32Array?n=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?n=5123:r instanceof Int16Array?n=5122:r instanceof Uint32Array?n=5125:r instanceof Int32Array?n=5124:r instanceof Int8Array?n=5120:r instanceof Uint8Array&&(n=5121),{buffer:o,type:n,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(n,r));else if(i.version<n.version){var o=n,a=o.array,s=o.updateRange;e.bindBuffer(r,i.buffer),!1===o.dynamic?e.bufferData(r,a,35044):-1===s.count?e.bufferSubData(r,0,a):0===s.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,s.offset*a.BYTES_PER_ELEMENT,a.subarray(s.offset,s.offset+s.count)),s.count=-1),i.version=n.version}}}}function x(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new a,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new v,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function _(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||_.DefaultOrder}function w(){this.mask=1}function M(){Object.defineProperty(this,"id",{value:ao++}),this.uuid=Qi.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=M.DefaultUp.clone();var e=new a,t=new _,n=new o,r=new a(1,1,1);t.onChange(function(){n.setFromEuler(t,!1)}),n.onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new i},normalMatrix:{value:new s}}),this.matrix=new i,this.matrixWorld=new i,this.matrixAutoUpdate=M.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new w,this.visible=!0,this.receiveShadow=this.castShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function S(){Object.defineProperty(this,"id",{value:so+=2}),this.uuid=Qi.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function C(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function E(e,t,n){C.call(this,new Int8Array(e),t,n)}function T(e,t,n){C.call(this,new Uint8Array(e),t,n)}function L(e,t,n){C.call(this,new Uint8ClampedArray(e),t,n)}function P(e,t,n){C.call(this,new Int16Array(e),t,n)}function k(e,t,n){C.call(this,new Uint16Array(e),t,n)}function A(e,t,n){C.call(this,new Int32Array(e),t,n)}function I(e,t,n){C.call(this,new Uint32Array(e),t,n)}function O(e,t,n){C.call(this,new Float32Array(e),t,n)}function R(e,t,n){C.call(this,new Float64Array(e),t,n)}function D(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}function N(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}function B(){Object.defineProperty(this,"id",{value:lo+=2}),this.uuid=Qi.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingSphere=this.boundingBox=null,this.drawRange={start:0,count:1/0},this.userData={}}function F(e,t,n,r,i,o){S.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new j(e,t,n,r,i,o)),this.mergeVertices()}function j(e,t,n,r,i,o){function s(e,t,n,r,i,o,s,m,g,v,y){var b=o/g,x=s/v,_=o/2,w=s/2,M=m/2;s=g+1;var S,C,E=v+1,T=o=0,L=new a;for(C=0;C<E;C++){var P=C*x-w;for(S=0;S<s;S++)L[e]=(S*b-_)*r,L[t]=P*i,L[n]=M,u.push(L.x,L.y,L.z),L[e]=0,L[t]=0,L[n]=0<m?1:-1,h.push(L.x,L.y,L.z),d.push(S/g),d.push(1-C/v),o+=1}for(C=0;C<v;C++)for(S=0;S<g;S++)e=p+S+s*(C+1),t=p+(S+1)+s*(C+1),n=p+(S+1)+s*C,c.push(p+S+s*C,e,n),c.push(e,t,n),T+=6;l.addGroup(f,T,y),f+=T,p+=o}B.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var l=this;e=e||1,t=t||1,n=n||1,r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var c=[],u=[],h=[],d=[],p=0,f=0;s("z","y","x",-1,-1,n,t,e,o,i,0),s("z","y","x",1,-1,n,t,-e,o,i,1),s("x","z","y",1,1,e,n,t,r,o,2),s("x","z","y",1,-1,e,n,-t,r,o,3),s("x","y","z",1,-1,e,t,n,r,i,4),s("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(c),this.addAttribute("position",new O(u,3)),this.addAttribute("normal",new O(h,3)),this.addAttribute("uv",new O(d,2))}function H(e,t,n,r){S.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new z(e,t,n,r)),this.mergeVertices()}function z(e,t,n,r){B.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};var i=(e=e||1)/2,o=(t=t||1)/2;n=Math.floor(n)||1,r=Math.floor(r)||1;var a=n+1,s=r+1,l=e/n,c=t/r,u=[],h=[],d=[],p=[];for(e=0;e<s;e++){var f=e*c-o;for(t=0;t<a;t++)h.push(t*l-i,-f,0),d.push(0,0,1),p.push(t/n),p.push(1-e/r)}for(e=0;e<r;e++)for(t=0;t<n;t++)i=t+a*(e+1),o=t+1+a*(e+1),s=t+1+a*e,u.push(t+a*e,i,s),u.push(i,o,s);this.setIndex(u),this.addAttribute("position",new O(h,3)),this.addAttribute("normal",new O(d,3)),this.addAttribute("uv",new O(p,2))}function U(){Object.defineProperty(this,"id",{value:co++}),this.uuid=Qi.generateUUID(),this.name="",this.type="Material",this.lights=this.fog=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null,this.depthFunc=3,this.depthWrite=this.depthTest=!0,this.clippingPlanes=null,this.clipShadows=this.clipIntersection=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetUnits=this.polygonOffsetFactor=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}function G(e){U.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function V(e,t){this.origin=void 0!==e?e:new a,this.direction=void 0!==t?t:new a}function W(e,t,n){this.a=void 0!==e?e:new a,this.b=void 0!==t?t:new a,this.c=void 0!==n?n:new a}function q(e){U.call(this),this.type="MeshBasicMaterial",this.color=new v(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.lights=this.morphTargets=this.skinning=!1,this.setValues(e)}function K(e,t){M.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new B,this.material=void 0!==t?t:new q({color:16777215*Math.random()}),this.drawMode=0,this.updateMorphTargets()}function X(e,t,n,r){function i(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}var o,a,s=new v(0),l=0;return{getClearColor:function(){return s},setClearColor:function(e,t){s.set(e),i(s,l=void 0!==t?t:1)},getClearAlpha:function(){return l},setClearAlpha:function(e){i(s,l=e)},render:function(t,r,c,u){null===(r=r.background)?i(s,l):r&&r.isColor&&(i(r,1),u=!0),(e.autoClear||u)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),r&&(r.isCubeTexture||r.isWebGLRenderTargetCube)?(void 0===a&&((a=new K(new j(1,1,1),new G({type:"BackgroundCubeMaterial",uniforms:no.clone(oo.cube.uniforms),vertexShader:oo.cube.vertexShader,fragmentShader:oo.cube.fragmentShader,side:1,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},n.update(a)),a.material.uniforms.tCube.value=r.isWebGLRenderTargetCube?r.texture:r,a.material.uniforms.tFlip.value=r.isWebGLRenderTargetCube?1:-1,t.push(a,a.geometry,a.material,0,null)):r&&r.isTexture&&(void 0===o&&((o=new K(new z(2,2),new G({type:"BackgroundMaterial",uniforms:no.clone(oo.background.uniforms),vertexShader:oo.background.vertexShader,fragmentShader:oo.background.fragmentShader,side:0,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),n.update(o)),o.material.uniforms.t2D.value=r,!0===r.matrixAutoUpdate&&r.updateMatrix(),o.material.uniforms.uvTransform.value.copy(r.matrix),t.push(o,o.geometry,o.material,0,null))}}}function Y(e,t,n,r){var i;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i)},this.renderInstances=function(o,a,s){if(r.isWebGL2)var l=e;else if(null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](i,a,s,o.maxInstancedCount),n.update(s,i,o.maxInstancedCount)}}function Z(e,t,n){function r(t){if("highp"===t){if(0<e.getShaderPrecisionFormat(35633,36338).precision&&0<e.getShaderPrecisionFormat(35632,36338).precision)return"highp";t="mediump"}return"mediump"===t&&0<e.getShaderPrecisionFormat(35633,36337).precision&&0<e.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var i,o="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,a=void 0!==n.precision?n.precision:"highp",s=r(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s),n=!0===n.logarithmicDepthBuffer,s=e.getParameter(34930);var l=e.getParameter(35660),c=e.getParameter(3379),u=e.getParameter(34076),h=e.getParameter(34921),d=e.getParameter(36347),p=e.getParameter(36348),f=e.getParameter(36349),m=0<l,g=o||!!t.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==i)return i;var n=t.get("EXT_texture_filter_anisotropic");return i=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:r,precision:a,logarithmicDepthBuffer:n,maxTextures:s,maxVertexTextures:l,maxTextureSize:c,maxCubemapSize:u,maxAttributes:h,maxVertexUniforms:d,maxVaryings:p,maxFragmentUniforms:f,vertexTextures:m,floatFragmentTextures:g,floatVertexTextures:m&&g}}function J(){function e(){u.value!==r&&(u.value=r,u.needsUpdate=0<i),n.numPlanes=i,n.numIntersection=0}function t(e,t,r,i){var o=null!==e?e.length:0,a=null;if(0!==o){if(a=u.value,!0!==i||null===a)for(i=r+4*o,t=t.matrixWorldInverse,c.getNormalMatrix(t),(null===a||a.length<i)&&(a=new Float32Array(i)),i=0;i!==o;++i,r+=4)l.copy(e[i]).applyMatrix4(t,c),l.normal.toArray(a,r),a[r+3]=l.constant;u.value=a,u.needsUpdate=!0}return n.numPlanes=o,a}var n=this,r=null,i=0,o=!1,a=!1,l=new m,c=new s,u={value:null,needsUpdate:!1};this.uniform=u,this.numIntersection=this.numPlanes=0,this.init=function(e,n,a){var s=0!==e.length||n||0!==i||o;return o=n,r=t(e,a,0),i=e.length,s},this.beginShadows=function(){a=!0,t(null)},this.endShadows=function(){a=!1,e()},this.setState=function(n,s,l,c,h,d){if(!o||null===n||0===n.length||a&&!l)a?t(null):e();else{var p=4*(l=a?0:i),f=h.clippingState||null;for(u.value=f,f=t(n,c,p,d),n=0;n!==p;++n)f[n]=r[n];h.clippingState=f,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=l}}}function Q(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];switch(n){case"WEBGL_depth_texture":var r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r}}}function $(e,t,n){function r(e){var a=e.target;for(var s in null!==(e=i[a.id]).index&&t.remove(e.index),e.attributes)t.remove(e.attributes[s]);a.removeEventListener("dispose",r),delete i[a.id],(s=o[e.id])&&(t.remove(s),delete o[e.id]),n.memory.geometries--}var i={},o={};return{get:function(e,t){var o=i[t.id];return o||(t.addEventListener("dispose",r),t.isBufferGeometry?o=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new B).setFromObject(e)),o=t._bufferGeometry),i[t.id]=o,n.memory.geometries++,o)},update:function(e){var n=e.index,r=e.attributes;for(var i in null!==n&&t.update(n,34963),r)t.update(r[i],34962);for(i in e=e.morphAttributes){n=e[i],r=0;for(var o=n.length;r<o;r++)t.update(n[r],34962)}},getWireframeAttribute:function(e){var n=o[e.id];if(n)return n;n=[];var r=e.index,i=e.attributes;if(null!==r){r=r.array,i=0;for(var a=r.length;i<a;i+=3){var s=r[i+0],l=r[i+1],c=r[i+2];n.push(s,l,l,c,c,s)}}else for(r=i.position.array,i=0,a=r.length/3-1;i<a;i+=3)s=i+0,l=i+1,c=i+2,n.push(s,l,l,c,c,s);return n=new(65535<N(n)?I:k)(n,1),t.update(n,34963),o[e.id]=n}}}function ee(e,t,n,r){var i,o,a;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,o,t*a),n.update(r,i)},this.renderInstances=function(s,l,c){if(r.isWebGL2)var u=e;else if(null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](i,c,o,l*a,s.maxInstancedCount),n.update(c,i,s.maxInstancedCount)}}function te(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(r=r||1,t.calls++,n){case 4:t.triangles+=e/3*r;break;case 5:case 6:t.triangles+=r*(e-2);break;case 1:t.lines+=e/2*r;break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function ne(e,t){return Math.abs(t[1])-Math.abs(e[1])}function re(e){var t={},n=new Float32Array(8);return{update:function(r,i,o,a){var s=r.morphTargetInfluences,l=s.length;if(void 0===(r=t[i.id])){r=[];for(var c=0;c<l;c++)r[c]=[c,0];t[i.id]=r}var u=o.morphTargets&&i.morphAttributes.position;for(o=o.morphNormals&&i.morphAttributes.normal,c=0;c<l;c++){var h=r[c];0!==h[1]&&(u&&i.removeAttribute("morphTarget"+c),o&&i.removeAttribute("morphNormal"+c))}for(c=0;c<l;c++)(h=r[c])[0]=c,h[1]=s[c];for(r.sort(ne),c=0;8>c;c++)(h=r[c])&&(s=h[0],l=h[1])?(u&&i.addAttribute("morphTarget"+c,u[s]),o&&i.addAttribute("morphNormal"+c,o[s]),n[c]=l):n[c]=0;a.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function ie(e,t){var n={};return{update:function(r){var i=t.render.frame,o=r.geometry,a=e.get(r,o);return n[a.id]!==i&&(o.isGeometry&&a.updateFromObject(r),e.update(a),n[a.id]=i),a},dispose:function(){n={}}}}function oe(e,t,n,r,i,o,a,s,c,u){e=void 0!==e?e:[],l.call(this,e,void 0!==t?t:301,n,r,i,o,a,s,c,u),this.flipY=!1}function ae(e,t,n,r){l.call(this,null),this.image={data:e,width:t,height:n,depth:r},this.minFilter=this.magFilter=1003,this.flipY=this.generateMipmaps=!1}function se(e,t,n){var r=e[0];if(0>=r||0<r)return e;var i=t*n,o=fo[i];if(void 0===o&&(o=new Float32Array(i),fo[i]=o),0!==t)for(r.toArray(o,0),r=1,i=0;r!==t;++r)i+=n,e[r].toArray(o,i);return o}function le(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function ce(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function ue(e,t){var n=mo[t];void 0===n&&(n=new Int32Array(t),mo[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocTextureUnit();return n}function he(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function de(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function pe(e,t){var n=this.cache;void 0!==t.x?n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y):le(n,t)||(e.uniform2fv(this.addr,t),ce(n,t))}function fe(e,t){var n=this.cache;void 0!==t.x?n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z):void 0!==t.r?n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b):le(n,t)||(e.uniform3fv(this.addr,t),ce(n,t))}function me(e,t){var n=this.cache;void 0!==t.x?n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w):le(n,t)||(e.uniform4fv(this.addr,t),ce(n,t))}function ge(e,t){var n=this.cache,r=t.elements;void 0===r?le(n,t)||(e.uniformMatrix2fv(this.addr,!1,t),ce(n,t)):le(n,r)||(yo.set(r),e.uniformMatrix2fv(this.addr,!1,yo),ce(n,r))}function ve(e,t){var n=this.cache,r=t.elements;void 0===r?le(n,t)||(e.uniformMatrix3fv(this.addr,!1,t),ce(n,t)):le(n,r)||(vo.set(r),e.uniformMatrix3fv(this.addr,!1,vo),ce(n,r))}function ye(e,t){var n=this.cache,r=t.elements;void 0===r?le(n,t)||(e.uniformMatrix4fv(this.addr,!1,t),ce(n,t)):le(n,r)||(go.set(r),e.uniformMatrix4fv(this.addr,!1,go),ce(n,r))}function be(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||uo,i)}function xe(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||ho,i)}function _e(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||po,i)}function we(e,t){var n=this.cache;le(n,t)||(e.uniform2iv(this.addr,t),ce(n,t))}function Me(e,t){var n=this.cache;le(n,t)||(e.uniform3iv(this.addr,t),ce(n,t))}function Se(e,t){var n=this.cache;le(n,t)||(e.uniform4iv(this.addr,t),ce(n,t))}function Ce(e,t){var n=this.cache;le(n,t)||(e.uniform1fv(this.addr,t),ce(n,t))}function Ee(e,t){var n=this.cache;le(n,t)||(e.uniform1iv(this.addr,t),ce(n,t))}function Te(e,t){var n=this.cache;t=se(t,this.size,2),le(n,t)||(e.uniform2fv(this.addr,t),this.updateCache(t))}function Le(e,t){var n=this.cache;t=se(t,this.size,3),le(n,t)||(e.uniform3fv(this.addr,t),this.updateCache(t))}function Pe(e,t){var n=this.cache;t=se(t,this.size,4),le(n,t)||(e.uniform4fv(this.addr,t),this.updateCache(t))}function ke(e,t){var n=this.cache;t=se(t,this.size,4),le(n,t)||(e.uniformMatrix2fv(this.addr,!1,t),this.updateCache(t))}function Ae(e,t){var n=this.cache;t=se(t,this.size,9),le(n,t)||(e.uniformMatrix3fv(this.addr,!1,t),this.updateCache(t))}function Ie(e,t){var n=this.cache;t=se(t,this.size,16),le(n,t)||(e.uniformMatrix4fv(this.addr,!1,t),this.updateCache(t))}function Oe(e,t,n){var r=this.cache,i=t.length,o=ue(n,i);for(!1===le(r,o)&&(e.uniform1iv(this.addr,o),ce(r,o)),e=0;e!==i;++e)n.setTexture2D(t[e]||uo,o[e])}function Re(e,t,n){var r=this.cache,i=t.length,o=ue(n,i);for(!1===le(r,o)&&(e.uniform1iv(this.addr,o),ce(r,o)),e=0;e!==i;++e)n.setTextureCube(t[e]||po,o[e])}function De(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return he;case 35664:return pe;case 35665:return fe;case 35666:return me;case 35674:return ge;case 35675:return ve;case 35676:return ye;case 35678:case 36198:return be;case 35679:return xe;case 35680:return _e;case 5124:case 35670:return de;case 35667:case 35671:return we;case 35668:case 35672:return Me;case 35669:case 35673:return Se}}(t.type)}function Ne(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Ce;case 35664:return Te;case 35665:return Le;case 35666:return Pe;case 35674:return ke;case 35675:return Ae;case 35676:return Ie;case 35678:return Oe;case 35680:return Re;case 5124:case 35670:return Ee;case 35667:case 35671:return we;case 35668:case 35672:return Me;case 35669:case 35673:return Se}}(t.type)}function Be(e){this.id=e,this.seq=[],this.map={}}function Fe(e,t,n){this.seq=[],this.map={},this.renderer=n,n=e.getProgramParameter(t,35718);for(var r=0;r<n;++r){var i=e.getActiveUniform(t,r),o=e.getUniformLocation(t,i.name),a=this,s=i.name,l=s.length;for(bo.lastIndex=0;;){var c=bo.exec(s),u=bo.lastIndex,h=c[1],d=c[3];if("]"===c[2]&&(h|=0),void 0===d||"["===d&&u+2===l){s=a,i=void 0===d?new De(h,i,o):new Ne(h,i,o),s.seq.push(i),s.map[i.id]=i;break}void 0===(d=a.map[h])&&(d=new Be(h),h=a,a=d,h.seq.push(a),h.map[a.id]=a),a=d}}}function je(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),!1===e.getShaderParameter(r,35713)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",35633===t?"vertex":"fragment",e.getShaderInfoLog(r),function(e){e=e.split("\n");for(var t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join("\n")}(n)),r}function He(e){switch(e){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw Error("unsupported encoding: "+e)}}function ze(e,t){return t=He(t),"vec4 "+e+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function Ue(e){return""!==e}function Ge(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function Ve(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function We(e){return e.replace(/^[ \t]*#include +<([\w\d.\/]+)>/gm,function(e,t){if(void 0===(e=to[t]))throw Error("Can not resolve #include <"+t+">");return We(e)})}function qe(e){return e.replace(/#pragma unroll_loop[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(e,t,n,r){for(e="",t=parseInt(t);t<parseInt(n);t++)e+=r.replace(/\[ i \]/g,"[ "+t+" ]");return e})}function Ke(e,t,n,r,i,o,a){var s=e.context,l=r.defines,c=i.vertexShader,u=i.fragmentShader,h="SHADOWMAP_TYPE_BASIC";1===o.shadowMapType?h="SHADOWMAP_TYPE_PCF":2===o.shadowMapType&&(h="SHADOWMAP_TYPE_PCF_SOFT");var d="ENVMAP_TYPE_CUBE",p="ENVMAP_MODE_REFLECTION",f="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(r.envMap.mapping){case 301:case 302:d="ENVMAP_TYPE_CUBE";break;case 306:case 307:d="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:d="ENVMAP_TYPE_EQUIREC";break;case 305:d="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case 302:case 304:p="ENVMAP_MODE_REFRACTION"}switch(r.combine){case 0:f="ENVMAP_BLENDING_MULTIPLY";break;case 1:f="ENVMAP_BLENDING_MIX";break;case 2:f="ENVMAP_BLENDING_ADD"}}var m,g,v=0<e.gammaFactor?e.gammaFactor:1,y=a.isWebGL2?"":function(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap&&!t.objectSpaceNormalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ue).join("\n")}(r.extensions,o,t),b=function(e){var t,n=[];for(t in e){var r=e[t];!1!==r&&n.push("#define "+t+" "+r)}return n.join("\n")}(l),x=s.createProgram();return r.isRawShaderMaterial?(0<(l=[b].filter(Ue).join("\n")).length&&(l+="\n"),0<(t=[y,b].filter(Ue).join("\n")).length&&(t+="\n")):(l=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,b,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+v,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+p:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+h:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ue).join("\n"),t=[y,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,b,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+v,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+d:"",o.envMap?"#define "+p:"",o.envMap?"#define "+f:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+h:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&(a.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==o.toneMapping?"#define TONE_MAPPING":"",0!==o.toneMapping?to.tonemapping_pars_fragment:"",0!==o.toneMapping?function(e,t){switch(t){case 1:t="Linear";break;case 2:t="Reinhard";break;case 3:t="Uncharted2";break;case 4:t="OptimizedCineon";break;default:throw Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.matcapEncoding||o.envMapEncoding||o.emissiveMapEncoding?to.encodings_pars_fragment:"",o.mapEncoding?ze("mapTexelToLinear",o.mapEncoding):"",o.matcapEncoding?ze("matcapTexelToLinear",o.matcapEncoding):"",o.envMapEncoding?ze("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?ze("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?function(e,t){return t=He(t),"vec4 "+e+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}("linearToOutputTexel",o.outputEncoding):"",o.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(Ue).join("\n")),c=Ve(c=Ge(c=We(c),o),o),u=Ve(u=Ge(u=We(u),o),o),c=qe(c),u=qe(u),a.isWebGL2&&!r.isRawShaderMaterial&&(a=!1,h=/^\s*#version\s+300\s+es\s*\n/,r.isShaderMaterial&&null!==c.match(h)&&null!==u.match(h)&&(a=!0,c=c.replace(h,""),u=u.replace(h,"")),l="#version 300 es\n\n#define attribute in\n#define varying out\n#define texture2D texture\n"+l,t=["#version 300 es\n\n#define varying in",a?"":"out highp vec4 pc_fragColor;",a?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+t),u=t+u,c=je(s,35633,l+c),u=je(s,35632,u),s.attachShader(x,c),s.attachShader(x,u),void 0!==r.index0AttributeName?s.bindAttribLocation(x,0,r.index0AttributeName):!0===o.morphTargets&&s.bindAttribLocation(x,0,"position"),s.linkProgram(x),o=s.getProgramInfoLog(x).trim(),a=s.getShaderInfoLog(c).trim(),h=s.getShaderInfoLog(u).trim(),p=d=!0,!1===s.getProgramParameter(x,35714)?(d=!1,console.error("THREE.WebGLProgram: shader error: ",s.getError(),"35715",s.getProgramParameter(x,35715),"gl.getProgramInfoLog",o,a,h)):""!==o?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",o):""!==a&&""!==h||(p=!1),p&&(this.diagnostics={runnable:d,material:r,programLog:o,vertexShader:{log:a,prefix:l},fragmentShader:{log:h,prefix:t}}),s.deleteShader(c),s.deleteShader(u),this.getUniforms=function(){return void 0===m&&(m=new Fe(s,x,e)),m},this.getAttributes=function(){if(void 0===g){for(var e={},t=s.getProgramParameter(x,35721),n=0;n<t;n++){var r=s.getActiveAttrib(x,n).name;e[r]=s.getAttribLocation(x,r)}g=e}return g},this.destroy=function(){s.deleteProgram(x),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=i.name,this.id=xo++,this.code=n,this.usedTimes=1,this.program=x,this.vertexShader=c,this.fragmentShader=u,this}function Xe(e,t,n){function r(e,t){if(e)e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding);else var n=3e3;return 3e3===n&&t&&(n=3007),n}var i=[],o={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},a="precision supportsVertexTextures map mapEncoding matcapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap objectSpaceNormalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering".split(" ");this.getParameters=function(t,i,a,s,l,c,u){var h=o[t.type];if(u.isSkinnedMesh){var d=u.skeleton.bones;if(n.floatVertexTextures)d=1024;else{var p=Math.min(Math.floor((n.maxVertexUniforms-20)/4),d.length);p<d.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+d.length+" bones. This GPU supports "+p+"."),d=0):d=p}}else d=0;p=n.precision,null!==t.precision&&(p=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",p,"instead.");var f=e.getRenderTarget();return{shaderID:h,precision:p,supportsVertexTextures:n.vertexTextures,outputEncoding:r(f?f.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:r(t.map,e.gammaInput),matcap:!!t.matcap,matcapEncoding:r(t.matcap,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:r(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(306===t.envMap.mapping||307===t.envMap.mapping),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:r(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:1===t.normalMapType,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!s,useFog:t.fog,fogExp:s&&s.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&0<d,maxBones:d,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:i.directional.length,numPointLights:i.point.length,numSpotLights:i.spot.length,numRectAreaLights:i.rectArea.length,numHemiLights:i.hemi.length,numClippingPlanes:l,numClipIntersection:c,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.receiveShadow&&0<a.length,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:2===t.side,flipSided:1===t.side,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)r.push(i),r.push(t.defines[i]);for(i=0;i<a.length;i++)r.push(n[a[i]]);return r.push(t.onBeforeCompile.toString()),r.push(e.gammaOutput),r.push(e.gammaFactor),r.join()},this.acquireProgram=function(r,o,a,s){for(var l,c=0,u=i.length;c<u;c++){var h=i[c];if(h.code===s){++(l=h).usedTimes;break}}return void 0===l&&(l=new Ke(e,t,s,r,o,a,n),i.push(l)),l},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=i.indexOf(e);i[t]=i[i.length-1],i.pop(),e.destroy()}},this.programs=i}function Ye(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Ze(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Je(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Qe(){var e=[],t=0,n=[],r=[];return{opaque:n,transparent:r,init:function(){t=0,n.length=0,r.length=0},push:function(i,o,a,s,l){var c=e[t];void 0===c?(c={id:i.id,object:i,geometry:o,material:a,program:a.program,renderOrder:i.renderOrder,z:s,group:l},e[t]=c):(c.id=i.id,c.object=i,c.geometry=o,c.material=a,c.program=a.program,c.renderOrder=i.renderOrder,c.z=s,c.group=l),(!0===a.transparent?r:n).push(c),t++},sort:function(){1<n.length&&n.sort(Ze),1<r.length&&r.sort(Je)}}}function $e(){var e={};return{get:function(t,n){return t=t.id+","+n.id,void 0===(n=e[t])&&(n=new Qe,e[t]=n),n},dispose:function(){e={}}}}function et(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];switch(t.type){case"DirectionalLight":var n={direction:new a,color:new v,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r};break;case"SpotLight":n={position:new a,direction:new a,color:new v,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r};break;case"PointLight":n={position:new a,color:new v,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new a,skyColor:new v,groundColor:new v};break;case"RectAreaLight":n={color:new v,position:new a,halfWidth:new a,halfHeight:new a}}return e[t.id]=n}}}function tt(){var e=new et,t={id:_o++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new a,r=new i,o=new i;return{setup:function(i,a,s){var l=0,c=0,u=0,h=0,d=0,p=0,f=0,m=0;s=s.matrixWorldInverse;for(var g=0,v=i.length;g<v;g++){var y=i[g],b=y.color,x=y.intensity,_=y.distance,w=y.shadow&&y.shadow.map?y.shadow.map.texture:null;if(y.isAmbientLight)l+=b.r*x,c+=b.g*x,u+=b.b*x;else if(y.isDirectionalLight){var M=e.get(y);M.color.copy(y.color).multiplyScalar(y.intensity),M.direction.setFromMatrixPosition(y.matrixWorld),n.setFromMatrixPosition(y.target.matrixWorld),M.direction.sub(n),M.direction.transformDirection(s),(M.shadow=y.castShadow)&&(b=y.shadow,M.shadowBias=b.bias,M.shadowRadius=b.radius,M.shadowMapSize=b.mapSize),t.directionalShadowMap[h]=w,t.directionalShadowMatrix[h]=y.shadow.matrix,t.directional[h]=M,h++}else y.isSpotLight?((M=e.get(y)).position.setFromMatrixPosition(y.matrixWorld),M.position.applyMatrix4(s),M.color.copy(b).multiplyScalar(x),M.distance=_,M.direction.setFromMatrixPosition(y.matrixWorld),n.setFromMatrixPosition(y.target.matrixWorld),M.direction.sub(n),M.direction.transformDirection(s),M.coneCos=Math.cos(y.angle),M.penumbraCos=Math.cos(y.angle*(1-y.penumbra)),M.decay=y.decay,(M.shadow=y.castShadow)&&(b=y.shadow,M.shadowBias=b.bias,M.shadowRadius=b.radius,M.shadowMapSize=b.mapSize),t.spotShadowMap[p]=w,t.spotShadowMatrix[p]=y.shadow.matrix,t.spot[p]=M,p++):y.isRectAreaLight?((M=e.get(y)).color.copy(b).multiplyScalar(x),M.position.setFromMatrixPosition(y.matrixWorld),M.position.applyMatrix4(s),o.identity(),r.copy(y.matrixWorld),r.premultiply(s),o.extractRotation(r),M.halfWidth.set(.5*y.width,0,0),M.halfHeight.set(0,.5*y.height,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),t.rectArea[f]=M,f++):y.isPointLight?((M=e.get(y)).position.setFromMatrixPosition(y.matrixWorld),M.position.applyMatrix4(s),M.color.copy(y.color).multiplyScalar(y.intensity),M.distance=y.distance,M.decay=y.decay,(M.shadow=y.castShadow)&&(b=y.shadow,M.shadowBias=b.bias,M.shadowRadius=b.radius,M.shadowMapSize=b.mapSize,M.shadowCameraNear=b.camera.near,M.shadowCameraFar=b.camera.far),t.pointShadowMap[d]=w,t.pointShadowMatrix[d]=y.shadow.matrix,t.point[d]=M,d++):y.isHemisphereLight&&((M=e.get(y)).direction.setFromMatrixPosition(y.matrixWorld),M.direction.transformDirection(s),M.direction.normalize(),M.skyColor.copy(y.color).multiplyScalar(x),M.groundColor.copy(y.groundColor).multiplyScalar(x),t.hemi[m]=M,m++)}t.ambient[0]=l,t.ambient[1]=c,t.ambient[2]=u,t.directional.length=h,t.spot.length=p,t.rectArea.length=f,t.point.length=d,t.hemi.length=m,t.hash.stateID=t.id,t.hash.directionalLength=h,t.hash.pointLength=d,t.hash.spotLength=p,t.hash.rectAreaLength=f,t.hash.hemiLength=m,t.hash.shadowsLength=a.length},state:t}}function nt(){var e=new tt,t=[],n=[];return{init:function(){t.length=0,n.length=0},state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:function(r){e.setup(t,n,r)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function rt(){var e={};return{get:function(t,n){if(void 0===e[t.id]){var r=new nt;e[t.id]={},e[t.id][n.id]=r}else void 0===e[t.id][n.id]?(r=new nt,e[t.id][n.id]=r):r=e[t.id][n.id];return r},dispose:function(){e={}}}}function it(e){U.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.lights=this.fog=!1,this.setValues(e)}function ot(e){U.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new a,this.nearDistance=1,this.farDistance=1e3,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.lights=this.fog=!1,this.setValues(e)}function at(e,t,n){function o(t,n,r,i,o,a){var s=t.geometry,l=v,c=t.customDepthMaterial;return r&&(l=y,c=t.customDistanceMaterial),c?l=c:(c=!1,n.morphTargets&&(s&&s.isBufferGeometry?c=s.morphAttributes&&s.morphAttributes.position&&0<s.morphAttributes.position.length:s&&s.isGeometry&&(c=s.morphTargets&&0<s.morphTargets.length)),t.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t),t=t.isSkinnedMesh&&n.skinning,s=0,c&&(s|=1),t&&(s|=2),l=l[s]),e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length&&(s=l.uuid,c=n.uuid,void 0===(t=b[s])&&(t={},b[s]=t),void 0===(s=t[c])&&(s=l.clone(),t[c]=s),l=s),l.visible=n.visible,l.wireframe=n.wireframe,l.side=null!=n.shadowSide?n.shadowSide:x[n.side],l.clipShadows=n.clipShadows,l.clippingPlanes=n.clippingPlanes,l.clipIntersection=n.clipIntersection,l.wireframeLinewidth=n.wireframeLinewidth,l.linewidth=n.linewidth,r&&l.isMeshDistanceMaterial&&(l.referencePosition.copy(i),l.nearDistance=o,l.farDistance=a),l}function s(n,r,i,a){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||l.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,n.matrixWorld);var c=t.update(n),u=n.material;if(Array.isArray(u))for(var h=c.groups,d=0,p=h.length;d<p;d++){var f=h[d],g=u[f.materialIndex];g&&g.visible&&(g=o(n,g,a,m,i.near,i.far),e.renderBufferDirect(i,null,c,g,n,f))}else u.visible&&(g=o(n,u,a,m,i.near,i.far),e.renderBufferDirect(i,null,c,g,n,null))}for(n=n.children,c=0,u=n.length;c<u;c++)s(n[c],r,i,a)}}var l=new g,h=new i,d=new r,p=new r(n,n),f=new a,m=new a,v=Array(4),y=Array(4),b={},x={0:1,1:0,2:2},_=[new a(1,0,0),new a(-1,0,0),new a(0,0,1),new a(0,0,-1),new a(0,1,0),new a(0,-1,0)],w=[new a(0,1,0),new a(0,1,0),new a(0,1,0),new a(0,1,0),new a(0,0,1),new a(0,0,-1)],M=[new c,new c,new c,new c,new c,new c];for(n=0;4!==n;++n){var S=0!=(1&n),C=0!=(2&n),E=new it({depthPacking:3201,morphTargets:S,skinning:C});v[n]=E,S=new ot({morphTargets:S,skinning:C}),y[n]=S}var T=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,n,r){if(!1!==T.enabled&&(!1!==T.autoUpdate||!1!==T.needsUpdate)&&0!==t.length){var i=e.state;i.disable(3042),i.buffers.color.setClear(1,1,1,1),i.buffers.depth.setTest(!0),i.setScissorTest(!1);for(var o,a=0,c=t.length;a<c;a++){var g=t[a];o=g.shadow;var v=g&&g.isPointLight;if(void 0===o)console.warn("THREE.WebGLShadowMap:",g,"has no shadow.");else{var y=o.camera;if(d.copy(o.mapSize),d.min(p),v){var b=d.x,x=d.y;M[0].set(2*b,x,b,x),M[1].set(0,x,b,x),M[2].set(3*b,x,b,x),M[3].set(b,x,b,x),M[4].set(3*b,0,b,x),M[5].set(b,0,b,x),d.x*=4,d.y*=2}for(null===o.map&&(o.map=new u(d.x,d.y,{minFilter:1003,magFilter:1003,format:1023}),o.map.texture.name=g.name+".shadowMap",y.updateProjectionMatrix()),o.isSpotLightShadow&&o.update(g),b=o.map,x=o.matrix,m.setFromMatrixPosition(g.matrixWorld),y.position.copy(m),v?(o=6,x.makeTranslation(-m.x,-m.y,-m.z)):(o=1,f.setFromMatrixPosition(g.target.matrixWorld),y.lookAt(f),y.updateMatrixWorld(),x.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),x.multiply(y.projectionMatrix),x.multiply(y.matrixWorldInverse)),e.setRenderTarget(b),e.clear(),g=0;g<o;g++)v&&(f.copy(y.position),f.add(_[g]),y.up.copy(w[g]),y.lookAt(f),y.updateMatrixWorld(),i.viewport(M[g])),h.multiplyMatrices(y.projectionMatrix,y.matrixWorldInverse),l.setFromMatrix(h),s(n,r,y,v)}}T.needsUpdate=!1}}}function st(e,t,n,r){function i(t,n,r){var i=new Uint8Array(4),o=e.createTexture();for(e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728),t=0;t<r;t++)e.texImage2D(n+t,0,6408,1,1,0,6408,5121,i);return o}function o(n,i){y[n]=1,0===b[n]&&(e.enableVertexAttribArray(n),b[n]=1),x[n]!==i&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),x[n]=i)}function a(t){!0!==_[t]&&(e.enable(t),_[t]=!0)}function s(t){!1!==_[t]&&(e.disable(t),_[t]=!1)}function l(t,r,i,o,l,c,u,h){if(0===t)S&&(s(3042),S=!1);else if(S||(a(3042),S=!0),5!==t){if(t!==C||h!==I){if(100===E&&100===P||(e.blendEquation(32774),P=E=100),h)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,0,769,771);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFunc(0,769);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}A=k=L=T=null,C=t,I=h}}else l=l||r,c=c||i,u=u||o,r===E&&l===P||(e.blendEquationSeparate(n.convert(r),n.convert(l)),E=r,P=l),i===T&&o===L&&c===k&&u===A||(e.blendFuncSeparate(n.convert(i),n.convert(o),n.convert(c),n.convert(u)),T=i,L=o,k=c,A=u),C=t,I=null}function u(t){O!==t&&(t?e.frontFace(2304):e.frontFace(2305),O=t)}function h(t){0!==t?(a(2884),t!==R&&(1===t?e.cullFace(1029):2===t?e.cullFace(1028):e.cullFace(1032))):s(2884),R=t}function d(t,n,r){t?(a(32823),(N!==n||B!==r)&&(e.polygonOffset(n,r),N=n,B=r)):s(32823)}function p(t){void 0===t&&(t=33984+F-1),H!==t&&(e.activeTexture(t),H=t)}var f=new function(){var t=!1,n=new c,r=null,i=new c(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},m=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?a(2929):s(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,i=r=n=null}}},g=new function(){var t=!1,n=null,r=null,i=null,o=null,l=null,c=null,u=null,h=null;return{setTest:function(e){e?a(2960):s(2960)},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){l===t&&c===n&&u===r||(e.stencilOp(t,n,r),l=t,c=n,u=r)},setLocked:function(e){t=e},setClear:function(t){h!==t&&(e.clearStencil(t),h=t)},reset:function(){t=!1,h=u=c=l=o=i=r=n=null}}},v=e.getParameter(34921),y=new Uint8Array(v),b=new Uint8Array(v),x=new Uint8Array(v),_={},w=null,M=null,S=null,C=null,E=null,T=null,L=null,P=null,k=null,A=null,I=!1,O=null,R=null,D=null,N=null,B=null,F=e.getParameter(35661),j=!1;v=0,-1!==(v=e.getParameter(7938)).indexOf("WebGL")?(v=parseFloat(/^WebGL ([0-9])/.exec(v)[1]),j=1<=v):-1!==v.indexOf("OpenGL ES")&&(v=parseFloat(/^OpenGL ES ([0-9])/.exec(v)[1]),j=2<=v);var H=null,z={},U=new c,G=new c,V={};return V[3553]=i(3553,3553,1),V[34067]=i(34067,34069,6),f.setClear(0,0,0,1),m.setClear(1),g.setClear(0),a(2929),m.setFunc(3),u(!1),h(1),a(2884),l(0),{buffers:{color:f,depth:m,stencil:g},initAttributes:function(){for(var e=0,t=y.length;e<t;e++)y[e]=0},enableAttribute:function(e){o(e,0)},enableAttributeAndDivisor:o,disableUnusedAttributes:function(){for(var t=0,n=b.length;t!==n;++t)b[t]!==y[t]&&(e.disableVertexAttribArray(t),b[t]=0)},enable:a,disable:s,getCompressedTextureFormats:function(){if(null===w&&(w=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")||t.get("WEBGL_compressed_texture_astc")))for(var n=e.getParameter(34467),r=0;r<n.length;r++)w.push(n[r]);return w},useProgram:function(t){return M!==t&&(e.useProgram(t),M=t,!0)},setBlending:l,setMaterial:function(e,t){2===e.side?s(2884):a(2884);var n=1===e.side;t&&(n=!n),u(n),1===e.blending&&!1===e.transparent?l(0):l(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),m.setFunc(e.depthFunc),m.setTest(e.depthTest),m.setMask(e.depthWrite),f.setMask(e.colorWrite),d(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:u,setCullFace:h,setLineWidth:function(t){t!==D&&(j&&e.lineWidth(t),D=t)},setPolygonOffset:d,setScissorTest:function(e){e?a(3089):s(3089)},activeTexture:p,bindTexture:function(t,n){null===H&&p();var r=z[H];void 0===r&&(r={type:void 0,texture:void 0},z[H]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||V[t]),r.type=t,r.texture=n)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===U.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),U.copy(t))},viewport:function(t){!1===G.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),G.copy(t))},reset:function(){for(var t=0;t<b.length;t++)1===b[t]&&(e.disableVertexAttribArray(t),b[t]=0);_={},H=w=null,z={},R=O=C=M=null,f.reset(),m.reset(),g.reset()}}}function lt(e,t,n,r,i,o,a){function s(e,t){if(e.width>t||e.height>t){if("data"in e)return void console.warn("THREE.WebGLRenderer: image in DataTexture is too big ("+e.width+"x"+e.height+").");t/=Math.max(e.width,e.height);var n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return n.width=Math.floor(e.width*t),n.height=Math.floor(e.height*t),n.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,n.width,n.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+n.width+"x"+n.height),n}return e}function l(e){return Qi.isPowerOfTwo(e.width)&&Qi.isPowerOfTwo(e.height)}function c(e,t){return e.generateMipmaps&&t&&1003!==e.minFilter&&1006!==e.minFilter}function u(t,n,i,o){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function h(e,t){if(!i.isWebGL2)return e;if(6403===e){if(5126===t)return 33326;if(5131===t)return 33325;if(5121===t)return 33321}if(6407===e){if(5126===t)return 34837;if(5131===t)return 34843;if(5121===t)return 32849}if(6408===e){if(5126===t)return 34836;if(5131===t)return 34842;if(5121===t)return 32856}return e}function d(e){return 1003===e||1004===e||1005===e?9728:9729}function p(t){(t=t.target).removeEventListener("dispose",p);e:{var n=r.get(t);if(t.image&&n.__image__webglTextureCube)e.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)break e;e.deleteTexture(n.__webglTexture)}r.remove(t)}t.isVideoTexture&&delete _[t.id],a.memory.textures--}function f(t){(t=t.target).removeEventListener("dispose",f);var n=r.get(t),i=r.get(t.texture);if(t){if(void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLRenderTargetCube)for(i=0;6>i;i++)e.deleteFramebuffer(n.__webglFramebuffer[i]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[i]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(t.texture),r.remove(t)}a.memory.textures--}function m(e,t){var i=r.get(e);if(e.isVideoTexture){var o=e.id,s=a.render.frame;_[o]!==s&&(_[o]=s,e.update())}if(0<e.version&&i.__version!==e.version)if(void 0===(o=e.image))console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void v(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function g(n,a,s){s?(e.texParameteri(n,10242,o.convert(a.wrapS)),e.texParameteri(n,10243,o.convert(a.wrapT)),e.texParameteri(n,10240,o.convert(a.magFilter)),e.texParameteri(n,10241,o.convert(a.minFilter))):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),1001===a.wrapS&&1001===a.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,d(a.magFilter)),e.texParameteri(n,10241,d(a.minFilter)),1003!==a.minFilter&&1006!==a.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!(s=t.get("EXT_texture_filter_anisotropic"))||1015===a.type&&null===t.get("OES_texture_float_linear")||1016===a.type&&null===(i.isWebGL2||t.get("OES_texture_half_float_linear"))||!(1<a.anisotropy||r.get(a).__currentAnisotropy)||(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}function v(t,r,d){var f=r.isDataTexture3D?32879:3553;void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",p),t.__webglTexture=e.createTexture(),a.memory.textures++),n.activeTexture(33984+d),n.bindTexture(f,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),d=s(r.image,i.maxTextureSize);var m=!i.isWebGL2&&(1001!==r.wrapS||1001!==r.wrapT||1003!==r.minFilter&&1006!==r.minFilter);m&&!1===l(d)&&(d instanceof HTMLImageElement||d instanceof HTMLCanvasElement||d instanceof ImageBitmap)&&(void 0===x&&(x=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),x.width=Qi.floorPowerOfTwo(d.width),x.height=Qi.floorPowerOfTwo(d.height),x.getContext("2d").drawImage(d,0,0,x.width,x.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+d.width+"x"+d.height+"). Resized to "+x.width+"x"+x.height),d=x),m=l(d);var v=o.convert(r.format),y=o.convert(r.type),b=h(v,y);g(f,r,m);var _=r.mipmaps;if(r.isDepthTexture){if(b=6402,1015===r.type){if(!i.isWebGL2)throw Error("Float Depth Texture only supported in WebGL2.0");b=36012}else i.isWebGL2&&(b=33189);1026===r.format&&6402===b&&1012!==r.type&&1014!==r.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=1012,y=o.convert(r.type)),1027===r.format&&(b=34041,1020!==r.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=1020,y=o.convert(r.type))),n.texImage2D(3553,0,b,d.width,d.height,0,v,y,null)}else if(r.isDataTexture)if(0<_.length&&m){for(var w=0,M=_.length;w<M;w++)f=_[w],n.texImage2D(3553,w,b,f.width,f.height,0,v,y,f.data);r.generateMipmaps=!1,t.__maxMipLevel=_.length-1}else n.texImage2D(3553,0,b,d.width,d.height,0,v,y,d.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(w=0,M=_.length;w<M;w++)f=_[w],1023!==r.format&&1022!==r.format?-1<n.getCompressedTextureFormats().indexOf(v)?n.compressedTexImage2D(3553,w,b,f.width,f.height,0,f.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,w,b,f.width,f.height,0,v,y,f.data);t.__maxMipLevel=_.length-1}else if(r.isDataTexture3D)n.texImage3D(32879,0,b,d.width,d.height,d.depth,0,v,y,d.data),t.__maxMipLevel=0;else if(0<_.length&&m){for(w=0,M=_.length;w<M;w++)f=_[w],n.texImage2D(3553,w,b,v,y,f);r.generateMipmaps=!1,t.__maxMipLevel=_.length-1}else n.texImage2D(3553,0,b,v,y,d),t.__maxMipLevel=0;c(r,m)&&u(3553,r,d.width,d.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function y(t,i,a,s){var l=o.convert(i.texture.format),c=o.convert(i.texture.type),u=h(l,c);n.texImage2D(s,0,u,i.width,i.height,0,l,c,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,a,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function b(t,n){e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer?(e.renderbufferStorage(36161,33189,n.width,n.height),e.framebufferRenderbuffer(36160,36096,36161,t)):n.depthBuffer&&n.stencilBuffer?(e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)):e.renderbufferStorage(36161,32854,n.width,n.height),e.bindRenderbuffer(36161,null)}var x,_={};this.setTexture2D=m,this.setTexture3D=function(e,t){var i=r.get(e);0<e.version&&i.__version!==e.version?v(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=function(t,d){var f=r.get(t);if(6===t.image.length)if(0<t.version&&f.__version!==t.version){f.__image__webglTextureCube||(t.addEventListener("dispose",p),f.__image__webglTextureCube=e.createTexture(),a.memory.textures++),n.activeTexture(33984+d),n.bindTexture(34067,f.__image__webglTextureCube),e.pixelStorei(37440,t.flipY),d=t&&t.isCompressedTexture;for(var m=t.image[0]&&t.image[0].isDataTexture,v=[],y=0;6>y;y++)v[y]=d||m?m?t.image[y].image:t.image[y]:s(t.image[y],i.maxCubemapSize);var b=v[0],x=l(b),_=o.convert(t.format),w=o.convert(t.type),M=h(_,w);for(g(34067,t,x),y=0;6>y;y++)if(d)for(var S,C=v[y].mipmaps,E=0,T=C.length;E<T;E++)S=C[E],1023!==t.format&&1022!==t.format?-1<n.getCompressedTextureFormats().indexOf(_)?n.compressedTexImage2D(34069+y,E,M,S.width,S.height,0,S.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+y,E,M,S.width,S.height,0,_,w,S.data);else m?n.texImage2D(34069+y,0,M,v[y].width,v[y].height,0,_,w,v[y].data):n.texImage2D(34069+y,0,M,_,w,v[y]);f.__maxMipLevel=d?C.length-1:0,c(t,x)&&u(34067,t,b.width,b.height),f.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(33984+d),n.bindTexture(34067,f.__image__webglTextureCube)},this.setTextureCubeDynamic=function(e,t){n.activeTexture(33984+t),n.bindTexture(34067,r.get(e).__webglTexture)},this.setupRenderTarget=function(t){var i=r.get(t),o=r.get(t.texture);t.addEventListener("dispose",f),o.__webglTexture=e.createTexture(),a.memory.textures++;var s=!0===t.isWebGLRenderTargetCube,h=l(t);if(s){i.__webglFramebuffer=[];for(var d=0;6>d;d++)i.__webglFramebuffer[d]=e.createFramebuffer()}else i.__webglFramebuffer=e.createFramebuffer();if(s){for(n.bindTexture(34067,o.__webglTexture),g(34067,t.texture,h),d=0;6>d;d++)y(i.__webglFramebuffer[d],t,36064,34069+d);c(t.texture,h)&&u(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,o.__webglTexture),g(3553,t.texture,h),y(i.__webglFramebuffer,t,36064,3553),c(t.texture,h)&&u(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);if(t.depthBuffer){if(i=r.get(t),o=!0===t.isWebGLRenderTargetCube,t.depthTexture){if(o)throw Error("target.depthTexture not supported in Cube render targets");if(t&&t.isWebGLRenderTargetCube)throw Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,i.__webglFramebuffer),!t.depthTexture||!t.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");if(r.get(t.depthTexture).__webglTexture&&t.depthTexture.image.width===t.width&&t.depthTexture.image.height===t.height||(t.depthTexture.image.width=t.width,t.depthTexture.image.height=t.height,t.depthTexture.needsUpdate=!0),m(t.depthTexture,0),i=r.get(t.depthTexture).__webglTexture,1026===t.depthTexture.format)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(1027!==t.depthTexture.format)throw Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}else if(o)for(i.__webglDepthbuffer=[],o=0;6>o;o++)e.bindFramebuffer(36160,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=e.createRenderbuffer(),b(i.__webglDepthbuffer[o],t);else e.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),b(i.__webglDepthbuffer,t);e.bindFramebuffer(36160,null)}},this.updateRenderTargetMipmap=function(e){var t=e.texture,i=l(e);if(c(t,i)){i=e.isWebGLRenderTargetCube?34067:3553;var o=r.get(t).__webglTexture;n.bindTexture(i,o),u(i,t,e.width,e.height),n.bindTexture(i,null)}}}function ct(e,t,n){return{convert:function(e){if(1e3===e)return 10497;if(1001===e)return 33071;if(1002===e)return 33648;if(1003===e)return 9728;if(1004===e)return 9984;if(1005===e)return 9986;if(1006===e)return 9729;if(1007===e)return 9985;if(1008===e)return 9987;if(1009===e)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(1012===e)return 5123;if(1013===e)return 5124;if(1014===e)return 5125;if(1015===e)return 5126;if(1016===e){if(n.isWebGL2)return 5131;var r=t.get("OES_texture_half_float");if(null!==r)return r.HALF_FLOAT_OES}if(1021===e)return 6406;if(1022===e)return 6407;if(1023===e)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(1026===e)return 6402;if(1027===e)return 34041;if(1028===e)return 6403;if(100===e)return 32774;if(101===e)return 32778;if(102===e)return 32779;if(200===e)return 0;if(201===e)return 1;if(202===e)return 768;if(203===e)return 769;if(204===e)return 770;if(205===e)return 771;if(206===e)return 772;if(207===e)return 773;if(208===e)return 774;if(209===e)return 775;if(210===e)return 776;if((33776===e||33777===e||33778===e||33779===e)&&null!==(r=t.get("WEBGL_compressed_texture_s3tc"))){if(33776===e)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===e)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===e)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===e)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((35840===e||35841===e||35842===e||35843===e)&&null!==(r=t.get("WEBGL_compressed_texture_pvrtc"))){if(35840===e)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===e)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===e)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===e)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===e&&null!==(r=t.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e)&&null!==(r=t.get("WEBGL_compressed_texture_astc")))return e;if(103===e||104===e){if(n.isWebGL2){if(103===e)return 32775;if(104===e)return 32776}if(null!==(r=t.get("EXT_blend_minmax"))){if(103===e)return r.MIN_EXT;if(104===e)return r.MAX_EXT}}if(1020===e){if(n.isWebGL2)return 34042;if(null!==(r=t.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function ut(){M.call(this),this.type="Group"}function ht(){M.call(this),this.type="Camera",this.matrixWorldInverse=new i,this.projectionMatrix=new i,this.projectionMatrixInverse=new i}function dt(e,t,n,r){ht.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function pt(e){dt.call(this),this.cameras=e||[]}function ft(e,t,n){Mo.setFromMatrixPosition(t.matrixWorld),So.setFromMatrixPosition(n.matrixWorld);var r=Mo.distanceTo(So),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1);n=i[14]/(i[10]+1);var s=(i[9]+1)/i[5],l=(i[9]-1)/i[5],c=(i[8]-1)/i[0],u=(o[8]+1)/o[0];i=a*c,o=a*u,c=(u=r/(-c+u))*-c,t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(c),e.translateZ(u),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld),t=a+u,a=n+u,e.projectionMatrix.makePerspective(i-c,o+(r-c),s*n/a*t,l*n/a*t,t,a)}function mt(e){function t(){return null!==s&&!0===s.isPresenting}function n(){if(t()){var n=s.getEyeParameters("left"),i=n.renderWidth*f;n=n.renderHeight*f,S=e.getPixelRatio(),M=e.getSize(),e.setDrawingBufferSize(2*i,n,1),E.start()}else r.enabled&&e.setDrawingBufferSize(M.width,M.height,S),E.stop()}var r=this,s=null,l=null,u=null,h=[],d=new i,p=new i,f=1,m="stage";"undefined"!=typeof window&&"VRFrameData"in window&&(l=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",n,!1));var g=new i,v=new o,b=new a,x=new dt;x.bounds=new c(0,0,.5,1),x.layers.enable(1);var _=new dt;_.bounds=new c(.5,0,.5,1),_.layers.enable(2);var w=new pt([x,_]);w.layers.enable(1),w.layers.enable(2);var M,S,C=[];this.enabled=!1,this.getController=function(e){var t=h[e];return void 0===t&&((t=new ut).matrixAutoUpdate=!1,t.visible=!1,h[e]=t),t},this.getDevice=function(){return s},this.setDevice=function(e){void 0!==e&&(s=e),E.setContext(e)},this.setFramebufferScaleFactor=function(e){f=e},this.setFrameOfReferenceType=function(e){m=e},this.setPoseTarget=function(e){void 0!==e&&(u=e)},this.getCamera=function(e){var t="stage"===m?1.6:0;if(null===s)return e.position.set(0,t,0),e;if(s.depthNear=e.near,s.depthFar=e.far,s.getFrameData(l),"stage"===m){var n=s.stageParameters;n?d.fromArray(n.sittingToStandingTransform):d.makeTranslation(0,t,0)}if(t=l.pose,(n=null!==u?u:e).matrix.copy(d),n.matrix.decompose(n.position,n.quaternion,n.scale),null!==t.orientation&&(v.fromArray(t.orientation),n.quaternion.multiply(v)),null!==t.position&&(v.setFromRotationMatrix(d),b.fromArray(t.position),b.applyQuaternion(v),n.position.add(b)),n.updateMatrixWorld(),!1===s.isPresenting)return e;x.near=e.near,_.near=e.near,x.far=e.far,_.far=e.far,x.matrixWorldInverse.fromArray(l.leftViewMatrix),_.matrixWorldInverse.fromArray(l.rightViewMatrix),p.getInverse(d),"stage"===m&&(x.matrixWorldInverse.multiply(p),_.matrixWorldInverse.multiply(p)),null!==(e=n.parent)&&(g.getInverse(e.matrixWorld),x.matrixWorldInverse.multiply(g),_.matrixWorldInverse.multiply(g)),x.matrixWorld.getInverse(x.matrixWorldInverse),_.matrixWorld.getInverse(_.matrixWorldInverse),x.projectionMatrix.fromArray(l.leftProjectionMatrix),_.projectionMatrix.fromArray(l.rightProjectionMatrix),ft(w,x,_),(e=s.getLayers()).length&&(null!==(e=e[0]).leftBounds&&4===e.leftBounds.length&&x.bounds.fromArray(e.leftBounds),null!==e.rightBounds&&4===e.rightBounds.length&&_.bounds.fromArray(e.rightBounds));e:for(e=0;e<h.length;e++){t=h[e];t:{n=e;for(var r=navigator.getGamepads&&navigator.getGamepads(),i=0,o=0,a=r.length;i<a;i++){var c=r[i];if(c&&("Daydream Controller"===c.id||"Gear VR Controller"===c.id||"Oculus Go Controller"===c.id||"OpenVR Gamepad"===c.id||c.id.startsWith("Oculus Touch")||c.id.startsWith("Spatial Controller"))){if(o===n){n=c;break t}o++}}n=void 0}if(void 0!==n&&void 0!==n.pose){if(null===n.pose)break e;!1===(r=n.pose).hasPosition&&t.position.set(.2,-.6,-.05),null!==r.position&&t.position.fromArray(r.position),null!==r.orientation&&t.quaternion.fromArray(r.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(d),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0,r="Daydream Controller"===n.id?0:1,C[e]!==n.buttons[r].pressed&&(C[e]=n.buttons[r].pressed,!0===C[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"})))}else t.visible=!1}return w},this.getStandingMatrix=function(){return d},this.isPresenting=t;var E=new y;this.setAnimationLoop=function(e){E.setAnimationLoop(e)},this.submitFrame=function(){t()&&s.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",n)}}function gt(t){function n(){return null!==l&&null!==h}function r(e){var t=f[m.indexOf(e.inputSource)];t&&t.dispatchEvent({type:e.type})}function i(){t.setFramebuffer(null),_.stop()}function o(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}var a=t.context,s=null,l=null,u=1,h=null,d="stage",p=null,f=[],m=[],g=new dt;g.layers.enable(1),g.viewport=new c;var v=new dt;v.layers.enable(2),v.viewport=new c;var b=new pt([g,v]);b.layers.enable(1),b.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=f[e];return void 0===t&&((t=new ut).matrixAutoUpdate=!1,t.visible=!1,f[e]=t),t},this.getDevice=function(){return s},this.setDevice=function(e){void 0!==e&&(s=e),e instanceof XRDevice&&a.setCompatibleXRDevice(e)},this.setFramebufferScaleFactor=function(e){u=e},this.setFrameOfReferenceType=function(e){d=e},this.setSession=function(e){null!==(l=e)&&(l.addEventListener("select",r),l.addEventListener("selectstart",r),l.addEventListener("selectend",r),l.addEventListener("end",i),l.baseLayer=new XRWebGLLayer(l,a,{framebufferScaleFactor:u}),l.requestFrameOfReference(d).then(function(e){h=e,t.setFramebuffer(l.baseLayer.framebuffer),_.setContext(l),_.start()}),m=l.getInputSources(),l.addEventListener("inputsourceschange",function(){m=l.getInputSources(),console.log(m);for(var e=0;e<f.length;e++)f[e].userData.inputSource=m[e]}))},this.getCamera=function(e){if(n()){var t=e.parent,r=b.cameras;o(b,t);for(var i=0;i<r.length;i++)o(r[i],t);for(e.matrixWorld.copy(b.matrixWorld),e=e.children,i=0,t=e.length;i<t;i++)e[i].updateMatrixWorld(!0);return ft(b,g,v),b}return e},this.isPresenting=n;var x=null,_=new y;_.setAnimationLoop(function(e,t){if(null!==(p=t.getDevicePose(h)))for(var n=l.baseLayer,r=t.views,i=0;i<r.length;i++){var o=r[i],a=n.getViewport(o),s=p.getViewMatrix(o),c=b.cameras[i];c.matrix.fromArray(s).getInverse(c.matrix),c.projectionMatrix.fromArray(o.projectionMatrix),c.viewport.set(a.x,a.y,a.width,a.height),0===i&&b.matrix.copy(c.matrix)}for(i=0;i<f.length;i++)n=f[i],(r=m[i])&&null!==(r=t.getInputPose(r,h))?("targetRay"in r?n.matrix.elements=r.targetRay.transformMatrix:"pointerMatrix"in r&&(n.matrix.elements=r.pointerMatrix),n.matrix.decompose(n.position,n.rotation,n.scale),n.visible=!0):n.visible=!1;x&&x(e)}),this.setAnimationLoop=function(e){x=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new e.Matrix4},this.submitFrame=function(){}}function vt(e){var t;function n(){I=new Q(Ae),(O=new Z(Ae,I,e)).isWebGL2||(I.get("WEBGL_depth_texture"),I.get("OES_texture_float"),I.get("OES_texture_half_float"),I.get("OES_texture_half_float_linear"),I.get("OES_standard_derivatives"),I.get("OES_element_index_uint"),I.get("ANGLE_instanced_arrays")),I.get("OES_texture_float_linear"),ne=new ct(Ae,I,O),(R=new st(Ae,I,ne,O)).scissor(ge.copy(Me).multiplyScalar(_e)),R.viewport(me.copy(we).multiplyScalar(_e)),D=new te(Ae),N=new Ye,B=new lt(Ae,I,R,N,O,ne,D),F=new b(Ae),j=new $(Ae,F,D),H=new ie(j,D),W=new re(Ae),z=new Xe(oe,I,O),U=new $e,G=new rt,V=new X(oe,R,H,T),q=new Y(Ae,I,D,O),K=new ee(Ae,I,D,O),D.programs=z.programs,oe.context=Ae,oe.capabilities=O,oe.extensions=I,oe.properties=N,oe.renderLists=U,oe.state=R,oe.info=D}function r(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),ae=!0}function o(){console.log("THREE.WebGLRenderer: Context Restored."),ae=!1,n()}function s(e){(e=e.target).removeEventListener("dispose",s),l(e),N.remove(e)}function l(e){var t=N.get(e).program;e.program=void 0,void 0!==t&&z.releaseProgram(t)}function u(e,t,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,l=a.geometry,c=void 0===r?a.material:r;if(a=a.group,n.isArrayCamera){fe=n;for(var u=n.cameras,d=0,p=u.length;d<p;d++){var f=u[d];if(s.layers.test(f.layers)){if("viewport"in f)R.viewport(me.copy(f.viewport));else{var m=f.bounds;R.viewport(me.set(m.x*be,m.y*xe,m.z*be,m.w*xe).multiplyScalar(_e))}A.setupLights(f),h(s,t,f,l,c,a)}}}else fe=null,h(s,t,n,l,c,a)}}function h(e,n,r,i,o,a){if(e.onBeforeRender(oe,n,r,i,o,a),A=G.get(n,fe||r),e.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){R.setMaterial(o);var s=f(r,n.fog,o,e);he=t=null,de=!1,function(e,t){e.render(function(e){oe.renderBufferImmediate(e,t)})}(e,s)}else oe.renderBufferDirect(r,n.fog,i,o,e,a);e.onAfterRender(oe,n,r,i,o,a),A=G.get(n,fe||r)}function p(e,t,n){var r=N.get(e),i=A.state.lights,o=r.lightsHash,a=i.state.hash;n=z.getParameters(e,i.state,A.state.shadowsArray,t,Ee.numPlanes,Ee.numIntersection,n);var c=z.getProgramCode(e,n),u=r.program,h=!0;if(void 0===u)e.addEventListener("dispose",s);else if(u.code!==c)l(e);else{if(o.stateID!==a.stateID||o.directionalLength!==a.directionalLength||o.pointLength!==a.pointLength||o.spotLength!==a.spotLength||o.rectAreaLength!==a.rectAreaLength||o.hemiLength!==a.hemiLength||o.shadowsLength!==a.shadowsLength)o.stateID=a.stateID,o.directionalLength=a.directionalLength,o.pointLength=a.pointLength,o.spotLength=a.spotLength,o.rectAreaLength=a.rectAreaLength,o.hemiLength=a.hemiLength,o.shadowsLength=a.shadowsLength;else if(void 0!==n.shaderID)return;h=!1}if(h&&(n.shaderID?(c=oo[n.shaderID],r.shader={name:e.type,uniforms:no.clone(c.uniforms),vertexShader:c.vertexShader,fragmentShader:c.fragmentShader}):r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader},e.onBeforeCompile(r.shader,oe),c=z.getProgramCode(e,n),u=z.acquireProgram(e,r.shader,n,c),r.program=u,e.program=u),n=u.getAttributes(),e.morphTargets)for(c=e.numSupportedMorphTargets=0;c<oe.maxMorphTargets;c++)0<=n["morphTarget"+c]&&e.numSupportedMorphTargets++;if(e.morphNormals)for(c=e.numSupportedMorphNormals=0;c<oe.maxMorphNormals;c++)0<=n["morphNormal"+c]&&e.numSupportedMorphNormals++;n=r.shader.uniforms,(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=Ee.numPlanes,r.numIntersection=Ee.numIntersection,n.clippingPlanes=Ee.uniform),r.fog=t,void 0===o&&(r.lightsHash=o={}),o.stateID=a.stateID,o.directionalLength=a.directionalLength,o.pointLength=a.pointLength,o.spotLength=a.spotLength,o.rectAreaLength=a.rectAreaLength,o.hemiLength=a.hemiLength,o.shadowsLength=a.shadowsLength,e.lights&&(n.ambientLightColor.value=i.state.ambient,n.directionalLights.value=i.state.directional,n.spotLights.value=i.state.spot,n.rectAreaLights.value=i.state.rectArea,n.pointLights.value=i.state.point,n.hemisphereLights.value=i.state.hemi,n.directionalShadowMap.value=i.state.directionalShadowMap,n.directionalShadowMatrix.value=i.state.directionalShadowMatrix,n.spotShadowMap.value=i.state.spotShadowMap,n.spotShadowMatrix.value=i.state.spotShadowMatrix,n.pointShadowMap.value=i.state.pointShadowMap,n.pointShadowMatrix.value=i.state.pointShadowMatrix),e=r.program.getUniforms(),e=Fe.seqWithValue(e.seq,n),r.uniformsList=e}function f(e,t,n,r){ye=0;var i=N.get(n),o=i.lightsHash,a=A.state.lights.state.hash;Te&&(Le||e!==pe)&&Ee.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,i,e===pe&&n.id===ue),!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==t?n.needsUpdate=!0:(!n.lights||o.stateID===a.stateID&&o.directionalLength===a.directionalLength&&o.pointLength===a.pointLength&&o.spotLength===a.spotLength&&o.rectAreaLength===a.rectAreaLength&&o.hemiLength===a.hemiLength&&o.shadowsLength===a.shadowsLength)&&(void 0===i.numClippingPlanes||i.numClippingPlanes===Ee.numPlanes&&i.numIntersection===Ee.numIntersection)||(n.needsUpdate=!0)),n.needsUpdate&&(p(n,t,r),n.needsUpdate=!1);var s=!1,l=!1,c=!1;o=i.program,a=o.getUniforms();var u=i.shader.uniforms;if(R.useProgram(o.program)&&(c=l=s=!0),n.id!==ue&&(ue=n.id,l=!0),(s||pe!==e)&&(a.setValue(Ae,"projectionMatrix",e.projectionMatrix),O.logarithmicDepthBuffer&&a.setValue(Ae,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),pe!==e&&(pe=e,c=l=!0),(n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap)&&void 0!==(s=a.map.cameraPosition)&&s.setValue(Ae,ke.setFromMatrixPosition(e.matrixWorld)),(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&a.setValue(Ae,"viewMatrix",e.matrixWorldInverse)),n.skinning&&(a.setOptional(Ae,r,"bindMatrix"),a.setOptional(Ae,r,"bindMatrixInverse"),e=r.skeleton))if(s=e.bones,O.floatVertexTextures){if(void 0===e.boneTexture){s=Math.sqrt(4*s.length),s=Qi.ceilPowerOfTwo(s),s=Math.max(s,4);var h=new Float32Array(s*s*4);h.set(e.boneMatrices);var f=new d(h,s,s,1023,1015);f.needsUpdate=!0,e.boneMatrices=h,e.boneTexture=f,e.boneTextureSize=s}a.setValue(Ae,"boneTexture",e.boneTexture),a.setValue(Ae,"boneTextureSize",e.boneTextureSize)}else a.setOptional(Ae,e,"boneMatrices");return l&&(a.setValue(Ae,"toneMappingExposure",oe.toneMappingExposure),a.setValue(Ae,"toneMappingWhitePoint",oe.toneMappingWhitePoint),n.lights&&(l=c,u.ambientLightColor.needsUpdate=l,u.directionalLights.needsUpdate=l,u.pointLights.needsUpdate=l,u.spotLights.needsUpdate=l,u.rectAreaLights.needsUpdate=l,u.hemisphereLights.needsUpdate=l),t&&n.fog&&(u.fogColor.value=t.color,t.isFog?(u.fogNear.value=t.near,u.fogFar.value=t.far):t.isFogExp2&&(u.fogDensity.value=t.density)),n.isMeshBasicMaterial?m(u,n):n.isMeshLambertMaterial?(m(u,n),n.emissiveMap&&(u.emissiveMap.value=n.emissiveMap)):n.isMeshPhongMaterial?(m(u,n),n.isMeshToonMaterial?(v(u,n),n.gradientMap&&(u.gradientMap.value=n.gradientMap)):v(u,n)):n.isMeshStandardMaterial?(m(u,n),n.isMeshPhysicalMaterial?(x(u,n),u.reflectivity.value=n.reflectivity,u.clearCoat.value=n.clearCoat,u.clearCoatRoughness.value=n.clearCoatRoughness):x(u,n)):n.isMeshMatcapMaterial?(m(u,n),n.matcap&&(u.matcap.value=n.matcap),n.bumpMap&&(u.bumpMap.value=n.bumpMap,u.bumpScale.value=n.bumpScale,1===n.side&&(u.bumpScale.value*=-1)),n.normalMap&&(u.normalMap.value=n.normalMap,u.normalScale.value.copy(n.normalScale),1===n.side&&u.normalScale.value.negate()),n.displacementMap&&(u.displacementMap.value=n.displacementMap,u.displacementScale.value=n.displacementScale,u.displacementBias.value=n.displacementBias)):n.isMeshDepthMaterial?(m(u,n),n.displacementMap&&(u.displacementMap.value=n.displacementMap,u.displacementScale.value=n.displacementScale,u.displacementBias.value=n.displacementBias)):n.isMeshDistanceMaterial?(m(u,n),n.displacementMap&&(u.displacementMap.value=n.displacementMap,u.displacementScale.value=n.displacementScale,u.displacementBias.value=n.displacementBias),u.referencePosition.value.copy(n.referencePosition),u.nearDistance.value=n.nearDistance,u.farDistance.value=n.farDistance):n.isMeshNormalMaterial?(m(u,n),n.bumpMap&&(u.bumpMap.value=n.bumpMap,u.bumpScale.value=n.bumpScale,1===n.side&&(u.bumpScale.value*=-1)),n.normalMap&&(u.normalMap.value=n.normalMap,u.normalScale.value.copy(n.normalScale),1===n.side&&u.normalScale.value.negate()),n.displacementMap&&(u.displacementMap.value=n.displacementMap,u.displacementScale.value=n.displacementScale,u.displacementBias.value=n.displacementBias)):n.isLineBasicMaterial?(u.diffuse.value=n.color,u.opacity.value=n.opacity,n.isLineDashedMaterial&&(u.dashSize.value=n.dashSize,u.totalSize.value=n.dashSize+n.gapSize,u.scale.value=n.scale)):n.isPointsMaterial?(u.diffuse.value=n.color,u.opacity.value=n.opacity,u.size.value=n.size*_e,u.scale.value=.5*xe,u.map.value=n.map,null!==n.map&&(!0===n.map.matrixAutoUpdate&&n.map.updateMatrix(),u.uvTransform.value.copy(n.map.matrix))):n.isSpriteMaterial?(u.diffuse.value=n.color,u.opacity.value=n.opacity,u.rotation.value=n.rotation,u.map.value=n.map,null!==n.map&&(!0===n.map.matrixAutoUpdate&&n.map.updateMatrix(),u.uvTransform.value.copy(n.map.matrix))):n.isShadowMaterial&&(u.color.value=n.color,u.opacity.value=n.opacity),void 0!==u.ltc_1&&(u.ltc_1.value=io.LTC_1),void 0!==u.ltc_2&&(u.ltc_2.value=io.LTC_2),Fe.upload(Ae,i.uniformsList,u,oe)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Fe.upload(Ae,i.uniformsList,u,oe),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&a.setValue(Ae,"center",r.center),a.setValue(Ae,"modelViewMatrix",r.modelViewMatrix),a.setValue(Ae,"normalMatrix",r.normalMatrix),a.setValue(Ae,"modelMatrix",r.matrixWorld),o}function m(e,t){if(e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap&&t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=N.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map)var n=t.map;else t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap);void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function v(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function x(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}console.log("THREE.WebGLRenderer","98");var _=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),w=void 0!==e.context?e.context:null,M=void 0!==e.alpha&&e.alpha,S=void 0===e.depth||e.depth,C=void 0===e.stencil||e.stencil,E=void 0!==e.antialias&&e.antialias,T=void 0===e.premultipliedAlpha||e.premultipliedAlpha,L=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,P=void 0!==e.powerPreference?e.powerPreference:"default",k=null,A=null;this.domElement=_,this.context=null,this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.physicallyCorrectLights=this.gammaOutput=this.gammaInput=!1,this.toneMappingWhitePoint=this.toneMappingExposure=this.toneMapping=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var I,O,R,D,N,B,F,j,H,z,U,G,V,W,q,K,ne,oe=this,ae=!1,se=null,le=null,ce=null,ue=-1,he=t=null,de=!1,pe=null,fe=null,me=new c,ge=new c,ve=null,ye=0,be=_.width,xe=_.height,_e=1,we=new c(0,0,be,xe),Me=new c(0,0,be,xe),Se=!1,Ce=new g,Ee=new J,Te=!1,Le=!1,Pe=new i,ke=new a;try{M={alpha:M,depth:S,stencil:C,antialias:E,premultipliedAlpha:T,preserveDrawingBuffer:L,powerPreference:P},_.addEventListener("webglcontextlost",r,!1),_.addEventListener("webglcontextrestored",o,!1);var Ae=w||_.getContext("webgl",M)||_.getContext("experimental-webgl",M);if(null===Ae){if(null!==_.getContext("webgl"))throw Error("Error creating WebGL context with your selected attributes.");throw Error("Error creating WebGL context.")}void 0===Ae.getShaderPrecisionFormat&&(Ae.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){console.error("THREE.WebGLRenderer: "+e.message)}n();var Ie=null;"undefined"!=typeof navigator&&(Ie="xr"in navigator?new gt(oe):new mt(oe)),this.vr=Ie;var Oe=new at(oe,H,O.maxTextureSize);this.shadowMap=Oe,this.getContext=function(){return Ae},this.getContextAttributes=function(){return Ae.getContextAttributes()},this.forceContextLoss=function(){var e=I.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=I.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return _e},this.setPixelRatio=function(e){void 0!==e&&(_e=e,this.setSize(be,xe,!1))},this.getSize=function(){return{width:be,height:xe}},this.setSize=function(e,t,n){Ie.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(be=e,xe=t,_.width=e*_e,_.height=t*_e,!1!==n&&(_.style.width=e+"px",_.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(){return{width:be*_e,height:xe*_e}},this.setDrawingBufferSize=function(e,t,n){be=e,xe=t,_e=n,_.width=e*n,_.height=t*n,this.setViewport(0,0,e,t)},this.getCurrentViewport=function(){return me},this.setViewport=function(e,t,n,r){we.set(e,xe-t-r,n,r),R.viewport(me.copy(we).multiplyScalar(_e))},this.setScissor=function(e,t,n,r){Me.set(e,xe-t-r,n,r),R.scissor(ge.copy(Me).multiplyScalar(_e))},this.setScissorTest=function(e){R.setScissorTest(Se=e)},this.getClearColor=function(){return V.getClearColor()},this.setClearColor=function(){V.setClearColor.apply(V,arguments)},this.getClearAlpha=function(){return V.getClearAlpha()},this.setClearAlpha=function(){V.setClearAlpha.apply(V,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),Ae.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){_.removeEventListener("webglcontextlost",r,!1),_.removeEventListener("webglcontextrestored",o,!1),U.dispose(),G.dispose(),N.dispose(),H.dispose(),Ie.dispose(),De.stop()},this.renderBufferImmediate=function(e,t){R.initAttributes();var n=N.get(e);e.hasPositions&&!n.position&&(n.position=Ae.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=Ae.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=Ae.createBuffer()),e.hasColors&&!n.color&&(n.color=Ae.createBuffer()),t=t.getAttributes(),e.hasPositions&&(Ae.bindBuffer(34962,n.position),Ae.bufferData(34962,e.positionArray,35048),R.enableAttribute(t.position),Ae.vertexAttribPointer(t.position,3,5126,!1,0,0)),e.hasNormals&&(Ae.bindBuffer(34962,n.normal),Ae.bufferData(34962,e.normalArray,35048),R.enableAttribute(t.normal),Ae.vertexAttribPointer(t.normal,3,5126,!1,0,0)),e.hasUvs&&(Ae.bindBuffer(34962,n.uv),Ae.bufferData(34962,e.uvArray,35048),R.enableAttribute(t.uv),Ae.vertexAttribPointer(t.uv,2,5126,!1,0,0)),e.hasColors&&(Ae.bindBuffer(34962,n.color),Ae.bufferData(34962,e.colorArray,35048),R.enableAttribute(t.color),Ae.vertexAttribPointer(t.color,3,5126,!1,0,0)),R.disableUnusedAttributes(),Ae.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,n,r,i,o,a){var s=o.isMesh&&0>o.normalMatrix.determinant();R.setMaterial(i,s);var l=f(e,n,i,o),c=!1;t===r.id&&he===l.id&&de===(!0===i.wireframe)||(t=r.id,he=l.id,de=!0===i.wireframe,c=!0),o.morphTargetInfluences&&(W.update(o,r,i,l),c=!0),s=r.index;var u=r.attributes.position;if(n=1,!0===i.wireframe&&(s=j.getWireframeAttribute(r),n=2),e=q,null!==s){var h=F.get(s);(e=K).setIndex(h)}if(c){if(r&&r.isInstancedBufferGeometry&!O.isWebGL2&&null===I.get("ANGLE_instanced_arrays"))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{R.initAttributes(),c=r.attributes,l=l.getAttributes();var d=i.defaultAttributeValues;for(M in l){var p=l[M];if(0<=p){var m=c[M];if(void 0!==m){var g=m.normalized,v=m.itemSize,y=F.get(m);if(void 0!==y){var b=y.buffer,x=y.type;if(y=y.bytesPerElement,m.isInterleavedBufferAttribute){var _=m.data,w=_.stride;m=m.offset,_&&_.isInstancedInterleavedBuffer?(R.enableAttributeAndDivisor(p,_.meshPerAttribute),void 0===r.maxInstancedCount&&(r.maxInstancedCount=_.meshPerAttribute*_.count)):R.enableAttribute(p),Ae.bindBuffer(34962,b),Ae.vertexAttribPointer(p,v,x,g,w*y,m*y)}else m.isInstancedBufferAttribute?(R.enableAttributeAndDivisor(p,m.meshPerAttribute),void 0===r.maxInstancedCount&&(r.maxInstancedCount=m.meshPerAttribute*m.count)):R.enableAttribute(p),Ae.bindBuffer(34962,b),Ae.vertexAttribPointer(p,v,x,g,0,0)}}else if(void 0!==d&&void 0!==(g=d[M]))switch(g.length){case 2:Ae.vertexAttrib2fv(p,g);break;case 3:Ae.vertexAttrib3fv(p,g);break;case 4:Ae.vertexAttrib4fv(p,g);break;default:Ae.vertexAttrib1fv(p,g)}}}R.disableUnusedAttributes()}null!==s&&Ae.bindBuffer(34963,h.buffer)}h=1/0,null!==s?h=s.count:void 0!==u&&(h=u.count),s=r.drawRange.start*n,u=null!==a?a.start*n:0;var M=Math.max(s,u);if(0!==(a=Math.max(0,Math.min(h,s+r.drawRange.count*n,u+(null!==a?a.count*n:1/0))-1-M+1))){if(o.isMesh)if(!0===i.wireframe)R.setLineWidth(i.wireframeLinewidth*(null===le?_e:1)),e.setMode(1);else switch(o.drawMode){case 0:e.setMode(4);break;case 1:e.setMode(5);break;case 2:e.setMode(6)}else o.isLine?(void 0===(i=i.linewidth)&&(i=1),R.setLineWidth(i*(null===le?_e:1)),o.isLineSegments?e.setMode(1):o.isLineLoop?e.setMode(2):e.setMode(3)):o.isPoints?e.setMode(0):o.isSprite&&e.setMode(4);r&&r.isInstancedBufferGeometry?0<r.maxInstancedCount&&e.renderInstances(r,M,a):e.render(M,a)}},this.compile=function(e,t){(A=G.get(e,t)).init(),e.traverse(function(e){e.isLight&&(A.pushLight(e),e.castShadow&&A.pushShadow(e))}),A.setupLights(t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)p(t.material[n],e.fog,t);else p(t.material,e.fog,t)})};var Re=null,De=new y;De.setAnimationLoop(function(e){Ie.isPresenting()||Re&&Re(e)}),"undefined"!=typeof window&&De.setContext(window),this.setAnimationLoop=function(e){Re=e,Ie.setAnimationLoop(e),De.start()},this.render=function(e,n,r,i){if(n&&n.isCamera){if(!ae){he=t=null,de=!1,ue=-1,pe=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===n.parent&&n.updateMatrixWorld(),Ie.enabled&&(n=Ie.getCamera(n)),(A=G.get(e,n)).init(),e.onBeforeRender(oe,e,n,r),Pe.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),Ce.setFromMatrix(Pe),Le=this.localClippingEnabled,Te=Ee.init(this.clippingPlanes,Le,n),(k=U.get(e,n)).init(),function e(t,n,r){if(!1!==t.visible){if(t.layers.test(n.layers))if(t.isLight)A.pushLight(t),t.castShadow&&A.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||Ce.intersectsSprite(t)){r&&ke.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Pe);var i=H.update(t),o=t.material;k.push(t,i,o,ke.z,null)}}else if(t.isImmediateRenderObject)r&&ke.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Pe),k.push(t,null,t.material,ke.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||Ce.intersectsObject(t)))if(r&&ke.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Pe),i=H.update(t),o=t.material,Array.isArray(o))for(var a=i.groups,s=0,l=a.length;s<l;s++){var c=a[s],u=o[c.materialIndex];u&&u.visible&&k.push(t,i,u,ke.z,c)}else o.visible&&k.push(t,i,o,ke.z,null);for(t=t.children,s=0,l=t.length;s<l;s++)e(t[s],n,r)}}(e,n,oe.sortObjects),!0===oe.sortObjects&&k.sort(),Te&&Ee.beginShadows(),Oe.render(A.state.shadowsArray,e,n),A.setupLights(n),Te&&Ee.endShadows(),this.info.autoReset&&this.info.reset(),void 0===r&&(r=null),this.setRenderTarget(r),V.render(k,e,n,i),i=k.opaque;var o=k.transparent;if(e.overrideMaterial){var a=e.overrideMaterial;i.length&&u(i,e,n,a),o.length&&u(o,e,n,a)}else i.length&&u(i,e,n),o.length&&u(o,e,n);r&&B.updateRenderTargetMipmap(r),R.buffers.depth.setTest(!0),R.buffers.depth.setMask(!0),R.buffers.color.setMask(!0),R.setPolygonOffset(!1),e.onAfterRender(oe,e,n),Ie.enabled&&Ie.submitFrame(),A=k=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.allocTextureUnit=function(){var e=ye;return e>=O.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+O.maxTextures),ye+=1,e},this.setTexture2D=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTarget&&(e||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),B.setTexture2D(t,n)}}(),this.setTexture3D=function(e,t){B.setTexture3D(e,t)},this.setTexture=function(){var e=!1;return function(t,n){e||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0),B.setTexture2D(t,n)}}(),this.setTextureCube=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTargetCube&&(e||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?B.setTextureCube(t,n):B.setTextureCubeDynamic(t,n)}}(),this.setFramebuffer=function(e){se=e},this.getRenderTarget=function(){return le},this.setRenderTarget=function(e){(le=e)&&void 0===N.get(e).__webglFramebuffer&&B.setupRenderTarget(e);var t=se,n=!1;e?(t=N.get(e).__webglFramebuffer,e.isWebGLRenderTargetCube&&(t=t[e.activeCubeFace],n=!0),me.copy(e.viewport),ge.copy(e.scissor),ve=e.scissorTest):(me.copy(we).multiplyScalar(_e),ge.copy(Me).multiplyScalar(_e),ve=Se),ce!==t&&(Ae.bindFramebuffer(36160,t),ce=t),R.viewport(me),R.scissor(ge),R.setScissorTest(ve),n&&(n=N.get(e.texture),Ae.framebufferTexture2D(36160,36064,34069+e.activeCubeFace,n.__webglTexture,e.activeMipMapLevel))},this.readRenderTargetPixels=function(e,t,n,r,i,o){if(e&&e.isWebGLRenderTarget){var a=N.get(e).__webglFramebuffer;if(a){var s=!1;a!==ce&&(Ae.bindFramebuffer(36160,a),s=!0);try{var l=e.texture,c=l.format,u=l.type;1023!==c&&ne.convert(c)!==Ae.getParameter(35739)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):1009===u||ne.convert(u)===Ae.getParameter(35738)||1015===u&&(O.isWebGL2||I.get("OES_texture_float")||I.get("WEBGL_color_buffer_float"))||1016===u&&(O.isWebGL2?I.get("EXT_color_buffer_float"):I.get("EXT_color_buffer_half_float"))?36053===Ae.checkFramebufferStatus(36160)?0<=t&&t<=e.width-r&&0<=n&&n<=e.height-i&&Ae.readPixels(t,n,r,i,ne.convert(c),ne.convert(u),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{s&&Ae.bindFramebuffer(36160,ce)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){var r=t.image.width,i=t.image.height,o=ne.convert(t.format);this.setTexture2D(t,0),Ae.copyTexImage2D(3553,n||0,o,e.x,e.y,r,i,0)},this.copyTextureToTexture=function(e,t,n,r){var i=t.image.width,o=t.image.height,a=ne.convert(n.format),s=ne.convert(n.type);this.setTexture2D(n,0),t.isDataTexture?Ae.texSubImage2D(3553,r||0,e.x,e.y,i,o,a,s,t.image.data):Ae.texSubImage2D(3553,r||0,e.x,e.y,a,s,t.image)}}function yt(e,t){this.name="",this.color=new v(e),this.density=void 0!==t?t:25e-5}function bt(e,t,n){this.name="",this.color=new v(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function xt(){M.call(this),this.type="Scene",this.overrideMaterial=this.fog=this.background=null,this.autoUpdate=!0}function _t(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function wt(e,t,n,r){this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function Mt(e){U.call(this),this.type="SpriteMaterial",this.color=new v(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(e)}function St(e){if(M.call(this),this.type="Sprite",void 0===wo){wo=new B;var t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]);t=new _t(t,5),wo.setIndex([0,1,2,0,2,3]),wo.addAttribute("position",new wt(t,3,0,!1)),wo.addAttribute("uv",new wt(t,2,3,!1))}this.geometry=wo,this.material=void 0!==e?e:new Mt,this.center=new r(.5,.5)}function Ct(){M.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Et(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else for(console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[],e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new i)}function Tt(){M.call(this),this.type="Bone"}function Lt(e,t){K.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new i,this.bindMatrixInverse=new i,e=new Et(e=this.initBones()),this.bind(e,this.matrixWorld),this.normalizeSkinWeights()}function Pt(e){U.call(this),this.type="LineBasicMaterial",this.color=new v(16777215),this.linewidth=1,this.linejoin=this.linecap="round",this.lights=!1,this.setValues(e)}function kt(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),M.call(this),this.type="Line",this.geometry=void 0!==e?e:new B,this.material=void 0!==t?t:new Pt({color:16777215*Math.random()})}function At(e,t){kt.call(this,e,t),this.type="LineSegments"}function It(e,t){kt.call(this,e,t),this.type="LineLoop"}function Ot(e){U.call(this),this.type="PointsMaterial",this.color=new v(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=this.morphTargets=!1,this.setValues(e)}function Rt(e,t){M.call(this),this.type="Points",this.geometry=void 0!==e?e:new B,this.material=void 0!==t?t:new Ot({color:16777215*Math.random()})}function Dt(e,t,n,r,i,o,a,s,c){l.call(this,e,t,n,r,i,o,a,s,c),this.generateMipmaps=!1}function Nt(e,t,n,r,i,o,a,s,c,u,h,d){l.call(this,null,o,a,s,c,u,r,i,h,d),this.image={width:t,height:n},this.mipmaps=e,this.generateMipmaps=this.flipY=!1}function Bt(e,t,n,r,i,o,a,s,c){l.call(this,e,t,n,r,i,o,a,s,c),this.needsUpdate=!0}function Ft(e,t,n,r,i,o,a,s,c,u){if(1026!==(u=void 0!==u?u:1026)&&1027!==u)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&1026===u&&(n=1012),void 0===n&&1027===u&&(n=1020),l.call(this,null,r,i,o,a,s,u,n,c),this.image={width:e,height:t},this.magFilter=void 0!==a?a:1003,this.minFilter=void 0!==s?s:1003,this.generateMipmaps=this.flipY=!1}function jt(e){B.call(this),this.type="WireframeGeometry";var t,n,r,i=[],o=[0,0],s={},l=["a","b","c"];if(e&&e.isGeometry){var c=e.faces,u=0;for(n=c.length;u<n;u++){var h=c[u];for(t=0;3>t;t++){var d=h[l[t]],p=h[l[(t+1)%3]];o[0]=Math.min(d,p),o[1]=Math.max(d,p),d=o[0]+","+o[1],void 0===s[d]&&(s[d]={index1:o[0],index2:o[1]})}}for(d in s)u=s[d],l=e.vertices[u.index1],i.push(l.x,l.y,l.z),l=e.vertices[u.index2],i.push(l.x,l.y,l.z)}else if(e&&e.isBufferGeometry)if(l=new a,null!==e.index){c=e.attributes.position,h=e.index;var f=e.groups;for(0===f.length&&(f=[{start:0,count:h.count,materialIndex:0}]),e=0,r=f.length;e<r;++e)for(u=f[e],t=u.start,n=u.count,u=t,n=t+n;u<n;u+=3)for(t=0;3>t;t++)d=h.getX(u+t),p=h.getX(u+(t+1)%3),o[0]=Math.min(d,p),o[1]=Math.max(d,p),d=o[0]+","+o[1],void 0===s[d]&&(s[d]={index1:o[0],index2:o[1]});for(d in s)u=s[d],l.fromBufferAttribute(c,u.index1),i.push(l.x,l.y,l.z),l.fromBufferAttribute(c,u.index2),i.push(l.x,l.y,l.z)}else for(c=e.attributes.position,u=0,n=c.count/3;u<n;u++)for(t=0;3>t;t++)s=3*u+t,l.fromBufferAttribute(c,s),i.push(l.x,l.y,l.z),s=3*u+(t+1)%3,l.fromBufferAttribute(c,s),i.push(l.x,l.y,l.z);this.addAttribute("position",new O(i,3))}function Ht(e,t,n){S.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new zt(e,t,n)),this.mergeVertices()}function zt(e,t,n){B.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r,i,o=[],s=[],l=[],c=[],u=new a,h=new a,d=new a,p=new a,f=new a;3>e.length&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var m=t+1;for(r=0;r<=n;r++){var g=r/n;for(i=0;i<=t;i++){var v=i/t;e(v,g,h),s.push(h.x,h.y,h.z),0<=v-1e-5?(e(v-1e-5,g,d),p.subVectors(h,d)):(e(v+1e-5,g,d),p.subVectors(d,h)),0<=g-1e-5?(e(v,g-1e-5,d),f.subVectors(h,d)):(e(v,g+1e-5,d),f.subVectors(d,h)),u.crossVectors(p,f).normalize(),l.push(u.x,u.y,u.z),c.push(v,g)}}for(r=0;r<n;r++)for(i=0;i<t;i++)e=r*m+i+1,u=(r+1)*m+i+1,h=(r+1)*m+i,o.push(r*m+i,e,h),o.push(e,u,h);this.setIndex(o),this.addAttribute("position",new O(s,3)),this.addAttribute("normal",new O(l,3)),this.addAttribute("uv",new O(c,2))}function Ut(e,t,n,r){S.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new Gt(e,t,n,r)),this.mergeVertices()}function Gt(e,t,n,i){function o(e){c.push(e.x,e.y,e.z)}function s(t,n){t*=3,n.x=e[t+0],n.y=e[t+1],n.z=e[t+2]}function l(e,t,n,r){0>r&&1===e.x&&(u[t]=e.x-1),0===n.x&&0===n.z&&(u[t]=r/2/Math.PI+.5)}B.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},n=n||1;var c=[],u=[];!function(e){for(var n=new a,r=new a,i=new a,l=0;l<t.length;l+=3){s(t[l+0],n),s(t[l+1],r),s(t[l+2],i);var c,u,h=n,d=r,p=i,f=Math.pow(2,e),m=[];for(u=0;u<=f;u++){m[u]=[];var g=h.clone().lerp(p,u/f),v=d.clone().lerp(p,u/f),y=f-u;for(c=0;c<=y;c++)m[u][c]=0===c&&u===f?g:g.clone().lerp(v,c/y)}for(u=0;u<f;u++)for(c=0;c<2*(f-u)-1;c++)h=Math.floor(c/2),0==c%2?(o(m[u][h+1]),o(m[u+1][h]),o(m[u][h])):(o(m[u][h+1]),o(m[u+1][h+1]),o(m[u+1][h]))}}(i=i||0),function(e){for(var t=new a,n=0;n<c.length;n+=3)t.x=c[n+0],t.y=c[n+1],t.z=c[n+2],t.normalize().multiplyScalar(e),c[n+0]=t.x,c[n+1]=t.y,c[n+2]=t.z}(n),function(){for(var e=new a,t=0;t<c.length;t+=3)e.x=c[t+0],e.y=c[t+1],e.z=c[t+2],u.push(Math.atan2(e.z,-e.x)/2/Math.PI+.5,1-(Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))/Math.PI+.5));e=new a,t=new a;for(var n=new a,i=new a,o=new r,s=new r,h=new r,d=0,p=0;d<c.length;d+=9,p+=6){e.set(c[d+0],c[d+1],c[d+2]),t.set(c[d+3],c[d+4],c[d+5]),n.set(c[d+6],c[d+7],c[d+8]),o.set(u[p+0],u[p+1]),s.set(u[p+2],u[p+3]),h.set(u[p+4],u[p+5]),i.copy(e).add(t).add(n).divideScalar(3);var f=Math.atan2(i.z,-i.x);l(o,p+0,e,f),l(s,p+2,t,f),l(h,p+4,n,f)}for(e=0;e<u.length;e+=6)t=u[e+0],n=u[e+2],i=u[e+4],o=Math.min(t,n,i),.9<Math.max(t,n,i)&&.1>o&&(.2>t&&(u[e+0]+=1),.2>n&&(u[e+2]+=1),.2>i&&(u[e+4]+=1))}(),this.addAttribute("position",new O(c,3)),this.addAttribute("normal",new O(c.slice(),3)),this.addAttribute("uv",new O(u,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}function Vt(e,t){S.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Wt(e,t)),this.mergeVertices()}function Wt(e,t){Gt.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function qt(e,t){S.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Kt(e,t)),this.mergeVertices()}function Kt(e,t){Gt.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Xt(e,t){S.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Yt(e,t)),this.mergeVertices()}function Yt(e,t){var n=(1+Math.sqrt(5))/2;Gt.call(this,[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Zt(e,t){S.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Jt(e,t)),this.mergeVertices()}function Jt(e,t){var n=(1+Math.sqrt(5))/2,r=1/n;Gt.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Qt(e,t,n,r,i,o){S.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed."),e=new $t(e,t,n,r,i),this.tangents=e.tangents,this.normals=e.normals,this.binormals=e.binormals,this.fromBufferGeometry(e),this.mergeVertices()}function $t(e,t,n,i,o){function s(r){f=e.getPointAt(r/t,f);var o=l.normals[r];for(r=l.binormals[r],u=0;u<=i;u++){var a=u/i*Math.PI*2,s=Math.sin(a);a=-Math.cos(a),d.x=a*o.x+s*r.x,d.y=a*o.y+s*r.y,d.z=a*o.z+s*r.z,d.normalize(),g.push(d.x,d.y,d.z),h.x=f.x+n*d.x,h.y=f.y+n*d.y,h.z=f.z+n*d.z,m.push(h.x,h.y,h.z)}}B.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:o},t=t||64,n=n||1,i=i||8,o=o||!1;var l=e.computeFrenetFrames(t,o);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;var c,u,h=new a,d=new a,p=new r,f=new a,m=[],g=[],v=[],y=[];for(c=0;c<t;c++)s(c);for(s(!1===o?t:0),c=0;c<=t;c++)for(u=0;u<=i;u++)p.x=c/t,p.y=u/i,v.push(p.x,p.y);!function(){for(u=1;u<=t;u++)for(c=1;c<=i;c++){var e=(i+1)*u+(c-1),n=(i+1)*u+c,r=(i+1)*(u-1)+c;y.push((i+1)*(u-1)+(c-1),e,r),y.push(e,n,r)}}(),this.setIndex(y),this.addAttribute("position",new O(m,3)),this.addAttribute("normal",new O(g,3)),this.addAttribute("uv",new O(v,2))}function en(e,t,n,r,i,o,a){S.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new tn(e,t,n,r,i,o)),this.mergeVertices()}function tn(e,t,n,r,i,o){function s(e,t,n,r,i){var o=Math.sin(e);t=n/t*e,n=Math.cos(t),i.x=r*(2+n)*.5*Math.cos(e),i.y=r*(2+n)*o*.5,i.z=r*Math.sin(t)*.5}B.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;var l,c=[],u=[],h=[],d=[],p=new a,f=new a,m=new a,g=new a,v=new a,y=new a,b=new a;for(l=0;l<=n;++l){var x=l/n*i*Math.PI*2;for(s(x,i,o,e,m),s(x+.01,i,o,e,g),y.subVectors(g,m),b.addVectors(g,m),v.crossVectors(y,b),b.crossVectors(v,y),v.normalize(),b.normalize(),x=0;x<=r;++x){var _=x/r*Math.PI*2,w=-t*Math.cos(_);_=t*Math.sin(_),p.x=m.x+(w*b.x+_*v.x),p.y=m.y+(w*b.y+_*v.y),p.z=m.z+(w*b.z+_*v.z),u.push(p.x,p.y,p.z),f.subVectors(p,m).normalize(),h.push(f.x,f.y,f.z),d.push(l/n),d.push(x/r)}}for(x=1;x<=n;x++)for(l=1;l<=r;l++)e=(r+1)*x+(l-1),t=(r+1)*x+l,i=(r+1)*(x-1)+l,c.push((r+1)*(x-1)+(l-1),e,i),c.push(e,t,i);this.setIndex(c),this.addAttribute("position",new O(u,3)),this.addAttribute("normal",new O(h,3)),this.addAttribute("uv",new O(d,2))}function nn(e,t,n,r,i){S.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new rn(e,t,n,r,i)),this.mergeVertices()}function rn(e,t,n,r,i){B.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,s,l=[],c=[],u=[],h=[],d=new a,p=new a,f=new a;for(o=0;o<=n;o++)for(s=0;s<=r;s++){var m=s/r*i,g=o/n*Math.PI*2;p.x=(e+t*Math.cos(g))*Math.cos(m),p.y=(e+t*Math.cos(g))*Math.sin(m),p.z=t*Math.sin(g),c.push(p.x,p.y,p.z),d.x=e*Math.cos(m),d.y=e*Math.sin(m),f.subVectors(p,d).normalize(),u.push(f.x,f.y,f.z),h.push(s/r),h.push(o/n)}for(o=1;o<=n;o++)for(s=1;s<=r;s++)e=(r+1)*(o-1)+s-1,t=(r+1)*(o-1)+s,i=(r+1)*o+s,l.push((r+1)*o+s-1,e,i),l.push(e,t,i);this.setIndex(l),this.addAttribute("position",new O(c,3)),this.addAttribute("normal",new O(u,3)),this.addAttribute("uv",new O(h,2))}function on(e,t,n,r,i){for(var o,a=0,s=t,l=n-r;s<n;s+=r)a+=(e[l]-e[s])*(e[s+1]+e[l+1]),l=s;if(i===0<a)for(i=t;i<n;i+=r)o=vn(i,e[i],e[i+1],o);else for(i=n-r;i>=t;i-=r)o=vn(i,e[i],e[i+1],o);return o&&pn(o,o.next)&&(yn(o),o=o.next),o}function an(e,t){if(!e)return e;t||(t=e);do{var n=!1;if(e.steiner||!pn(e,e.next)&&0!==dn(e.prev,e,e.next))e=e.next;else{if(yn(e),(e=t=e.prev)===e.next)break;n=!0}}while(n||e!==t);return t}function sn(e,t){return e.x-t.x}function ln(e,t){var n=t,r=e.x,i=e.y,o=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var a=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>o){if(o=a,a===r){if(i===n.y)return n;if(i===n.next.y)return n.next}var s=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!s)return null;if(r===o)return s.prev;t=s,a=s.x;var l=s.y,c=1/0;for(n=s.next;n!==t;){if(r>=n.x&&n.x>=a&&r!==n.x&&hn(i<l?r:o,i,a,l,i<l?o:r,i,n.x,n.y)){var u=Math.abs(i-n.y)/(r-n.x);(u<c||u===c&&n.x>s.x)&&mn(n,e)&&(s=n,c=u)}n=n.next}return s}function cn(e,t,n,r,i){return 1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1)|(1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function un(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function hn(e,t,n,r,i,o,a,s){return 0<=(i-a)*(t-s)-(e-a)*(o-s)&&0<=(e-a)*(r-s)-(n-a)*(t-s)&&0<=(n-a)*(o-s)-(i-a)*(r-s)}function dn(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function pn(e,t){return e.x===t.x&&e.y===t.y}function fn(e,t,n,r){return!!(pn(e,t)&&pn(n,r)||pn(e,r)&&pn(n,t))||0<dn(e,t,n)!=0<dn(e,t,r)&&0<dn(n,r,e)!=0<dn(n,r,t)}function mn(e,t){return 0>dn(e.prev,e,e.next)?0<=dn(e,t,e.next)&&0<=dn(e,e.prev,t):0>dn(e,t,e.prev)||0>dn(e,e.next,t)}function gn(e,t){var n=new bn(e.i,e.x,e.y),r=new bn(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function vn(e,t,n,r){return e=new bn(e,t,n),r?(e.next=r.next,e.prev=r,r.next.prev=e,r.next=e):(e.prev=e,e.next=e),e}function yn(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function bn(e,t,n){this.i=e,this.x=t,this.y=n,this.nextZ=this.prevZ=this.z=this.next=this.prev=null,this.steiner=!1}function xn(e){var t=e.length;2<t&&e[t-1].equals(e[0])&&e.pop()}function _n(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function wn(e,t){S.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new Mn(e,t)),this.mergeVertices()}function Mn(e,t){function n(e){function n(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}function l(e,t,n){var i=e.x-t.x,o=e.y-t.y,a=n.x-e.x,s=n.y-e.y,l=i*i+o*o;if(Math.abs(i*s-o*a)>Number.EPSILON){var c=Math.sqrt(l),u=Math.sqrt(a*a+s*s);if(l=t.x-o/c,t=t.y+i/c,s=((n.x-s/u-l)*s-(n.y+a/u-t)*a)/(i*s-o*a),a=l+i*s-e.x,i=t+o*s-e.y,2>=(o=a*a+i*i))return new r(a,i);o=Math.sqrt(o/2)}else e=!1,i>Number.EPSILON?a>Number.EPSILON&&(e=!0):i<-Number.EPSILON?a<-Number.EPSILON&&(e=!0):Math.sign(o)===Math.sign(s)&&(e=!0),e?(a=-o,o=Math.sqrt(l)):(a=i,i=o,o=Math.sqrt(l/2));return new r(a/o,i/o)}function c(e,t){for(H=e.length;0<=--H;){var n=H,r=H-1;0>r&&(r=e.length-1);var a,s=g+2*_;for(a=0;a<s;a++){var l=F*a,c=F*(a+1),u=t+r+l,h=t+r+c;c=t+n+c,d(t+n+l),d(u),d(c),d(u),d(h),d(c),l=o.length/3,p((l=M.generateSideWallUV(i,o,l-6,l-3,l-2,l-1))[0]),p(l[1]),p(l[3]),p(l[1]),p(l[2]),p(l[3])}}}function u(e,t,n){f.push(e),f.push(t),f.push(n)}function h(e,t,n){d(e),d(t),d(n),e=o.length/3,p((e=M.generateTopUV(i,o,e-3,e-2,e-1))[0]),p(e[1]),p(e[2])}function d(e){o.push(f[3*e]),o.push(f[3*e+1]),o.push(f[3*e+2])}function p(e){s.push(e.x),s.push(e.y)}var f=[],m=void 0!==t.curveSegments?t.curveSegments:12,g=void 0!==t.steps?t.steps:1,v=void 0!==t.depth?t.depth:100,y=void 0===t.bevelEnabled||t.bevelEnabled,b=void 0!==t.bevelThickness?t.bevelThickness:6,x=void 0!==t.bevelSize?t.bevelSize:b-2,_=void 0!==t.bevelSegments?t.bevelSegments:3,w=t.extrudePath,M=void 0!==t.UVGenerator?t.UVGenerator:To;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),v=t.amount);var S,C=!1;if(w){var E=w.getSpacedPoints(g);C=!0,y=!1;var T=w.computeFrenetFrames(g,!1),L=new a,P=new a,k=new a}y||(x=b=_=0),m=e.extractPoints(m),e=m.shape;var A=m.holes;if(!Eo.isClockWise(e)){e=e.reverse();var I=0;for(S=A.length;I<S;I++){var O=A[I];Eo.isClockWise(O)&&(A[I]=O.reverse())}}var R=Eo.triangulateShape(e,A),D=e;for(I=0,S=A.length;I<S;I++)O=A[I],e=e.concat(O);var N,B,F=e.length,j=R.length;m=[];var H=0,z=D.length,U=z-1;for(N=H+1;H<z;H++,U++,N++)U===z&&(U=0),N===z&&(N=0),m[H]=l(D[H],D[U],D[N]);w=[];var G=m.concat();for(I=0,S=A.length;I<S;I++){O=A[I];var V=[];for(H=0,z=O.length,U=z-1,N=H+1;H<z;H++,U++,N++)U===z&&(U=0),N===z&&(N=0),V[H]=l(O[H],O[U],O[N]);w.push(V),G=G.concat(V)}for(U=0;U<_;U++){z=U/_;var W=b*Math.cos(z*Math.PI/2);for(N=x*Math.sin(z*Math.PI/2),H=0,z=D.length;H<z;H++){var q=n(D[H],m[H],N);u(q.x,q.y,-W)}for(I=0,S=A.length;I<S;I++)for(O=A[I],V=w[I],H=0,z=O.length;H<z;H++)u((q=n(O[H],V[H],N)).x,q.y,-W)}for(N=x,H=0;H<F;H++)q=y?n(e[H],G[H],N):e[H],C?(P.copy(T.normals[0]).multiplyScalar(q.x),L.copy(T.binormals[0]).multiplyScalar(q.y),k.copy(E[0]).add(P).add(L),u(k.x,k.y,k.z)):u(q.x,q.y,0);for(z=1;z<=g;z++)for(H=0;H<F;H++)q=y?n(e[H],G[H],N):e[H],C?(P.copy(T.normals[z]).multiplyScalar(q.x),L.copy(T.binormals[z]).multiplyScalar(q.y),k.copy(E[z]).add(P).add(L),u(k.x,k.y,k.z)):u(q.x,q.y,v/g*z);for(U=_-1;0<=U;U--){for(z=U/_,W=b*Math.cos(z*Math.PI/2),N=x*Math.sin(z*Math.PI/2),H=0,z=D.length;H<z;H++)u((q=n(D[H],m[H],N)).x,q.y,v+W);for(I=0,S=A.length;I<S;I++)for(O=A[I],V=w[I],H=0,z=O.length;H<z;H++)q=n(O[H],V[H],N),C?u(q.x,q.y+E[g-1].y,E[g-1].x+W):u(q.x,q.y,v+W)}!function(){var e=o.length/3;if(y){var t=0*F;for(H=0;H<j;H++)h((B=R[H])[2]+t,B[1]+t,B[0]+t);for(t=F*(g+2*_),H=0;H<j;H++)h((B=R[H])[0]+t,B[1]+t,B[2]+t)}else{for(H=0;H<j;H++)h((B=R[H])[2],B[1],B[0]);for(H=0;H<j;H++)h((B=R[H])[0]+F*g,B[1]+F*g,B[2]+F*g)}i.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;for(c(D,t),t+=D.length,I=0,S=A.length;I<S;I++)c(O=A[I],t),t+=O.length;i.addGroup(e,o.length/3-e,1)}()}B.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var i=this,o=[],s=[],l=0,c=e.length;l<c;l++)n(e[l]);this.addAttribute("position",new O(o,3)),this.addAttribute("uv",new O(s,2)),this.computeVertexNormals()}function Sn(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++)n.shapes.push(e[r].uuid);else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function Cn(e,t){S.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new En(e,t)),this.mergeVertices()}function En(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new S;e=n.generateShapes(e,t.size),t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),Mn.call(this,e,t),this.type="TextBufferGeometry"}function Tn(e,t,n,r,i,o,a){S.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new Ln(e,t,n,r,i,o,a)),this.mergeVertices()}function Ln(e,t,n,r,i,o,s){B.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:s},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,s=void 0!==s?s:Math.PI;var l,c,u=o+s,h=0,d=[],p=new a,f=new a,m=[],g=[],v=[],y=[];for(c=0;c<=n;c++){var b=[],x=c/n;for(l=0;l<=t;l++){var _=l/t;p.x=-e*Math.cos(r+_*i)*Math.sin(o+x*s),p.y=e*Math.cos(o+x*s),p.z=e*Math.sin(r+_*i)*Math.sin(o+x*s),g.push(p.x,p.y,p.z),f.set(p.x,p.y,p.z).normalize(),v.push(f.x,f.y,f.z),y.push(_,1-x),b.push(h++)}d.push(b)}for(c=0;c<n;c++)for(l=0;l<t;l++)e=d[c][l+1],r=d[c][l],i=d[c+1][l],s=d[c+1][l+1],(0!==c||0<o)&&m.push(e,r,s),(c!==n-1||u<Math.PI)&&m.push(r,i,s);this.setIndex(m),this.addAttribute("position",new O(g,3)),this.addAttribute("normal",new O(v,3)),this.addAttribute("uv",new O(y,2))}function Pn(e,t,n,r,i,o){S.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new kn(e,t,n,r,i,o)),this.mergeVertices()}function kn(e,t,n,i,o,s){B.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:o,thetaLength:s},e=e||.5,t=t||1,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI,n=void 0!==n?Math.max(3,n):8,i=void 0!==i?Math.max(1,i):1;var l,c,u=[],h=[],d=[],p=[],f=e,m=(t-e)/i,g=new a,v=new r;for(l=0;l<=i;l++){for(c=0;c<=n;c++)e=o+c/n*s,g.x=f*Math.cos(e),g.y=f*Math.sin(e),h.push(g.x,g.y,g.z),d.push(0,0,1),v.x=(g.x/t+1)/2,v.y=(g.y/t+1)/2,p.push(v.x,v.y);f+=m}for(l=0;l<i;l++)for(t=l*(n+1),c=0;c<n;c++)o=(e=c+t)+n+1,s=e+n+2,f=e+1,u.push(e,o,f),u.push(o,s,f);this.setIndex(u),this.addAttribute("position",new O(h,3)),this.addAttribute("normal",new O(d,3)),this.addAttribute("uv",new O(p,2))}function An(e,t,n,r){S.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new In(e,t,n,r)),this.mergeVertices()}function In(e,t,n,i){B.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t)||12,n=n||0,i=i||2*Math.PI,i=Qi.clamp(i,0,2*Math.PI);var o,s=[],l=[],c=[],u=1/t,h=new a,d=new r;for(o=0;o<=t;o++){var p=n+o*u*i,f=Math.sin(p),m=Math.cos(p);for(p=0;p<=e.length-1;p++)h.x=e[p].x*f,h.y=e[p].y,h.z=e[p].x*m,l.push(h.x,h.y,h.z),d.x=o/t,d.y=p/(e.length-1),c.push(d.x,d.y)}for(o=0;o<t;o++)for(p=0;p<e.length-1;p++)n=p+o*e.length,u=n+e.length,h=n+e.length+1,d=n+1,s.push(n,u,d),s.push(u,h,d);if(this.setIndex(s),this.addAttribute("position",new O(l,3)),this.addAttribute("uv",new O(c,2)),this.computeVertexNormals(),i===2*Math.PI)for(i=this.attributes.normal.array,s=new a,l=new a,c=new a,n=t*e.length*3,p=o=0;o<e.length;o++,p+=3)s.x=i[p+0],s.y=i[p+1],s.z=i[p+2],l.x=i[n+p+0],l.y=i[n+p+1],l.z=i[n+p+2],c.addVectors(s,l).normalize(),i[p+0]=i[n+p+0]=c.x,i[p+1]=i[n+p+1]=c.y,i[p+2]=i[n+p+2]=c.z}function On(e,t){S.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Rn(e,t)),this.mergeVertices()}function Rn(e,t){function n(e){var n,s=i.length/3,c=(e=e.extractPoints(t)).shape,u=e.holes;if(!1===Eo.isClockWise(c))for(c=c.reverse(),e=0,n=u.length;e<n;e++){var h=u[e];!0===Eo.isClockWise(h)&&(u[e]=h.reverse())}var d=Eo.triangulateShape(c,u);for(e=0,n=u.length;e<n;e++)h=u[e],c=c.concat(h);for(e=0,n=c.length;e<n;e++)h=c[e],i.push(h.x,h.y,0),o.push(0,0,1),a.push(h.x,h.y);for(e=0,n=d.length;e<n;e++)c=d[e],r.push(c[0]+s,c[1]+s,c[2]+s),l+=3}B.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var r=[],i=[],o=[],a=[],s=0,l=0;if(!1===Array.isArray(e))n(e);else for(var c=0;c<e.length;c++)n(e[c]),this.addGroup(s,l,c),s+=l,l=0;this.setIndex(r),this.addAttribute("position",new O(i,3)),this.addAttribute("normal",new O(o,3)),this.addAttribute("uv",new O(a,2))}function Dn(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++)t.shapes.push(e[n].uuid);else t.shapes.push(e.uuid);return t}function Nn(e,t){B.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t};var n=[];t=Math.cos(Qi.DEG2RAD*(void 0!==t?t:1));var r=[0,0],i={},o=["a","b","c"];if(e.isBufferGeometry){var a=new S;a.fromBufferGeometry(e)}else a=e.clone();a.mergeVertices(),a.computeFaceNormals(),e=a.vertices,a=a.faces;for(var s=0,l=a.length;s<l;s++)for(var c=a[s],u=0;3>u;u++){var h=c[o[u]],d=c[o[(u+1)%3]];r[0]=Math.min(h,d),r[1]=Math.max(h,d),h=r[0]+","+r[1],void 0===i[h]?i[h]={index1:r[0],index2:r[1],face1:s,face2:void 0}:i[h].face2=s}for(h in i)(void 0===(r=i[h]).face2||a[r.face1].normal.dot(a[r.face2].normal)<=t)&&(o=e[r.index1],n.push(o.x,o.y,o.z),o=e[r.index2],n.push(o.x,o.y,o.z));this.addAttribute("position",new O(n,3))}function Bn(e,t,n,r,i,o,a,s){S.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new Fn(e,t,n,r,i,o,a,s)),this.mergeVertices()}function Fn(e,t,n,i,o,s,l,c){function u(n){var o,s=new r,u=new a,v=0,x=!0===n?e:t,_=!0===n?1:-1,w=g;for(o=1;o<=i;o++)p.push(0,y*_,0),f.push(0,_,0),m.push(.5,.5),g++;var M=g;for(o=0;o<=i;o++){var S=o/i*c+l,C=Math.cos(S);S=Math.sin(S),u.x=x*S,u.y=y*_,u.z=x*C,p.push(u.x,u.y,u.z),f.push(0,_,0),s.x=.5*C+.5,s.y=.5*S*_+.5,m.push(s.x,s.y),g++}for(o=0;o<i;o++)s=w+o,u=M+o,!0===n?d.push(u,u+1,s):d.push(u+1,u,s),v+=3;h.addGroup(b,v,!0===n?1:2),b+=v}B.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:c};var h=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,i=Math.floor(i)||8,o=Math.floor(o)||1,s=void 0!==s&&s,l=void 0!==l?l:0,c=void 0!==c?c:2*Math.PI;var d=[],p=[],f=[],m=[],g=0,v=[],y=n/2,b=0;!function(){var r,s,u=new a,x=new a,_=0,w=(t-e)/n;for(s=0;s<=o;s++){var M=[],S=s/o,C=S*(t-e)+e;for(r=0;r<=i;r++){var E=r/i,T=E*c+l,L=Math.sin(T);T=Math.cos(T),x.x=C*L,x.y=-S*n+y,x.z=C*T,p.push(x.x,x.y,x.z),u.set(L,w,T).normalize(),f.push(u.x,u.y,u.z),m.push(E,1-S),M.push(g++)}v.push(M)}for(r=0;r<i;r++)for(s=0;s<o;s++)u=v[s+1][r],x=v[s+1][r+1],w=v[s][r+1],d.push(v[s][r],u,w),d.push(u,x,w),_+=6;h.addGroup(b,_,0),b+=_}(),!1===s&&(0<e&&u(!0),0<t&&u(!1)),this.setIndex(d),this.addAttribute("position",new O(p,3)),this.addAttribute("normal",new O(f,3)),this.addAttribute("uv",new O(m,2))}function jn(e,t,n,r,i,o,a){Bn.call(this,0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function Hn(e,t,n,r,i,o,a){Fn.call(this,0,e,t,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function zn(e,t,n,r){S.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new Un(e,t,n,r)),this.mergeVertices()}function Un(e,t,n,i){B.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var o,s=[],l=[],c=[],u=[],h=new a,d=new r;l.push(0,0,0),c.push(0,0,1),u.push(.5,.5);var p=0;for(o=3;p<=t;p++,o+=3){var f=n+p/t*i;h.x=e*Math.cos(f),h.y=e*Math.sin(f),l.push(h.x,h.y,h.z),c.push(0,0,1),d.x=(l[o]/e+1)/2,d.y=(l[o+1]/e+1)/2,u.push(d.x,d.y)}for(o=1;o<=t;o++)s.push(o,o+1,0);this.setIndex(s),this.addAttribute("position",new O(l,3)),this.addAttribute("normal",new O(c,3)),this.addAttribute("uv",new O(u,2))}function Gn(e){U.call(this),this.type="ShadowMaterial",this.color=new v(0),this.transparent=!0,this.setValues(e)}function Vn(e){G.call(this,e),this.type="RawShaderMaterial"}function Wn(e){U.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new v(16777215),this.metalness=this.roughness=.5,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new v(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)}function qn(e){Wn.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoatRoughness=this.clearCoat=0,this.setValues(e)}function Kn(e){U.call(this),this.type="MeshPhongMaterial",this.color=new v(16777215),this.specular=new v(1118481),this.shininess=30,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new v(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)}function Xn(e){Kn.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function Yn(e){U.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.lights=this.fog=!1,this.setValues(e)}function Zn(e){U.call(this),this.type="MeshLambertMaterial",this.color=new v(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new v(0),this.emissiveIntensity=1,this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)}function Jn(t){if(U.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new v(16777215),this.bumpMap=this.map=this.matcap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.lights=this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(t),null===this.matcap){(t=document.createElement("canvas")).width=1,t.height=1;var n=t.getContext("2d");n.fillStyle="#fff",n.fillRect(0,0,1,1),this.matcap=new e.CanvasTexture(t)}}function Qn(e){Pt.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}function $n(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function er(e,t,n,r){$n.call(this,e,t,n,r),this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}function tr(e,t,n,r){$n.call(this,e,t,n,r)}function nr(e,t,n,r){$n.call(this,e,t,n,r)}function rr(e,t,n,r){if(void 0===e)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ko.convertArray(t,this.TimeBufferType),this.values=ko.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function ir(e,t,n){rr.call(this,e,t,n)}function or(e,t,n,r){rr.call(this,e,t,n,r)}function ar(e,t,n,r){rr.call(this,e,t,n,r)}function sr(e,t,n,r){$n.call(this,e,t,n,r)}function lr(e,t,n,r){rr.call(this,e,t,n,r)}function cr(e,t,n,r){rr.call(this,e,t,n,r)}function ur(e,t,n,r){rr.call(this,e,t,n,r)}function hr(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=Qi.generateUUID(),0>this.duration&&this.resetDuration()}function dr(e){if(void 0===e.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ar;case"vector":case"vector2":case"vector3":case"vector4":return ur;case"color":return or;case"quaternion":return lr;case"bool":case"boolean":return ir;case"string":return cr}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];ko.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}function pr(e,t,n){var r=this,i=!1,o=0,a=0,s=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===i&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o===a&&(i=!1,void 0!==r.onLoad)&&r.onLoad()},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this}}function fr(e){this.manager=void 0!==e?e:Io}function mr(e){this.manager=void 0!==e?e:Io}function gr(e){this.manager=void 0!==e?e:Io,this._parser=null}function vr(e){this.manager=void 0!==e?e:Io,this._parser=null}function yr(e){this.manager=void 0!==e?e:Io}function br(e){this.manager=void 0!==e?e:Io}function xr(e){this.manager=void 0!==e?e:Io}function _r(){this.type="Curve",this.arcLengthDivisions=200}function wr(e,t,n,r,i,o,a,s){_r.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function Mr(e,t,n,r,i,o){wr.call(this,e,t,n,n,r,i,o),this.type="ArcCurve"}function Sr(){var e=0,t=0,n=0,r=0;return{initCatmullRom:function(i,o,a,s,l){e=o,t=i=l*(a-i),n=-3*o+3*a-2*i-(s=l*(s-o)),r=2*o-2*a+i+s},initNonuniformCatmullRom:function(i,o,a,s,l,c,u){e=o,t=i=((o-i)/l-(a-i)/(l+c)+(a-o)/c)*c,n=-3*o+3*a-2*i-(s=((a-o)/c-(s-o)/(c+u)+(s-a)/u)*c),r=2*o-2*a+i+s},calc:function(i){var o=i*i;return e+t*i+n*o+r*o*i}}}function Cr(e,t,n,r){_r.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}function Er(e,t,n,r,i){var o=e*e;return(2*n-2*r+(t=.5*(r-t))+(i=.5*(i-n)))*e*o+(-3*n+3*r-2*t-i)*o+t*e+n}function Tr(e,t,n,r){var i=1-e;return i*i*t+2*(1-e)*e*n+e*e*r}function Lr(e,t,n,r,i){var o=1-e,a=1-e;return o*o*o*t+3*a*a*e*n+3*(1-e)*e*e*r+e*e*e*i}function Pr(e,t,n,i){_r.call(this),this.type="CubicBezierCurve",this.v0=e||new r,this.v1=t||new r,this.v2=n||new r,this.v3=i||new r}function kr(e,t,n,r){_r.call(this),this.type="CubicBezierCurve3",this.v0=e||new a,this.v1=t||new a,this.v2=n||new a,this.v3=r||new a}function Ar(e,t){_r.call(this),this.type="LineCurve",this.v1=e||new r,this.v2=t||new r}function Ir(e,t){_r.call(this),this.type="LineCurve3",this.v1=e||new a,this.v2=t||new a}function Or(e,t,n){_r.call(this),this.type="QuadraticBezierCurve",this.v0=e||new r,this.v1=t||new r,this.v2=n||new r}function Rr(e,t,n){_r.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new a,this.v1=t||new a,this.v2=n||new a}function Dr(e){_r.call(this),this.type="SplineCurve",this.points=e||[]}function Nr(){_r.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Br(e){Nr.call(this),this.type="Path",this.currentPoint=new r,e&&this.setFromPoints(e)}function Fr(e){Br.call(this,e),this.uuid=Qi.generateUUID(),this.type="Shape",this.holes=[]}function jr(e,t){M.call(this),this.type="Light",this.color=new v(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Hr(e,t,n){jr.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(M.DefaultUp),this.updateMatrix(),this.groundColor=new v(t)}function zr(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new r(512,512),this.map=null,this.matrix=new i}function Ur(){zr.call(this,new dt(50,1,.5,500))}function Gr(e,t,n,r,i,o){jr.call(this,e,t),this.type="SpotLight",this.position.copy(M.DefaultUp),this.updateMatrix(),this.target=new M,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new Ur}function Vr(e,t,n,r){jr.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new zr(new dt(90,1,.5,500))}function Wr(e,t,n,r,i,o){ht.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function qr(){zr.call(this,new Wr(-5,5,5,-5,.5,500))}function Kr(e,t){jr.call(this,e,t),this.type="DirectionalLight",this.position.copy(M.DefaultUp),this.updateMatrix(),this.target=new M,this.shadow=new qr}function Xr(e,t){jr.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Yr(e,t,n,r){jr.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function Zr(e){this.manager=void 0!==e?e:Io,this.textures={}}function Jr(e){this.manager=void 0!==e?e:Io}function Qr(){}function $r(e){"boolean"==typeof e&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=void 0!==e?e:Io,this.withCredentials=!1}function ei(e){this.manager=void 0!==e?e:Io,this.resourcePath=""}function ti(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==e?e:Io,this.options=void 0}function ni(){this.type="ShapePath",this.color=new v,this.subPaths=[],this.currentPath=null}function ri(e){this.type="Font",this.data=e}function ii(e){this.manager=void 0!==e?e:Io}function oi(e){this.manager=void 0!==e?e:Io}function ai(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new dt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new dt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function si(e,t,n,r){M.call(this),this.type="CubeCamera";var i=new dt(90,1,e,t);i.up.set(0,-1,0),i.lookAt(new a(1,0,0)),this.add(i);var o=new dt(90,1,e,t);o.up.set(0,-1,0),o.lookAt(new a(-1,0,0)),this.add(o);var s=new dt(90,1,e,t);s.up.set(0,0,1),s.lookAt(new a(0,1,0)),this.add(s);var l=new dt(90,1,e,t);l.up.set(0,0,-1),l.lookAt(new a(0,-1,0)),this.add(l);var c=new dt(90,1,e,t);c.up.set(0,-1,0),c.lookAt(new a(0,0,1)),this.add(c);var u=new dt(90,1,e,t);u.up.set(0,-1,0),u.lookAt(new a(0,0,-1)),this.add(u),r=r||{format:1022,magFilter:1006,minFilter:1006},this.renderTarget=new h(n,n,r),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,i,n),n.activeCubeFace=1,e.render(t,o,n),n.activeCubeFace=2,e.render(t,s,n),n.activeCubeFace=3,e.render(t,l,n),n.activeCubeFace=4,e.render(t,c,n),n.texture.generateMipmaps=r,n.activeCubeFace=5,e.render(t,u,n),e.setRenderTarget(null)},this.clear=function(e,t,n,r){for(var i=this.renderTarget,o=0;6>o;o++)i.activeCubeFace=o,e.setRenderTarget(i),e.clear(t,n,r);e.setRenderTarget(null)}}function li(e){this.autoStart=void 0===e||e,this.elapsedTime=this.oldTime=this.startTime=0,this.running=!1}function ci(){M.call(this),this.type="AudioListener",this.context=Ko.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function ui(e){M.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.offset=this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function hi(e){ui.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function di(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function pi(e,t,n){switch(this.binding=e,this.valueSize=n,e=Float64Array,t){case"quaternion":t=this._slerp;break;case"string":case"bool":e=Array,t=this._select;break;default:t=this._lerp}this.buffer=new e(4*n),this._mixBufferRegion=t,this.referenceCount=this.useCount=this.cumulativeWeight=0}function fi(e,t,n){n=n||mi.parseTrackName(t),this._targetGroup=e,this._bindings=e.subscribe_(t,n)}function mi(e,t,n){this.path=t,this.parsedPath=n||mi.parseTrackName(t),this.node=mi.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function gi(){this.uuid=Qi.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function vi(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null,e=t.tracks,t=e.length,n=Array(t);for(var r={endingStart:2400,endingEnd:2400},i=0;i!==t;++i){var o=e[i].createInterpolant(null);n[i]=o,o.settings=r}this._interpolantSettings=r,this._interpolants=n,this._propertyBindings=Array(t),this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}function yi(e){this._root=e,this._initMemoryManager(),this.time=this._accuIndex=0,this.timeScale=1}function bi(e,t){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=t),this.value=e}function xi(){B.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function _i(e,t,n){_t.call(this,e,t),this.meshPerAttribute=n||1}function wi(e,t,n,r){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),C.call(this,e,t,n),this.meshPerAttribute=r||1}function Mi(e,t,n,r){this.ray=new V(e,t),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Si(e,t){return e.distance-t.distance}function Ci(e,t,n,r){if(!1!==e.visible&&(e.raycast(t,n),!0===r)){e=e.children,r=0;for(var i=e.length;r<i;r++)Ci(e[r],t,n,!0)}}function Ei(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function Ti(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}function Li(e,t){this.min=void 0!==e?e:new r(1/0,1/0),this.max=void 0!==t?t:new r(-1/0,-1/0)}function Pi(e,t){this.start=void 0!==e?e:new a,this.end=void 0!==t?t:new a}function ki(e){M.call(this),this.material=e,this.render=function(){}}function Ai(e,t,n,r){this.object=e,this.size=void 0!==t?t:1,e=void 0!==n?n:16711680,r=void 0!==r?r:1,t=0,(n=this.object.geometry)&&n.isGeometry?t=3*n.faces.length:n&&n.isBufferGeometry&&(t=n.attributes.normal.count),n=new B,t=new O(6*t,3),n.addAttribute("position",t),At.call(this,n,new Pt({color:e,linewidth:r})),this.matrixAutoUpdate=!1,this.update()}function Ii(e,t){M.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,e=new B,t=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(var n=0,r=1;32>n;n++,r++){var i=n/32*Math.PI*2,o=r/32*Math.PI*2;t.push(Math.cos(i),Math.sin(i),1,Math.cos(o),Math.sin(o),1)}e.addAttribute("position",new O(t,3)),t=new Pt({fog:!1}),this.cone=new At(e,t),this.add(this.cone),this.update()}function Oi(e){for(var t=function e(t){var n=[];t&&t.isBone&&n.push(t);for(var r=0;r<t.children.length;r++)n.push.apply(n,e(t.children[r]));return n}(e),n=new B,r=[],i=[],o=new v(0,0,1),a=new v(0,1,0),s=0;s<t.length;s++){var l=t[s];l.parent&&l.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.addAttribute("position",new O(r,3)),n.addAttribute("color",new O(i,3)),r=new Pt({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0}),At.call(this,n,r),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function Ri(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n,e=new Ln(t,4,2),t=new q({wireframe:!0,fog:!1}),K.call(this,e,t),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Di(e,t){M.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,e=new Pt({fog:!1}),(t=new B).addAttribute("position",new C(new Float32Array(15),3)),this.line=new kt(t,e),this.add(this.line),this.update()}function Ni(e,t,n){M.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,(e=new Kt(t)).rotateY(.5*Math.PI),this.material=new q({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=2),t=e.getAttribute("position"),t=new Float32Array(3*t.count),e.addAttribute("color",new C(t,3)),this.add(new K(e,this.material)),this.update()}function Bi(e,t,n,r){e=e||10,t=t||10,n=new v(void 0!==n?n:4473924),r=new v(void 0!==r?r:8947848);var i=t/2,o=e/t,a=e/2;e=[];for(var s=[],l=0,c=0,u=-a;l<=t;l++,u+=o){e.push(-a,0,u,a,0,u),e.push(u,0,-a,u,0,a);var h=l===i?n:r;h.toArray(s,c),c+=3,h.toArray(s,c),c+=3,h.toArray(s,c),c+=3,h.toArray(s,c),c+=3}(t=new B).addAttribute("position",new O(e,3)),t.addAttribute("color",new O(s,3)),n=new Pt({vertexColors:2}),At.call(this,t,n)}function Fi(e,t,n,r,i,o){e=e||10,t=t||16,n=n||8,r=r||64,i=new v(void 0!==i?i:4473924),o=new v(void 0!==o?o:8947848);var a,s=[],l=[];for(a=0;a<=t;a++){var c=a/t*2*Math.PI,u=Math.sin(c)*e;c=Math.cos(c)*e,s.push(0,0,0),s.push(u,0,c);var h=1&a?i:o;l.push(h.r,h.g,h.b),l.push(h.r,h.g,h.b)}for(a=0;a<=n;a++){h=1&a?i:o;var d=e-e/n*a;for(t=0;t<r;t++)c=t/r*2*Math.PI,u=Math.sin(c)*d,c=Math.cos(c)*d,s.push(u,0,c),l.push(h.r,h.g,h.b),c=(t+1)/r*2*Math.PI,u=Math.sin(c)*d,c=Math.cos(c)*d,s.push(u,0,c),l.push(h.r,h.g,h.b)}(e=new B).addAttribute("position",new O(s,3)),e.addAttribute("color",new O(l,3)),s=new Pt({vertexColors:2}),At.call(this,e,s)}function ji(e,t,n,r){this.object=e,this.size=void 0!==t?t:1,e=void 0!==n?n:16776960,r=void 0!==r?r:1,t=0,(n=this.object.geometry)&&n.isGeometry?t=n.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead."),n=new B,t=new O(6*t,3),n.addAttribute("position",t),At.call(this,n,new Pt({color:e,linewidth:r})),this.matrixAutoUpdate=!1,this.update()}function Hi(e,t,n){M.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1),(e=new B).addAttribute("position",new O([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3)),t=new Pt({fog:!1}),this.lightPlane=new kt(e,t),this.add(this.lightPlane),(e=new B).addAttribute("position",new O([0,0,0,0,0,1],3)),this.targetLine=new kt(e,t),this.add(this.targetLine),this.update()}function zi(e){function t(e,t,r){n(e,r),n(t,r)}function n(e,t){o.push(0,0,0),a.push(t.r,t.g,t.b),void 0===s[e]&&(s[e]=[]),s[e].push(o.length/3-1)}var r=new B,i=new Pt({color:16777215,vertexColors:1}),o=[],a=[],s={},l=new v(16755200),c=new v(16711680),u=new v(43775),h=new v(16777215),d=new v(3355443);t("n1","n2",l),t("n2","n4",l),t("n4","n3",l),t("n3","n1",l),t("f1","f2",l),t("f2","f4",l),t("f4","f3",l),t("f3","f1",l),t("n1","f1",l),t("n2","f2",l),t("n3","f3",l),t("n4","f4",l),t("p","n1",c),t("p","n2",c),t("p","n3",c),t("p","n4",c),t("u1","u2",u),t("u2","u3",u),t("u3","u1",u),t("c","t",h),t("p","c",d),t("cn1","cn2",d),t("cn3","cn4",d),t("cf1","cf2",d),t("cf3","cf4",d),r.addAttribute("position",new O(o,3)),r.addAttribute("color",new O(a,3)),At.call(this,r,i),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function Ui(e,t){this.object=e,void 0===t&&(t=16776960),e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var n=new Float32Array(24),r=new B;r.setIndex(new C(e,1)),r.addAttribute("position",new C(n,3)),At.call(this,r,new Pt({color:t})),this.matrixAutoUpdate=!1,this.update()}function Gi(e,t){this.type="Box3Helper",this.box=e,e=void 0!==t?t:16776960,t=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var n=new B;n.setIndex(new C(t,1)),n.addAttribute("position",new O([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),At.call(this,n,new Pt({color:e})),this.geometry.computeBoundingSphere()}function Vi(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t,e=void 0!==n?n:16776960,(t=new B).addAttribute("position",new O([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),t.computeBoundingSphere(),kt.call(this,t,new Pt({color:e})),(t=new B).addAttribute("position",new O([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),t.computeBoundingSphere(),this.add(new K(t,new q({color:e,opacity:.2,transparent:!0,depthWrite:!1})))}function Wi(t,n,r,i,o,a){M.call(this),void 0===t&&(t=new e.Vector3(0,0,1)),void 0===n&&(n=new e.Vector3(0,0,0)),void 0===r&&(r=1),void 0===i&&(i=16776960),void 0===o&&(o=.2*r),void 0===a&&(a=.2*o),void 0===Wo&&((Wo=new B).addAttribute("position",new O([0,0,0,0,1,0],3)),(qo=new Fn(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(n),this.line=new kt(Wo,new Pt({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new K(qo,new q({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(r,o,a)}function qi(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e];(e=new B).addAttribute("position",new O(t,3)),e.addAttribute("color",new O([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),t=new Pt({vertexColors:2}),At.call(this,e,t)}function Ki(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Cr.call(this,e),this.type="catmullrom",this.closed=!0}function Xi(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Cr.call(this,e),this.type="catmullrom"}function Yi(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Cr.call(this,e),this.type="catmullrom"}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return 0>e?-1:0<e?1:+e}),0=="name"in Function.prototype&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}),Object.assign(n.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){void 0!==this._listeners&&void 0!==(e=this._listeners[e])&&-1!==(t=e.indexOf(t))&&e.splice(t,1)},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this,t=t.slice(0);for(var n=0,r=t.length;n<r;n++)t[n].call(this,e)}}}});var Zi,Ji,Qi={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var e=[],t=0;256>t;t++)e[t]=(16>t?"0":"")+t.toString(16);return function(){var t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&n]+e[n>>8&255]+"-"+e[n>>16&15|64]+e[n>>24&255]+"-"+e[63&r|128]+e[r>>8&255]+"-"+e[r>>16&255]+e[r>>24&255]+e[255&i]+e[i>>8&255]+e[i>>16&255]+e[i>>24&255]).toUpperCase()}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Qi.DEG2RAD},radToDeg:function(e){return e*Qi.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};Object.defineProperties(r.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(r.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.y=this.x=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y;return e=e.elements,this.x=e[0]*t+e[3]*n+e[6],this.y=e[1]*t+e[4]*n+e[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:(Zi=new r,Ji=new r,function(e,t){return Zi.set(e,e),Ji.set(t,t),this.clamp(Zi,Ji)}),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return 0>e&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x;return e=this.y-e.y,t*t+e*e},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t);t=Math.sin(t);var r=this.x-e.x,i=this.y-e.y;return this.x=r*n-i*t+e.x,this.y=r*t+i*n+e.y,this}}),Object.assign(i.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,o,a,s,l,c,u,h,d,p,f,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=d,g[7]=p,g[11]=f,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new i).fromArray(this.elements)},copy:function(e){var t=this.elements;return e=e.elements,t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],this},copyPosition:function(e){var t=this.elements;return e=e.elements,t[12]=e[12],t[13]=e[13],t[14]=e[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e=new a;return function(t){var n=this.elements,r=t.elements,i=1/e.setFromMatrixColumn(t,0).length(),o=1/e.setFromMatrixColumn(t,1).length();return t=1/e.setFromMatrixColumn(t,2).length(),n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*t,n[9]=r[9]*t,n[10]=r[10]*t,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}}(),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n);n=Math.sin(n);var a=Math.cos(r);r=Math.sin(r);var s=Math.cos(i);if(i=Math.sin(i),"XYZ"===e.order){e=o*s;var l=o*i,c=n*s,u=n*i;t[0]=a*s,t[4]=-a*i,t[8]=r,t[1]=l+c*r,t[5]=e-u*r,t[9]=-n*a,t[2]=u-e*r,t[6]=c+l*r,t[10]=o*a}else"YXZ"===e.order?(e=a*s,l=a*i,c=r*s,u=r*i,t[0]=e+u*n,t[4]=c*n-l,t[8]=o*r,t[1]=o*i,t[5]=o*s,t[9]=-n,t[2]=l*n-c,t[6]=u+e*n,t[10]=o*a):"ZXY"===e.order?(e=a*s,l=a*i,c=r*s,u=r*i,t[0]=e-u*n,t[4]=-o*i,t[8]=c+l*n,t[1]=l+c*n,t[5]=o*s,t[9]=u-e*n,t[2]=-o*r,t[6]=n,t[10]=o*a):"ZYX"===e.order?(e=o*s,l=o*i,c=n*s,u=n*i,t[0]=a*s,t[4]=c*r-l,t[8]=e*r+u,t[1]=a*i,t[5]=u*r+e,t[9]=l*r-c,t[2]=-r,t[6]=n*a,t[10]=o*a):"YZX"===e.order?(e=o*a,l=o*r,c=n*a,u=n*r,t[0]=a*s,t[4]=u-e*i,t[8]=c*i+l,t[1]=i,t[5]=o*s,t[9]=-n*s,t[2]=-r*s,t[6]=l*i+c,t[10]=e-u*i):"XZY"===e.order&&(e=o*a,l=o*r,c=n*a,u=n*r,t[0]=a*s,t[4]=-i,t[8]=r*s,t[1]=e*i+u,t[5]=o*s,t[9]=l*i-c,t[2]=c*i-l,t[6]=n*s,t[10]=u*i+e);return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(){var e=new a(0,0,0),t=new a(1,1,1);return function(n){return this.compose(e,n,t)}}(),lookAt:function(){var e=new a,t=new a,n=new a;return function(r,i,o){var a=this.elements;return n.subVectors(r,i),0===n.lengthSq()&&(n.z=1),n.normalize(),e.crossVectors(o,n),0===e.lengthSq()&&(1===Math.abs(o.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),e.crossVectors(o,n)),e.normalize(),t.crossVectors(n,e),a[0]=e.x,a[4]=t.x,a[8]=n.x,a[1]=e.y,a[5]=t.y,a[9]=n.y,a[2]=e.z,a[6]=t.z,a[10]=n.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements;t=this.elements,e=n[0];var i=n[4],o=n[8],a=n[12],s=n[1],l=n[5],c=n[9],u=n[13],h=n[2],d=n[6],p=n[10],f=n[14],m=n[3],g=n[7],v=n[11];n=n[15];var y=r[0],b=r[4],x=r[8],_=r[12],w=r[1],M=r[5],S=r[9],C=r[13],E=r[2],T=r[6],L=r[10],P=r[14],k=r[3],A=r[7],I=r[11];return r=r[15],t[0]=e*y+i*w+o*E+a*k,t[4]=e*b+i*M+o*T+a*A,t[8]=e*x+i*S+o*L+a*I,t[12]=e*_+i*C+o*P+a*r,t[1]=s*y+l*w+c*E+u*k,t[5]=s*b+l*M+c*T+u*A,t[9]=s*x+l*S+c*L+u*I,t[13]=s*_+l*C+c*P+u*r,t[2]=h*y+d*w+p*E+f*k,t[6]=h*b+d*M+p*T+f*A,t[10]=h*x+d*S+p*L+f*I,t[14]=h*_+d*C+p*P+f*r,t[3]=m*y+g*w+v*E+n*k,t[7]=m*b+g*M+v*T+n*A,t[11]=m*x+g*S+v*L+n*I,t[15]=m*_+g*C+v*P+n*r,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new a;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],l=e[13],c=e[2],u=e[6],h=e[10],d=e[14];return e[3]*(+i*s*u-r*l*u-i*a*h+n*l*h+r*a*d-n*s*d)+e[7]*(+t*s*d-t*l*h+i*o*h-r*o*d+r*l*c-i*s*c)+e[11]*(+t*l*u-t*a*d-i*o*u+n*o*d+i*a*c-n*l*c)+e[15]*(-r*a*c-t*s*u+t*a*h+r*o*u-n*o*h+n*s*c)},transpose:function(){var e=this.elements,t=e[1];return e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements;e=r[0];var i=r[1],o=r[2],a=r[3],s=r[4],l=r[5],c=r[6],u=r[7],h=r[8],d=r[9],p=r[10],f=r[11],m=r[12],g=r[13],v=r[14];r=r[15];var y=d*v*u-g*p*u+g*c*f-l*v*f-d*c*r+l*p*r,b=m*p*u-h*v*u-m*c*f+s*v*f+h*c*r-s*p*r,x=h*g*u-m*d*u+m*l*f-s*g*f-h*l*r+s*d*r,_=m*d*c-h*g*c-m*l*p+s*g*p+h*l*v-s*d*v,w=e*y+i*b+o*x+a*_;if(0===w){if(!0===t)throw Error("THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0");return console.warn("THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0"),this.identity()}return t=1/w,n[0]=y*t,n[1]=(g*p*a-d*v*a-g*o*f+i*v*f+d*o*r-i*p*r)*t,n[2]=(l*v*a-g*c*a+g*o*u-i*v*u-l*o*r+i*c*r)*t,n[3]=(d*c*a-l*p*a-d*o*u+i*p*u+l*o*f-i*c*f)*t,n[4]=b*t,n[5]=(h*v*a-m*p*a+m*o*f-e*v*f-h*o*r+e*p*r)*t,n[6]=(m*c*a-s*v*a-m*o*u+e*v*u+s*o*r-e*c*r)*t,n[7]=(s*p*a-h*c*a+h*o*u-e*p*u-s*o*f+e*c*f)*t,n[8]=x*t,n[9]=(m*d*a-h*g*a-m*i*f+e*g*f+h*i*r-e*d*r)*t,n[10]=(s*g*a-m*l*a+m*i*u-e*g*u-s*i*r+e*l*r)*t,n[11]=(h*l*a-s*d*a-h*i*u+e*d*u+s*i*f-e*l*f)*t,n[12]=_*t,n[13]=(h*g*o-m*d*o+m*i*p-e*g*p-h*i*v+e*d*v)*t,n[14]=(m*l*o-s*g*o-m*i*c+e*g*c+s*i*v-e*l*v)*t,n[15]=(s*d*o-h*l*o+h*i*c-e*d*c-s*i*p+e*l*p)*t,this},scale:function(e){var t=this.elements,n=e.x,r=e.y;return e=e.z,t[0]*=n,t[4]*=r,t[8]*=e,t[1]*=n,t[5]*=r,t[9]*=e,t[2]*=n,t[6]*=r,t[10]*=e,t[3]*=n,t[7]*=r,t[11]*=e,this},getMaxScaleOnAxis:function(){var e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e);return e=Math.sin(e),this.set(1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e);return e=Math.sin(e),this.set(t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e);return e=Math.sin(e),this.set(t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t);t=Math.sin(t);var r=1-n,i=e.x,o=e.y;e=e.z;var a=r*i,s=r*o;return this.set(a*i+n,a*o-t*e,a*e+t*o,0,a*o+t*e,s*o+n,s*e-t*i,0,a*e-t*o,s*e+t*i,r*e*e+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,l=i+i,c=o+o,u=a+a;t=i*l;var h=i*c;i*=u;var d=o*c;o*=u,a*=u,l*=s,c*=s,s*=u,u=n.x;var p=n.y;return n=n.z,r[0]=(1-(d+a))*u,r[1]=(h+s)*u,r[2]=(i-c)*u,r[3]=0,r[4]=(h-s)*p,r[5]=(1-(t+a))*p,r[6]=(o+l)*p,r[7]=0,r[8]=(i+c)*n,r[9]=(o-l)*n,r[10]=(1-(t+d))*n,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:function(){var e=new a,t=new i;return function(n,r,i){var o=this.elements,a=e.set(o[0],o[1],o[2]).length(),s=e.set(o[4],o[5],o[6]).length(),l=e.set(o[8],o[9],o[10]).length();0>this.determinant()&&(a=-a),n.x=o[12],n.y=o[13],n.z=o[14],t.copy(this),n=1/a,o=1/s;var c=1/l;return t.elements[0]*=n,t.elements[1]*=n,t.elements[2]*=n,t.elements[4]*=o,t.elements[5]*=o,t.elements[6]*=o,t.elements[8]*=c,t.elements[9]*=c,t.elements[10]*=c,r.setFromRotationMatrix(t),i.x=a,i.y=s,i.z=l,this}}(),makePerspective:function(e,t,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements;return a[0]=2*i/(t-e),a[4]=0,a[8]=(t+e)/(t-e),a[12]=0,a[1]=0,a[5]=2*i/(n-r),a[9]=(n+r)/(n-r),a[13]=0,a[2]=0,a[6]=0,a[10]=-(o+i)/(o-i),a[14]=-2*o*i/(o-i),a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),l=1/(n-r),c=1/(o-i);return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-(t+e)*s,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-(n+r)*l,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-(o+i)*c,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){var t=this.elements;e=e.elements;for(var n=0;16>n;n++)if(t[n]!==e[n])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;16>n;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}),Object.assign(o,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,o,a){var s=n[r+0],l=n[r+1],c=n[r+2];n=n[r+3],r=i[o+0];var u=i[o+1],h=i[o+2];if(i=i[o+3],n!==i||s!==r||l!==u||c!==h){o=1-a;var d=s*r+l*u+c*h+n*i,p=0<=d?1:-1,f=1-d*d;f>Number.EPSILON&&(f=Math.sqrt(f),d=Math.atan2(f,d*p),o=Math.sin(o*d)/f,a=Math.sin(a*d)/f),s=s*o+r*(p*=a),l=l*o+u*p,c=c*o+h*p,n=n*o+i*p,o===1-a&&(a=1/Math.sqrt(s*s+l*l+c*c+n*n),s*=a,l*=a,c*=a,n*=a)}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=n}}),Object.defineProperties(o.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(o.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z;e=e.order;var o=Math.cos,a=Math.sin,s=o(n/2),l=o(r/2);return o=o(i/2),n=a(n/2),r=a(r/2),i=a(i/2),"XYZ"===e?(this._x=n*l*o+s*r*i,this._y=s*r*o-n*l*i,this._z=s*l*i+n*r*o,this._w=s*l*o-n*r*i):"YXZ"===e?(this._x=n*l*o+s*r*i,this._y=s*r*o-n*l*i,this._z=s*l*i-n*r*o,this._w=s*l*o+n*r*i):"ZXY"===e?(this._x=n*l*o-s*r*i,this._y=s*r*o+n*l*i,this._z=s*l*i+n*r*o,this._w=s*l*o-n*r*i):"ZYX"===e?(this._x=n*l*o-s*r*i,this._y=s*r*o+n*l*i,this._z=s*l*i-n*r*o,this._w=s*l*o+n*r*i):"YZX"===e?(this._x=n*l*o+s*r*i,this._y=s*r*o+n*l*i,this._z=s*l*i-n*r*o,this._w=s*l*o-n*r*i):"XZY"===e&&(this._x=n*l*o-s*r*i,this._y=s*r*o-n*l*i,this._z=s*l*i+n*r*o,this._w=s*l*o+n*r*i),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){t/=2;var n=Math.sin(t);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(t),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t=e.elements,n=t[0];e=t[4];var r=t[8],i=t[1],o=t[5],a=t[9],s=t[2],l=t[6];t=t[10];var c=n+o+t;return 0<c?(n=.5/Math.sqrt(c+1),this._w=.25/n,this._x=(l-a)*n,this._y=(r-s)*n,this._z=(i-e)*n):n>o&&n>t?(n=2*Math.sqrt(1+n-o-t),this._w=(l-a)/n,this._x=.25*n,this._y=(e+i)/n,this._z=(r+s)/n):o>t?(n=2*Math.sqrt(1+o-n-t),this._w=(r-s)/n,this._x=(e+i)/n,this._y=.25*n,this._z=(a+l)/n):(n=2*Math.sqrt(1+t-n-o),this._w=(i-e)/n,this._x=(r+s)/n,this._y=(a+l)/n,this._z=.25*n),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t=new a;return function(n,r){return void 0===t&&(t=new a),1e-6>(e=n.dot(r)+1)?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),angleTo:function(e){return 2*Math.acos(Math.abs(Qi.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);return 0===n?this:(this.slerp(e,Math.min(1,t/n)),this)},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._z=this._y=this._x=0,this._w=1):(e=1/e,this._x*=e,this._y*=e,this._z*=e,this._w*=e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z;e=e._w;var o=t._x,a=t._y,s=t._z;return t=t._w,this._x=n*t+e*o+r*s-i*a,this._y=r*t+e*a+i*o-n*s,this._z=i*t+e*s+n*a-r*o,this._w=e*t-n*o-r*a-i*s,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(0>a?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),1<=a)return this._w=o,this._x=n,this._y=r,this._z=i,this;if((e=1-a*a)<=Number.EPSILON)return a=1-t,this._w=a*o+t*this._w,this._x=a*n+t*this._x,this._y=a*r+t*this._y,this._z=a*i+t*this._z,this.normalize();e=Math.sqrt(e);var s=Math.atan2(e,a);return a=Math.sin((1-t)*s)/e,t=Math.sin(t*s)/e,this._w=o*a+this._w*t,this._x=n*a+this._x*t,this._y=r*a+this._y*t,this._z=i*a+this._z*t,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(a.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.z=this.y=this.x=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e=new o;return function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e=new o;return function(t,n){return this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z;return e=e.elements,this.x=e[0]*t+e[3]*n+e[6]*r,this.y=e[1]*t+e[4]*n+e[7]*r,this.z=e[2]*t+e[5]*n+e[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=1/((e=e.elements)[3]*t+e[7]*n+e[11]*r+e[15]);return this.x=(e[0]*t+e[4]*n+e[8]*r+e[12])*i,this.y=(e[1]*t+e[5]*n+e[9]*r+e[13])*i,this.z=(e[2]*t+e[6]*n+e[10]*r+e[14])*i,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=(e=e.w)*t+o*r-a*n,l=e*n+a*t-i*r,c=e*r+i*n-o*t;return t=-i*t-o*n-a*r,this.x=s*e+t*-i+l*-a-c*-o,this.y=l*e+t*-o+c*-i-s*-a,this.z=c*e+t*-a+s*-o-l*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(){var e=new i;return function(t){return this.applyMatrix4(e.getInverse(t.projectionMatrix)).applyMatrix4(t.matrixWorld)}}(),transformDirection:function(e){var t=this.x,n=this.y,r=this.z;return e=e.elements,this.x=e[0]*t+e[4]*n+e[8]*r,this.y=e[1]*t+e[5]*n+e[9]*r,this.z=e[2]*t+e[6]*n+e[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e=new a,t=new a;return function(n,r){return e.set(n,n,n),t.set(r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y;e=e.z;var i=t.x,o=t.y;return t=t.z,this.x=r*t-e*o,this.y=e*i-n*t,this.z=n*o-r*i,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new a;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new a;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){return e=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq()),Math.acos(Qi.clamp(e,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return e=this.z-e.z,t*t+n*n+e*e},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){return e=e.elements,this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length();return e=this.setFromMatrixColumn(e,2).length(),this.x=t,this.y=n,this.z=e,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(s.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,o,a,s,l){var c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements;return e=e.elements,t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],this},setFromMatrix4:function(e){return e=e.elements,this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var e=new a;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements;t=this.elements,e=n[0];var i=n[3],o=n[6],a=n[1],s=n[4],l=n[7],c=n[2],u=n[5];n=n[8];var h=r[0],d=r[3],p=r[6],f=r[1],m=r[4],g=r[7],v=r[2],y=r[5];return r=r[8],t[0]=e*h+i*f+o*v,t[3]=e*d+i*m+o*y,t[6]=e*p+i*g+o*r,t[1]=a*h+s*f+l*v,t[4]=a*d+s*m+l*y,t[7]=a*p+s*g+l*r,t[2]=c*h+u*f+n*v,t[5]=c*d+u*m+n*y,t[8]=c*p+u*g+n*r,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7];return e=e[8],t*o*e-t*a*l-n*i*e+n*a*s+r*i*l-r*o*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements;e=this.elements;var r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=n[6],u=n[7],h=(n=n[8])*s-l*u,d=l*c-n*a,p=u*a-s*c,f=r*h+i*d+o*p;if(0===f){if(!0===t)throw Error("THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0");return console.warn("THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0"),this.identity()}return t=1/f,e[0]=h*t,e[1]=(o*u-n*i)*t,e[2]=(l*i-o*s)*t,e[3]=d*t,e[4]=(n*r-o*c)*t,e[5]=(o*a-l*r)*t,e[6]=p*t,e[7]=(i*c-u*r)*t,e[8]=(s*r-i*a)*t,this},transpose:function(){var e=this.elements,t=e[1];return e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,o,a){var s=Math.cos(i);i=Math.sin(i),this.set(n*s,n*i,-n*(s*o+i*a)+o+e,-r*i,r*s,-r*(-i*o+s*a)+a+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e);e=Math.sin(e);var n=this.elements,r=n[0],i=n[3],o=n[6],a=n[1],s=n[4],l=n[7];return n[0]=t*r+e*a,n[3]=t*i+e*s,n[6]=t*o+e*l,n[1]=-e*r+t*a,n[4]=-e*i+t*s,n[7]=-e*o+t*l,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){var t=this.elements;e=e.elements;for(var n=0;9>n;n++)if(t[n]!==e[n])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;9>n;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var $i={getDataURL:function(e){if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)var t=e;else{(t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=e.width,t.height=e.height;var n=t.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height)}return 2048<t.width||2048<t.height?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},eo=0;l.DEFAULT_IMAGE=void 0,l.DEFAULT_MAPPING=300,l.prototype=Object.assign(Object.create(n.prototype),{constructor:l,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=Qi.generateUUID()),!t&&void 0===e.images[r.uuid]){if(Array.isArray(r))for(var i=[],o=0,a=r.length;o<a;o++)i.push($i.getDataURL(r[o]));else i=$i.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),0>e.x||1<e.x)switch(this.wrapS){case 1e3:e.x-=Math.floor(e.x);break;case 1001:e.x=0>e.x?0:1;break;case 1002:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(0>e.y||1<e.y)switch(this.wrapT){case 1e3:e.y-=Math.floor(e.y);break;case 1001:e.y=0>e.y?0:1;break;case 1002:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(l.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(c.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.w=this.z=this.y=this.x=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w;return e=e.elements,this.x=e[0]*t+e[4]*n+e[8]*r+e[12]*i,this.y=e[1]*t+e[5]*n+e[9]*r+e[13]*i,this.z=e[2]*t+e[6]*n+e[10]*r+e[14]*i,this.w=e[3]*t+e[7]*n+e[11]*r+e[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return 1e-4>t?(this.x=1,this.z=this.y=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t=(e=e.elements)[0],n=e[4],r=e[8],i=e[1],o=e[5],a=e[9],s=e[2],l=e[6],c=e[10];return.01>Math.abs(n-i)&&.01>Math.abs(r-s)&&.01>Math.abs(a-l)?.1>Math.abs(n+i)&&.1>Math.abs(r+s)&&.1>Math.abs(a+l)&&.1>Math.abs(t+o+c-3)?(this.set(1,0,0,0),this):(e=Math.PI,c=(c+1)/2,n=(n+i)/4,r=(r+s)/4,a=(a+l)/4,(t=(t+1)/2)>(o=(o+1)/2)&&t>c?.01>t?(l=0,n=s=.707106781):(l=Math.sqrt(t),s=n/l,n=r/l):o>c?.01>o?(l=.707106781,s=0,n=.707106781):(s=Math.sqrt(o),l=n/s,n=a/s):.01>c?(s=l=.707106781,n=0):(n=Math.sqrt(c),l=r/n,s=a/n),this.set(l,s,n,e),this):(e=Math.sqrt((l-a)*(l-a)+(r-s)*(r-s)+(i-n)*(i-n)),.001>Math.abs(e)&&(e=1),this.x=(l-a)/e,this.y=(r-s)/e,this.z=(i-n)/e,this.w=Math.acos((t+o+c-1)/2),this)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new c,t=new c),e.set(n,n,n,n),t.set(r,r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),u.prototype=Object.assign(Object.create(n.prototype),{constructor:u,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),h.prototype=Object.create(u.prototype),h.prototype.constructor=h,h.prototype.isWebGLRenderTargetCube=!0,d.prototype=Object.create(l.prototype),d.prototype.constructor=d,d.prototype.isDataTexture=!0,Object.assign(p.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,l=e.length;s<l;s+=3){var c=e[s],u=e[s+1],h=e[s+2];c<t&&(t=c),u<n&&(n=u),h<r&&(r=h),c>i&&(i=c),u>o&&(o=u),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,l=e.count;s<l;s++){var c=e.getX(s),u=e.getY(s),h=e.getZ(s);c<t&&(t=c),u<n&&(n=u),h<r&&(r=h),c>i&&(i=c),u>o&&(o=u),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new a;return function(t,n){return n=e.copy(n).multiplyScalar(.5),this.min.copy(t).sub(n),this.max.copy(t).add(n),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new a),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new a),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){function e(e){var o=e.geometry;if(void 0!==o)if(o.isGeometry)for(o=o.vertices,n=0,r=o.length;n<r;n++)i.copy(o[n]),i.applyMatrix4(e.matrixWorld),t.expandByPoint(i);else if(o.isBufferGeometry&&void 0!==(o=o.attributes.position))for(n=0,r=o.count;n<r;n++)i.fromBufferAttribute(o,n).applyMatrix4(e.matrixWorld),t.expandByPoint(i)}var t,n,r,i=new a;return function(n){return t=this,n.updateMatrixWorld(!0),n.traverse(e),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new a),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e=new a;return function(t){return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){if(0<e.normal.x)var t=e.normal.x*this.min.x,n=e.normal.x*this.max.x;else t=e.normal.x*this.max.x,n=e.normal.x*this.min.x;return 0<e.normal.y?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(){function e(e){var i,o=0;for(i=e.length-3;o<=i;o+=3){l.fromArray(e,o);var a=u.x*Math.abs(l.x)+u.y*Math.abs(l.y)+u.z*Math.abs(l.z),s=t.dot(l),c=n.dot(l),h=r.dot(l);if(Math.max(-Math.max(s,c,h),Math.min(s,c,h))>a)return!1}return!0}var t=new a,n=new a,r=new a,i=new a,o=new a,s=new a,l=new a,c=new a,u=new a,h=new a;return function(a){return!this.isEmpty()&&(this.getCenter(c),u.subVectors(this.max,c),t.subVectors(a.a,c),n.subVectors(a.b,c),r.subVectors(a.c,c),i.subVectors(n,t),o.subVectors(r,n),s.subVectors(t,r),!!e(a=[0,-i.z,i.y,0,-o.z,o.y,0,-s.z,s.y,i.z,0,-i.x,o.z,0,-o.x,s.z,0,-s.x,-i.y,i.x,0,-o.y,o.x,0,-s.y,s.x,0])&&!!e(a=[1,0,0,0,1,0,0,0,1])&&(h.crossVectors(i,o),e(a=[h.x,h.y,h.z])))}}(),clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new a),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new a;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new a;return function(t){return void 0===t&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),t=new f),this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new a,new a,new a,new a,new a,new a,new a,new a];return function(t){return this.isEmpty()?this:(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e),this)}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(f.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new p;return function(t,n){var r=this.center;void 0!==n?r.copy(n):e.setFromPoints(t).getCenter(r);for(var i=n=0,o=t.length;i<o;i++)n=Math.max(n,r.distanceToSquared(t[i]));return this.radius=Math.sqrt(n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return 0>=this.radius},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new a),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new p),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius*=e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(m.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new a,t=new a;return function(n,r,i){return r=e.subVectors(i,r).cross(t.subVectors(n,r)).normalize(),this.setFromNormalAndCoplanarPoint(r,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new a),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new a;return function(t,n){void 0===n&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new a);var r=t.delta(e),i=this.normal.dot(r);if(0===i){if(0===this.distanceToPoint(t.start))return n.copy(t.start)}else if(!(0>(i=-(t.start.dot(this.normal)+this.constant)/i)||1<i))return n.copy(r).multiplyScalar(i).add(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start);return e=this.distanceToPoint(e.end),0>t&&0<e||0>e&&0<t},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new a),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new a,t=new s;return function(n,r){return r=r||t.getNormalMatrix(n),n=this.coplanarPoint(e).applyMatrix4(n),r=this.normal.applyMatrix3(r).normalize(),this.constant=-n.dot(r),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(g.prototype,{set:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;6>n;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements;e=n[0];var r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],c=n[7],u=n[8],h=n[9],d=n[10],p=n[11],f=n[12],m=n[13],g=n[14];return n=n[15],t[0].setComponents(o-e,c-a,p-u,n-f).normalize(),t[1].setComponents(o+e,c+a,p+u,n+f).normalize(),t[2].setComponents(o+r,c+s,p+h,n+m).normalize(),t[3].setComponents(o-r,c-s,p-h,n-m).normalize(),t[4].setComponents(o-i,c-l,p-d,n-g).normalize(),t[5].setComponents(o+i,c+l,p+d,n+g).normalize(),this},intersectsObject:function(){var e=new f;return function(t){var n=t.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),e.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new f;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){var t=this.planes,n=e.center;e=-e.radius;for(var r=0;6>r;r++)if(t[r].distanceToPoint(n)<e)return!1;return!0},intersectsBox:function(){var e=new a;return function(t){for(var n=this.planes,r=0;6>r;r++){var i=n[r];if(e.x=0<i.normal.x?t.max.x:t.min.x,e.y=0<i.normal.y?t.max.y:t.min.y,e.z=0<i.normal.z?t.max.z:t.min.z,0>i.distanceToPoint(e))return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;6>n;n++)if(0>t[n].distanceToPoint(e))return!1;return!0}});var to={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif\n",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars_begin:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif\n",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif\n",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif\n",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n}\n",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position, 1.0 );\n\tgl_Position.z = 1.0;\n}\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\tvec4 matcapColor = texture2D( matcap, uv );\n\tmatcapColor = matcapTexelToLinear( matcapColor );\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n"},no={merge:function(e){for(var t={},n=0;n<e.length;n++){var r,i=this.clone(e[n]);for(r in i)t[r]=i[r]}return t},clone:function(e){var t,n={};for(t in e)for(var r in n[t]={},e[t]){var i=e[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?n[t][r]=i.clone():Array.isArray(i)?n[t][r]=i.slice():n[t][r]=i}return n}},ro={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(v.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.b=this.g=this.r=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return 0>n&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:.5>n?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(t,n,r){return t=Qi.euclideanModulo(t,1),n=Qi.clamp(n,0,1),r=Qi.clamp(r,0,1),0===n?this.r=this.g=this.b=r:(r=2*r-(n=.5>=r?r*(1+n):r+n-r*n),this.r=e(r,n,t+1/3),this.g=e(r,n,t),this.b=e(r,n,t-1/3)),this}}(),setStyle:function(e){function t(t){void 0!==t&&1>parseFloat(t)&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r=n[2];switch(n[1]){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[5]),this;if(n=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r)){r=parseFloat(n[1])/360;var i=parseInt(n[2],10)/100,o=parseInt(n[3],10)/100;return t(n[5]),this.setHSL(r,i,o)}}}else if(n=/^#([A-Fa-f0-9]+)$/.exec(e)){if(n=n[1],3===(r=n.length))return this.r=parseInt(n.charAt(0)+n.charAt(0),16)/255,this.g=parseInt(n.charAt(1)+n.charAt(1),16)/255,this.b=parseInt(n.charAt(2)+n.charAt(2),16)/255,this;if(6===r)return this.r=parseInt(n.charAt(0)+n.charAt(1),16)/255,this.g=parseInt(n.charAt(2)+n.charAt(3),16)/255,this.b=parseInt(n.charAt(4)+n.charAt(5),16)/255,this}return e&&0<e.length&&(void 0!==(n=ro[e])?this.setHex(n):console.warn("THREE.Color: Unknown color "+e)),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){return void 0===t&&(t=2),t=0<t?1/t:1,this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(){function e(e){return.04045>e?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),copyLinearToSRGB:function(){function e(e){return.0031308>e?12.92*e:1.055*Math.pow(e,.41666)-.055}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n=this.r,r=this.g,i=this.b,o=Math.max(n,r,i),a=Math.min(n,r,i),s=(a+o)/2;if(a===o)a=t=0;else{var l=o-a;switch(a=.5>=s?l/(o+a):l/(2-o-a),o){case n:t=(r-i)/l+(r<i?6:0);break;case r:t=(i-n)/l+2;break;case i:t=(n-r)/l+4}t/=6}return e.h=t,e.s=a,e.l=s,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(){var e={};return function(t,n,r){return this.getHSL(e),e.h+=t,e.s+=n,e.l+=r,this.setHSL(e.h,e.s,e.l),this}}(),add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(){var e={h:0,s:0,l:0},t={h:0,s:0,l:0};return function(n,r){this.getHSL(e),n.getHSL(t),n=Qi.lerp(e.h,t.h,r);var i=Qi.lerp(e.s,t.s,r);return r=Qi.lerp(e.l,t.l,r),this.setHSL(n,i,r),this}}(),equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var io={common:{diffuse:{value:new v(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new s},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new r(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new v(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new v(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new s}},sprite:{diffuse:{value:new v(15658734)},opacity:{value:1},center:{value:new r(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new s}}},oo={basic:{uniforms:no.merge([io.common,io.specularmap,io.envmap,io.aomap,io.lightmap,io.fog]),vertexShader:to.meshbasic_vert,fragmentShader:to.meshbasic_frag},lambert:{uniforms:no.merge([io.common,io.specularmap,io.envmap,io.aomap,io.lightmap,io.emissivemap,io.fog,io.lights,{emissive:{value:new v(0)}}]),vertexShader:to.meshlambert_vert,fragmentShader:to.meshlambert_frag},phong:{uniforms:no.merge([io.common,io.specularmap,io.envmap,io.aomap,io.lightmap,io.emissivemap,io.bumpmap,io.normalmap,io.displacementmap,io.gradientmap,io.fog,io.lights,{emissive:{value:new v(0)},specular:{value:new v(1118481)},shininess:{value:30}}]),vertexShader:to.meshphong_vert,fragmentShader:to.meshphong_frag},standard:{uniforms:no.merge([io.common,io.envmap,io.aomap,io.lightmap,io.emissivemap,io.bumpmap,io.normalmap,io.displacementmap,io.roughnessmap,io.metalnessmap,io.fog,io.lights,{emissive:{value:new v(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:to.meshphysical_vert,fragmentShader:to.meshphysical_frag},matcap:{uniforms:no.merge([io.common,io.bumpmap,io.normalmap,io.displacementmap,io.fog,{matcap:{value:null}}]),vertexShader:to.meshmatcap_vert,fragmentShader:to.meshmatcap_frag},points:{uniforms:no.merge([io.points,io.fog]),vertexShader:to.points_vert,fragmentShader:to.points_frag},dashed:{uniforms:no.merge([io.common,io.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:to.linedashed_vert,fragmentShader:to.linedashed_frag},depth:{uniforms:no.merge([io.common,io.displacementmap]),vertexShader:to.depth_vert,fragmentShader:to.depth_frag},normal:{uniforms:no.merge([io.common,io.bumpmap,io.normalmap,io.displacementmap,{opacity:{value:1}}]),vertexShader:to.normal_vert,fragmentShader:to.normal_frag},sprite:{uniforms:no.merge([io.sprite,io.fog]),vertexShader:to.sprite_vert,fragmentShader:to.sprite_frag},background:{uniforms:{uvTransform:{value:new s},t2D:{value:null}},vertexShader:to.background_vert,fragmentShader:to.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:to.cube_vert,fragmentShader:to.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:to.equirect_vert,fragmentShader:to.equirect_frag},distanceRGBA:{uniforms:no.merge([io.common,io.displacementmap,{referencePosition:{value:new a},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:to.distanceRGBA_vert,fragmentShader:to.distanceRGBA_frag},shadow:{uniforms:no.merge([io.lights,io.fog,{color:{value:new v(0)},opacity:{value:1}}]),vertexShader:to.shadow_vert,fragmentShader:to.shadow_frag}};oo.physical={uniforms:no.merge([oo.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:to.meshphysical_vert,fragmentShader:to.meshphysical_frag},Object.assign(x.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}}),_.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" "),_.DefaultOrder="XYZ",Object.defineProperties(_.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(_.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=Qi.clamp,i=e.elements;e=i[0];var o=i[4],a=i[8],s=i[1],l=i[5],c=i[9],u=i[2],h=i[6];return i=i[10],"XYZ"===(t=t||this._order)?(this._y=Math.asin(r(a,-1,1)),.99999>Math.abs(a)?(this._x=Math.atan2(-c,i),this._z=Math.atan2(-o,e)):(this._x=Math.atan2(h,l),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(c,-1,1)),.99999>Math.abs(c)?(this._y=Math.atan2(a,i),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,e),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(h,-1,1)),.99999>Math.abs(h)?(this._y=Math.atan2(-u,i),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,e))):"ZYX"===t?(this._y=Math.asin(-r(u,-1,1)),.99999>Math.abs(u)?(this._x=Math.atan2(h,i),this._z=Math.atan2(s,e)):(this._x=0,this._z=Math.atan2(-o,l))):"YZX"===t?(this._z=Math.asin(r(s,-1,1)),.99999>Math.abs(s)?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,e)):(this._x=0,this._y=Math.atan2(a,i))):"XZY"===t?(this._z=Math.asin(-r(o,-1,1)),.99999>Math.abs(o)?(this._x=Math.atan2(h,l),this._y=Math.atan2(a,e)):(this._x=Math.atan2(-c,i),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new i;return function(t,n,r){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,r)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new o;return function(t){return e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new a(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(w.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask=this.mask|1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!=(this.mask&e.mask)}});var ao=0;M.DefaultUp=new a(0,1,0),M.DefaultMatrixAutoUpdate=!0,M.prototype=Object.assign(Object.create(n.prototype),{constructor:M,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new o;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.multiply(e),this}}(),rotateOnWorldAxis:function(){var e=new o;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new a(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new a(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new a(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new a;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new a(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new a(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new a(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new i;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new o,t=new i,n=new a,r=new a;return function(i,o,a){i.isVector3?n.copy(i):n.set(i,o,a),i=this.parent,this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld),this.isCamera?t.lookAt(r,n,this.up):t.lookAt(n,r,this.up),this.quaternion.setFromRotationMatrix(t),i&&(t.extractRotation(i.matrixWorld),e.setFromRotationMatrix(t),this.quaternion.premultiply(e.inverse()))}}(),add:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}return-1!==(t=this.children.indexOf(e))&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(t,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new a),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new a,t=new a;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),n=new o),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,n,t),n}}(),getWorldScale:function(){var e=new a,t=new o;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),n=new a),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,n),n}}(),getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new a),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(e=this.children,t=0,n=e.length;t<n;t++)e[t].updateWorldMatrix(!1,!0)},toJSON:function(e){function t(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}function n(e){var t,n=[];for(t in e){var r=e[t];delete r.metadata,n.push(r)}return n}var r=void 0===e||"string"==typeof e,i={};r&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var o={};if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),!0===this.castShadow&&(o.castShadow=!0),!0===this.receiveShadow&&(o.receiveShadow=!0),!1===this.visible&&(o.visible=!1),!1===this.frustumCulled&&(o.frustumCulled=!1),0!==this.renderOrder&&(o.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(o.matrixAutoUpdate=!1),this.isMesh||this.isLine||this.isPoints){o.geometry=t(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes)if(a=a.shapes,Array.isArray(a))for(var s=0,l=a.length;s<l;s++)t(e.shapes,a[s]);else t(e.shapes,a)}if(void 0!==this.material)if(Array.isArray(this.material)){for(a=[],s=0,l=this.material.length;s<l;s++)a.push(t(e.materials,this.material[s]));o.material=a}else o.material=t(e.materials,this.material);if(0<this.children.length)for(o.children=[],s=0;s<this.children.length;s++)o.children.push(this.children[s].toJSON(e).object);if(r){r=n(e.geometries),s=n(e.materials),l=n(e.textures);var c=n(e.images);a=n(e.shapes),0<r.length&&(i.geometries=r),0<s.length&&(i.materials=s),0<l.length&&(i.textures=l),0<c.length&&(i.images=c),0<a.length&&(i.shapes=a)}return i.object=o,i},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(t=0;t<e.children.length;t++)this.add(e.children[t].clone());return this}});var so=0;S.prototype=Object.assign(Object.create(n.prototype),{constructor:S,isGeometry:!0,applyMatrix:function(e){for(var t=(new s).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++)this.vertices[n].applyMatrix4(e);for(n=0,r=this.faces.length;n<r;n++){(e=this.faces[n]).normal.applyMatrix3(t).normalize();for(var i=0,o=e.vertexNormals.length;i<o;i++)e.vertexNormals[i].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.normalsNeedUpdate=this.verticesNeedUpdate=!0,this},rotateX:function(){var e=new i;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new i;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new i;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new i;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new i;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new M;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){function t(e,t,i,o){var s=void 0===c?[]:[n.colors[e].clone(),n.colors[t].clone(),n.colors[i].clone()],d=void 0===l?[]:[(new a).fromArray(l,3*e),(new a).fromArray(l,3*t),(new a).fromArray(l,3*i)];o=new x(e,t,i,d,s,o),n.faces.push(o),void 0!==u&&n.faceVertexUvs[0].push([(new r).fromArray(u,2*e),(new r).fromArray(u,2*t),(new r).fromArray(u,2*i)]),void 0!==h&&n.faceVertexUvs[1].push([(new r).fromArray(h,2*e),(new r).fromArray(h,2*t),(new r).fromArray(h,2*i)])}var n=this,i=null!==e.index?e.index.array:void 0,o=e.attributes,s=o.position.array,l=void 0!==o.normal?o.normal.array:void 0,c=void 0!==o.color?o.color.array:void 0,u=void 0!==o.uv?o.uv.array:void 0,h=void 0!==o.uv2?o.uv2.array:void 0;void 0!==h&&(this.faceVertexUvs[1]=[]);for(var d=o=0;o<s.length;o+=3,d+=2)n.vertices.push((new a).fromArray(s,o)),void 0!==c&&n.colors.push((new v).fromArray(c,o));var p=e.groups;if(0<p.length)for(o=0;o<p.length;o++){var f=(s=p[o]).start,m=s.count;for(d=f,f+=m;d<f;d+=3)void 0!==i?t(i[d],i[d+1],i[d+2],s.materialIndex):t(d,d+1,d+2,s.materialIndex)}else if(void 0!==i)for(o=0;o<i.length;o+=3)t(i[o],i[o+1],i[o+2]);else for(o=0;o<s.length/3;o+=3)t(o,o+1,o+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){var e=new a;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius;t=0===t?1:1/t;var n=new i;return n.set(t,0,0,-t*e.x,0,t,0,-t*e.y,0,0,t,-t*e.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var e=new a,t=new a,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],s=this.vertices[i.b];e.subVectors(this.vertices[i.c],s),t.subVectors(o,s),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t;void 0===e&&(e=!0);var n=Array(this.vertices.length),r=0;for(t=this.vertices.length;r<t;r++)n[r]=new a;if(e){var i=new a,o=new a;for(e=0,r=this.faces.length;e<r;e++){t=this.faces[e];var s=this.vertices[t.a],l=this.vertices[t.b],c=this.vertices[t.c];i.subVectors(c,l),o.subVectors(s,l),i.cross(o),n[t.a].add(i),n[t.b].add(i),n[t.c].add(i)}}else for(this.computeFaceNormals(),e=0,r=this.faces.length;e<r;e++)t=this.faces[e],n[t.a].add(t.normal),n[t.b].add(t.normal),n[t.c].add(t.normal);for(r=0,t=this.vertices.length;r<t;r++)n[r].normalize();for(e=0,r=this.faces.length;e<r;e++)t=this.faces[e],3===(s=t.vertexNormals).length?(s[0].copy(n[t.a]),s[1].copy(n[t.b]),s[2].copy(n[t.c])):(s[0]=n[t.a].clone(),s[1]=n[t.b].clone(),s[2]=n[t.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e;this.computeFaceNormals();var t=0;for(e=this.faces.length;t<e;t++){var n=this.faces[t],r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n=0;for(t=this.faces.length;n<t;n++){var r=this.faces[n];r.__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]);var i=0;for(e=r.vertexNormals.length;i<e;i++)r.__originalVertexNormals[i]?r.__originalVertexNormals[i].copy(r.vertexNormals[i]):r.__originalVertexNormals[i]=r.vertexNormals[i].clone()}var o=new S;for(o.faces=this.faces,i=0,e=this.morphTargets.length;i<e;i++){if(!this.morphNormals[i]){this.morphNormals[i]={},this.morphNormals[i].faceNormals=[],this.morphNormals[i].vertexNormals=[],r=this.morphNormals[i].faceNormals;var s=this.morphNormals[i].vertexNormals;for(n=0,t=this.faces.length;n<t;n++){var l=new a,c={a:new a,b:new a,c:new a};r.push(l),s.push(c)}}for(s=this.morphNormals[i],o.vertices=this.morphTargets[i].vertices,o.computeFaceNormals(),o.computeVertexNormals(),n=0,t=this.faces.length;n<t;n++)r=this.faces[n],l=s.faceNormals[n],c=s.vertexNormals[n],l.copy(r.normal),c.a.copy(r.vertexNormals[0]),c.b.copy(r.vertexNormals[1]),c.c.copy(r.vertexNormals[2])}for(n=0,t=this.faces.length;n<t;n++)(r=this.faces[n]).normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new p),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new f),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var r,i=this.vertices.length,o=this.vertices,a=e.vertices,l=this.faces,c=e.faces,u=this.faceVertexUvs[0],h=e.faceVertexUvs[0],d=this.colors,p=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new s).getNormalMatrix(t)),e=0;for(var f=a.length;e<f;e++){var m=a[e].clone();void 0!==t&&m.applyMatrix4(t),o.push(m)}for(e=0,f=p.length;e<f;e++)d.push(p[e].clone());for(e=0,f=c.length;e<f;e++){var g=(a=c[e]).vertexNormals;for(p=a.vertexColors,(d=new x(a.a+i,a.b+i,a.c+i)).normal.copy(a.normal),void 0!==r&&d.normal.applyMatrix3(r).normalize(),t=0,o=g.length;t<o;t++)m=g[t].clone(),void 0!==r&&m.applyMatrix3(r).normalize(),d.vertexNormals.push(m);for(d.color.copy(a.color),t=0,o=p.length;t<o;t++)m=p[t],d.vertexColors.push(m.clone());d.materialIndex=a.materialIndex+n,l.push(d)}for(e=0,f=h.length;e<f;e++)if(n=h[e],r=[],void 0!==n){for(t=0,o=n.length;t<o;t++)r.push(n[t].clone());u.push(r)}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t={},n=[],r=[],i=Math.pow(10,4),o=0;for(e=this.vertices.length;o<e;o++){var a=this.vertices[o];a=Math.round(a.x*i)+"_"+Math.round(a.y*i)+"_"+Math.round(a.z*i),void 0===t[a]?(t[a]=o,n.push(this.vertices[o]),r[o]=n.length-1):r[o]=r[t[a]]}for(t=[],o=0,e=this.faces.length;o<e;o++)for((i=this.faces[o]).a=r[i.a],i.b=r[i.b],i.c=r[i.c],i=[i.a,i.b,i.c],a=0;3>a;a++)if(i[a]===i[(a+1)%3]){t.push(o);break}for(o=t.length-1;0<=o;o--)for(i=t[o],this.faces.splice(i,1),r=0,e=this.faceVertexUvs.length;r<e;r++)this.faceVertexUvs[r].splice(i,1);return o=this.vertices.length-n.length,this.vertices=n,o},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new a(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var r,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];for(o&&o.length===t&&(r=[]),a&&a.length===t&&(i=[]),n=0;n<t;n++){var s=e[n]._id;r&&r.push(o[s]),i&&i.push(a[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){function e(e,t,n){return n?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==c[t]?c[t]:(c[t]=l.length/3,l.push(e.x,e.y,e.z),c[t])}function n(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==h[t]?h[t]:(h[t]=u.length,u.push(e.getHex()),h[t])}function r(e){var t=e.x.toString()+e.y.toString();return void 0!==p[t]?p[t]:(p[t]=d.length/2,d.push(e.x,e.y),p[t])}var i={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o,a=this.parameters;for(o in a)void 0!==a[o]&&(i[o]=a[o]);return i}for(a=[],o=0;o<this.vertices.length;o++){var s=this.vertices[o];a.push(s.x,s.y,s.z)}s=[];var l=[],c={},u=[],h={},d=[],p={};for(o=0;o<this.faces.length;o++){var f=this.faces[o],m=void 0!==this.faceVertexUvs[0][o],g=0<f.normal.length(),v=0<f.vertexNormals.length,y=1!==f.color.r||1!==f.color.g||1!==f.color.b,b=0<f.vertexColors.length,x=0;x=e(x,0,0),x=e(x,1,!0),x=e(x,2,!1),x=e(x,3,m),x=e(x,4,g),x=e(x,5,v),x=e(x,6,y),x=e(x,7,b),s.push(x),s.push(f.a,f.b,f.c),s.push(f.materialIndex),m&&(m=this.faceVertexUvs[0][o],s.push(r(m[0]),r(m[1]),r(m[2]))),g&&s.push(t(f.normal)),v&&(g=f.vertexNormals,s.push(t(g[0]),t(g[1]),t(g[2]))),y&&s.push(n(f.color)),b&&(f=f.vertexColors,s.push(n(f[0]),n(f[1]),n(f[2])))}return i.data={},i.data.vertices=a,i.data.normals=l,0<u.length&&(i.data.colors=u),0<d.length&&(i.data.uvs=[d]),i.data.faces=s,i},clone:function(){return(new S).copy(this)},copy:function(e){var t,n,r;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.name=e.name;var i=e.vertices,o=0;for(t=i.length;o<t;o++)this.vertices.push(i[o].clone());for(i=e.colors,o=0,t=i.length;o<t;o++)this.colors.push(i[o].clone());for(i=e.faces,o=0,t=i.length;o<t;o++)this.faces.push(i[o].clone());for(o=0,t=e.faceVertexUvs.length;o<t;o++){var a=e.faceVertexUvs[o];for(void 0===this.faceVertexUvs[o]&&(this.faceVertexUvs[o]=[]),i=0,n=a.length;i<n;i++){var s=a[i],l=[],c=0;for(r=s.length;c<r;c++)l.push(s[c].clone());this.faceVertexUvs[o].push(l)}}for(c=e.morphTargets,o=0,t=c.length;o<t;o++){if((r={}).name=c[o].name,void 0!==c[o].vertices)for(r.vertices=[],i=0,n=c[o].vertices.length;i<n;i++)r.vertices.push(c[o].vertices[i].clone());if(void 0!==c[o].normals)for(r.normals=[],i=0,n=c[o].normals.length;i<n;i++)r.normals.push(c[o].normals[i].clone());this.morphTargets.push(r)}for(c=e.morphNormals,o=0,t=c.length;o<t;o++){if(r={},void 0!==c[o].vertexNormals)for(r.vertexNormals=[],i=0,n=c[o].vertexNormals.length;i<n;i++)a=c[o].vertexNormals[i],(s={}).a=a.a.clone(),s.b=a.b.clone(),s.c=a.c.clone(),r.vertexNormals.push(s);if(void 0!==c[o].faceNormals)for(r.faceNormals=[],i=0,n=c[o].faceNormals.length;i<n;i++)r.faceNormals.push(c[o].faceNormals[i].clone());this.morphNormals.push(r)}for(i=e.skinWeights,o=0,t=i.length;o<t;o++)this.skinWeights.push(i[o].clone());for(i=e.skinIndices,o=0,t=i.length;o<t;o++)this.skinIndices.push(i[o].clone());for(i=e.lineDistances,o=0,t=i.length;o<t;o++)this.lineDistances.push(i[o]);return null!==(o=e.boundingBox)&&(this.boundingBox=o.clone()),null!==(o=e.boundingSphere)&&(this.boundingSphere=o.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(C.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(C.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.itemSize:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new v),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,i=0,o=e.length;i<o;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new r),t[n++]=a.x,t[n++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new a),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new c),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),E.prototype=Object.create(C.prototype),E.prototype.constructor=E,T.prototype=Object.create(C.prototype),T.prototype.constructor=T,L.prototype=Object.create(C.prototype),L.prototype.constructor=L,P.prototype=Object.create(C.prototype),P.prototype.constructor=P,k.prototype=Object.create(C.prototype),k.prototype.constructor=k,A.prototype=Object.create(C.prototype),A.prototype.constructor=A,I.prototype=Object.create(C.prototype),I.prototype.constructor=I,O.prototype=Object.create(C.prototype),O.prototype.constructor=O,R.prototype=Object.create(C.prototype),R.prototype.constructor=R,Object.assign(D.prototype,{computeGroups:function(e){var t=[],n=void 0;e=e.faces;for(var r=0;r<e.length;r++){var i=e[r];if(i.materialIndex!==n){n=i.materialIndex,void 0!==o&&(o.count=3*r-o.start,t.push(o));var o={start:3*r,materialIndex:n}}}void 0!==o&&(o.count=3*r-o.start,t.push(o)),this.groups=t},fromGeometry:function(e){var t=e.faces,n=e.vertices,i=e.faceVertexUvs,o=i[0]&&0<i[0].length,a=i[1]&&0<i[1].length,s=e.morphTargets,l=s.length;if(0<l){for(var c=[],u=0;u<l;u++)c[u]={name:s[u].name,data:[]};this.morphTargets.position=c}var h=e.morphNormals,d=h.length;if(0<d){var p=[];for(u=0;u<d;u++)p[u]={name:h[u].name,data:[]};this.morphTargets.normal=p}var f=e.skinIndices,m=e.skinWeights,g=f.length===n.length,v=m.length===n.length;for(0<n.length&&0===t.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported."),u=0;u<t.length;u++){var y=t[u];this.vertices.push(n[y.a],n[y.b],n[y.c]);var b=y.vertexNormals;for(3===b.length?this.normals.push(b[0],b[1],b[2]):(b=y.normal,this.normals.push(b,b,b)),3===(b=y.vertexColors).length?this.colors.push(b[0],b[1],b[2]):(b=y.color,this.colors.push(b,b,b)),!0===o&&(void 0!==(b=i[0][u])?this.uvs.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",u),this.uvs.push(new r,new r,new r))),!0===a&&(void 0!==(b=i[1][u])?this.uvs2.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",u),this.uvs2.push(new r,new r,new r))),b=0;b<l;b++){var x=s[b].vertices;c[b].data.push(x[y.a],x[y.b],x[y.c])}for(b=0;b<d;b++)x=h[b].vertexNormals[u],p[b].data.push(x.a,x.b,x.c);g&&this.skinIndices.push(f[y.a],f[y.b],f[y.c]),v&&this.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var lo=1;B.prototype=Object.assign(Object.create(n.prototype),{constructor:B,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(65535<N(e)?I:k)(e,1):this.index=e},addAttribute:function(e,t,n){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):(this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(e,new C(t,n)))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;return void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0),void 0!==(t=this.attributes.normal)&&((new s).getNormalMatrix(e).applyToBufferAttribute(t),t.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new i;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new i;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new i;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new i;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new i;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new M;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){var e=new a;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){e=new O(3*t.vertices.length,3);var n=new O(3*t.colors.length,3);this.addAttribute("position",e.copyVector3sArray(t.vertices)),this.addAttribute("color",n.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length&&(e=new O(t.lineDistances.length,1),this.addAttribute("lineDistance",e.copyArray(t.lineDistances))),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new O(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(n=void 0,t.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}return!0===t.verticesNeedUpdate&&(void 0!==(n=this.attributes.position)&&(n.copyVector3sArray(t.vertices),n.needsUpdate=!0),t.verticesNeedUpdate=!1),!0===t.normalsNeedUpdate&&(void 0!==(n=this.attributes.normal)&&(n.copyVector3sArray(t.normals),n.needsUpdate=!0),t.normalsNeedUpdate=!1),!0===t.colorsNeedUpdate&&(void 0!==(n=this.attributes.color)&&(n.copyColorsArray(t.colors),n.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(void 0!==(n=this.attributes.uv)&&(n.copyVector2sArray(t.uvs),n.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(void 0!==(n=this.attributes.lineDistance)&&(n.copyArray(t.lineDistances),n.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new D).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);for(var n in this.addAttribute("position",new C(t,3).copyVector3sArray(e.vertices)),0<e.normals.length&&(t=new Float32Array(3*e.normals.length),this.addAttribute("normal",new C(t,3).copyVector3sArray(e.normals))),0<e.colors.length&&(t=new Float32Array(3*e.colors.length),this.addAttribute("color",new C(t,3).copyColorsArray(e.colors))),0<e.uvs.length&&(t=new Float32Array(2*e.uvs.length),this.addAttribute("uv",new C(t,2).copyVector2sArray(e.uvs))),0<e.uvs2.length&&(t=new Float32Array(2*e.uvs2.length),this.addAttribute("uv2",new C(t,2).copyVector2sArray(e.uvs2))),this.groups=e.groups,e.morphTargets){t=[];for(var r=e.morphTargets[n],i=0,o=r.length;i<o;i++){var a=r[i],s=new O(3*a.data.length,3);s.name=a.name,t.push(s.copyVector3sArray(a.data))}this.morphAttributes[n]=t}return 0<e.skinIndices.length&&(n=new O(4*e.skinIndices.length,4),this.addAttribute("skinIndex",n.copyVector4sArray(e.skinIndices))),0<e.skinWeights.length&&(n=new O(4*e.skinWeights.length,4),this.addAttribute("skinWeight",n.copyVector4sArray(e.skinWeights))),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new p);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new p,t=new a;return function(){null===this.boundingSphere&&(this.boundingSphere=new f);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(r);for(var i=0,o=0,a=n.count;o<a;o++)t.x=n.getX(o),t.y=n.getY(o),t.z=n.getZ(o),i=Math.max(i,r.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new C(new Float32Array(n.length),3));else for(var r=t.normal.array,i=0,o=r.length;i<o;i++)r[i]=0;r=t.normal.array;var s=new a,l=new a,c=new a,u=new a,h=new a;if(e){var d=e.array;for(i=0,o=e.count;i<o;i+=3){e=3*d[i+0];var p=3*d[i+1],f=3*d[i+2];s.fromArray(n,e),l.fromArray(n,p),c.fromArray(n,f),u.subVectors(c,l),h.subVectors(s,l),u.cross(h),r[e]+=u.x,r[e+1]+=u.y,r[e+2]+=u.z,r[p]+=u.x,r[p+1]+=u.y,r[p+2]+=u.z,r[f]+=u.x,r[f+1]+=u.y,r[f+2]+=u.z}}else for(i=0,o=n.length;i<o;i+=9)s.fromArray(n,i),l.fromArray(n,i+3),c.fromArray(n,i+6),u.subVectors(c,l),h.subVectors(s,l),u.cross(h),r[i]=u.x,r[i+1]=u.y,r[i+2]=u.z,r[i+3]=u.x,r[i+4]=u.y,r[i+5]=u.z,r[i+6]=u.x,r[i+7]=u.y,r[i+8]=u.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n,r=this.attributes;for(n in r)if(void 0!==e.attributes[n]){var i=r[n].array,o=e.attributes[n],a=o.array,s=0;for(o=o.itemSize*t;s<a.length;s++,o++)i[o]=a[s]}return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){var e=new a;return function(){for(var t=this.attributes.normal,n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.normalize(),t.setXYZ(n,e.x,e.y,e.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e,t=new B,n=this.index.array,r=this.attributes;for(e in r){var i=r[e],o=i.array,a=i.itemSize,s=new o.constructor(n.length*a),l=0;i=0;for(var c=n.length;i<c;i++)for(var u=n[i]*a,h=0;h<a;h++)s[l++]=o[u++];t.addAttribute(e,new C(s,a))}for(n=this.groups,i=0,c=n.length;i<c;i++)r=n[i],t.addGroup(r.start,r.count,r.materialIndex);return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),0<Object.keys(this.userData).length&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(i in t)void 0!==t[i]&&(e[i]=t[i]);return e}e.data={attributes:{}};var n=this.index;for(i in null!==n&&(t=Array.prototype.slice.call(n.array),e.data.index={type:n.array.constructor.name,array:t}),n=this.attributes){var r=n[i];t=Array.prototype.slice.call(r.array),e.data.attributes[i]={itemSize:r.itemSize,type:r.array.constructor.name,array:t,normalized:r.normalized}}var i=this.groups;return 0<i.length&&(e.data.groups=JSON.parse(JSON.stringify(i))),null!==(i=this.boundingSphere)&&(e.data.boundingSphere={center:i.center.toArray(),radius:i.radius}),e},clone:function(){return(new B).copy(this)},copy:function(e){var t;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingSphere=this.boundingBox=null,this.name=e.name;var n=e.index;for(a in null!==n&&this.setIndex(n.clone()),n=e.attributes)this.addAttribute(a,n[a].clone());var r=e.morphAttributes;for(a in r){var i=[],o=r[a];for(n=0,t=o.length;n<t;n++)i.push(o[n].clone());this.morphAttributes[a]=i}var a=e.groups;for(n=0,t=a.length;n<t;n++)r=a[n],this.addGroup(r.start,r.count,r.materialIndex);return null!==(a=e.boundingBox)&&(this.boundingBox=a.clone()),null!==(a=e.boundingSphere)&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),F.prototype=Object.create(S.prototype),F.prototype.constructor=F,j.prototype=Object.create(B.prototype),j.prototype.constructor=j,H.prototype=Object.create(S.prototype),H.prototype.constructor=H,z.prototype=Object.create(B.prototype),z.prototype.constructor=z;var co=0;U.prototype=Object.assign(Object.create(n.prototype),{constructor:U,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0===n)console.warn("THREE.Material: '"+t+"' parameter is undefined.");else if("shading"===t)console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else{var r=this[t];void 0===r?console.warn("THREE."+this.type+": '"+t+"' is not a property of this material."):r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}},toJSON:function(e){function t(e){var t,n=[];for(t in e){var r=e[t];delete r.metadata,n.push(r)}return n}var n=void 0===e||"string"==typeof e;n&&(e={textures:{},images:{}});var r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};return r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearCoat&&(r.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(r.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,r.reflectivity=this.reflectivity,void 0!==this.combine&&(r.combine=this.combine),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),!0===this.flatShading&&(r.flatShading=this.flatShading),0!==this.side&&(r.side=this.side),0!==this.vertexColors&&(r.vertexColors=this.vertexColors),1>this.opacity&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),0<this.alphaTest&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),1<this.wireframeLinewidth&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(r.morphTargets=!0),!0===this.skinning&&(r.skinning=!0),!1===this.visible&&(r.visible=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),n&&(n=t(e.textures),e=t(e.images),0<n.length&&(r.textures=n),0<e.length&&(r.images=e)),r},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.shadowSide=e.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),G.prototype=Object.create(U.prototype),G.prototype.constructor=G,G.prototype.isShaderMaterial=!0,G.prototype.copy=function(e){return U.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=no.clone(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},G.prototype.toJSON=function(e){var t=U.prototype.toJSON.call(this,e);for(var n in t.uniforms={},this.uniforms){var r=this.uniforms[n].value;t.uniforms[n]=r.isTexture?{type:"t",value:r.toJSON(e).uuid}:r.isColor?{type:"c",value:r.getHex()}:r.isVector2?{type:"v2",value:r.toArray()}:r.isVector3?{type:"v3",value:r.toArray()}:r.isVector4?{type:"v4",value:r.toArray()}:r.isMatrix4?{type:"m4",value:r.toArray()}:{value:r}}return 0<Object.keys(this.defines).length&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},Object.assign(V.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new a),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new a;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new a),t.subVectors(e,this.origin),0>(e=t.dot(this.direction))?t.copy(this.origin):t.copy(this.direction).multiplyScalar(e).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new a;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return 0>n?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new a,t=new a,n=new a;return function(r,i,o,a){e.copy(r).add(i).multiplyScalar(.5),t.copy(i).sub(r).normalize(),n.copy(this.origin).sub(e);var s=.5*r.distanceTo(i),l=-this.direction.dot(t),c=n.dot(this.direction),u=-n.dot(t),h=n.lengthSq(),d=Math.abs(1-l*l);if(0<d){i=l*c-u;var p=s*d;0<=(r=l*u-c)?i>=-p?i<=p?l=(r*=s=1/d)*(r+l*(i*=s)+2*c)+i*(l*r+i+2*u)+h:(i=s,r=Math.max(0,-(l*i+c)),l=-r*r+i*(i+2*u)+h):(i=-s,r=Math.max(0,-(l*i+c)),l=-r*r+i*(i+2*u)+h):i<=-p?(r=Math.max(0,-(-l*s+c)),i=0<r?-s:Math.min(Math.max(-s,-u),s),l=-r*r+i*(i+2*u)+h):i<=p?(r=0,i=Math.min(Math.max(-s,-u),s),l=i*(i+2*u)+h):(r=Math.max(0,-(l*s+c)),i=0<r?s:Math.min(Math.max(-s,-u),s),l=-r*r+i*(i+2*u)+h)}else i=0<l?-s:s,r=Math.max(0,-(l*i+c)),l=-r*r+i*(i+2*u)+h;return o&&o.copy(this.direction).multiplyScalar(r).add(this.origin),a&&a.copy(t).multiplyScalar(i).add(e),l}}(),intersectSphere:function(){var e=new a;return function(t,n){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),i=e.dot(e)-r*r;return t=t.radius*t.radius,i>t?null:(t=Math.sqrt(t-i),i=r-t,r+=t,0>i&&0>r?null:0>i?this.at(r,n):this.at(i,n))}}(),intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);return 0===t?0===e.distanceToPoint(this.origin)?0:null:0<=(e=-(this.origin.dot(e.normal)+e.constant)/t)?e:null},intersectPlane:function(e,t){return null===(e=this.distanceToPlane(e))?null:this.at(e,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||0>e.normal.dot(this.direction)*t},intersectBox:function(e,t){var n=1/this.direction.x,r=1/this.direction.y,i=1/this.direction.z,o=this.origin;if(0<=n){var a=(e.min.x-o.x)*n;n*=e.max.x-o.x}else a=(e.max.x-o.x)*n,n*=e.min.x-o.x;if(0<=r){var s=(e.min.y-o.y)*r;r*=e.max.y-o.y}else s=(e.max.y-o.y)*r,r*=e.min.y-o.y;return a>r||s>n?null:((s>a||a!=a)&&(a=s),(r<n||n!=n)&&(n=r),0<=i?(s=(e.min.z-o.z)*i,e=(e.max.z-o.z)*i):(s=(e.max.z-o.z)*i,e=(e.min.z-o.z)*i),a>e||s>n?null:((s>a||a!=a)&&(a=s),(e<n||n!=n)&&(n=e),0>n?null:this.at(0<=a?a:n,t)))},intersectsBox:function(){var e=new a;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new a,t=new a,n=new a,r=new a;return function(i,o,a,s,l){if(t.subVectors(o,i),n.subVectors(a,i),r.crossVectors(t,n),0<(o=this.direction.dot(r))){if(s)return null;s=1}else{if(!(0>o))return null;s=-1,o=-o}return e.subVectors(this.origin,i),0>(i=s*this.direction.dot(n.crossVectors(e,n)))?null:0>(a=s*this.direction.dot(t.cross(e)))||i+a>o?null:0>(i=-s*e.dot(r))?null:this.at(i/o,l)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(W,{getNormal:function(){var e=new a;return function(t,n,r,i){return void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new a),i.subVectors(r,n),e.subVectors(t,n),i.cross(e),0<(t=i.lengthSq())?i.multiplyScalar(1/Math.sqrt(t)):i.set(0,0,0)}}(),getBarycoord:function(){var e=new a,t=new a,n=new a;return function(r,i,o,s,l){e.subVectors(s,i),t.subVectors(o,i),n.subVectors(r,i),r=e.dot(e),i=e.dot(t),o=e.dot(n);var c=t.dot(t);s=t.dot(n);var u=r*c-i*i;return void 0===l&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),l=new a),0===u?l.set(-2,-1,-1):(c=(c*o-i*s)*(u=1/u),r=(r*s-i*o)*u,l.set(1-c-r,r,c))}}(),containsPoint:function(){var e=new a;return function(t,n,r,i){return W.getBarycoord(t,n,r,i,e),0<=e.x&&0<=e.y&&1>=e.x+e.y}}(),getUV:function(){var e=new a;return function(t,n,r,i,o,a,s,l){return this.getBarycoord(t,n,r,i,e),l.set(0,0),l.addScaledVector(o,e.x),l.addScaledVector(a,e.y),l.addScaledVector(s,e.z),l}}()}),Object.assign(W.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){var e=new a,t=new a;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new a),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return W.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new a),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return W.getBarycoord(e,this.a,this.b,this.c,t)},containsPoint:function(e){return W.containsPoint(e,this.a,this.b,this.c)},getUV:function(e,t,n,r,i){return W.getUV(e,this.a,this.b,this.c,t,n,r,i)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(){var e=new a,t=new a,n=new a,r=new a,i=new a,o=new a;return function(s,l){void 0===l&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),l=new a);var c=this.a,u=this.b,h=this.c;e.subVectors(u,c),t.subVectors(h,c),r.subVectors(s,c);var d=e.dot(r),p=t.dot(r);if(0>=d&&0>=p)return l.copy(c);i.subVectors(s,u);var f=e.dot(i),m=t.dot(i);if(0<=f&&m<=f)return l.copy(u);var g=d*m-f*p;if(0>=g&&0<=d&&0>=f)return u=d/(d-f),l.copy(c).addScaledVector(e,u);o.subVectors(s,h),s=e.dot(o);var v=t.dot(o);return 0<=v&&s<=v?l.copy(h):0>=(d=s*p-d*v)&&0<=p&&0>=v?(g=p/(p-v),l.copy(c).addScaledVector(t,g)):0>=(p=f*v-s*m)&&0<=m-f&&0<=s-v?(n.subVectors(h,u),g=(m-f)/(m-f+(s-v)),l.copy(u).addScaledVector(n,g)):(u=d*(h=1/(p+d+g)),g*=h,l.copy(c).addScaledVector(e,u).addScaledVector(t,g))}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),q.prototype=Object.create(U.prototype),q.prototype.constructor=q,q.prototype.isMeshBasicMaterial=!0,q.prototype.copy=function(e){return U.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},K.prototype=Object.assign(Object.create(M.prototype),{constructor:K,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return M.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){e=e.morphAttributes;var t=Object.keys(e);if(0<t.length){var n=e[t[0]];if(void 0!==n)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=n.length;e<t;e++){var r=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=e}}}else if(void 0!==(n=e.morphTargets)&&0<n.length)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=n.length;e<t;e++)r=n[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=e},raycast:function(){function e(e,t,n,r,i,o,a,s){return null===(1===t.side?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,2!==t.side,s))?null:(b.copy(s),b.applyMatrix4(e.matrixWorld),(t=n.ray.origin.distanceTo(b))<n.near||t>n.far?null:{distance:t,point:b.clone(),object:e})}function t(t,n,i,o,a,s,h,d,p){return l.fromBufferAttribute(a,h),c.fromBufferAttribute(a,d),u.fromBufferAttribute(a,p),(t=e(t,n,i,o,l,c,u,y))&&(s&&(m.fromBufferAttribute(s,h),g.fromBufferAttribute(s,d),v.fromBufferAttribute(s,p),t.uv=W.getUV(y,l,c,u,m,g,v,new r)),s=new x(h,d,p),W.getNormal(l,c,u,s.normal),t.face=s),t}var n=new i,o=new V,s=new f,l=new a,c=new a,u=new a,h=new a,d=new a,p=new a,m=new r,g=new r,v=new r,y=new a,b=new a;return function(i,a){var f=this.geometry,b=this.material,x=this.matrixWorld;if(void 0!==b&&(null===f.boundingSphere&&f.computeBoundingSphere(),s.copy(f.boundingSphere),s.applyMatrix4(x),!1!==i.ray.intersectsSphere(s)&&(n.getInverse(x),o.copy(i.ray).applyMatrix4(n),null===f.boundingBox||!1!==o.intersectsBox(f.boundingBox))))if(f.isBufferGeometry){var _,w=f.index,M=f.attributes.position,S=f.attributes.uv,C=f.groups;if(f=f.drawRange,null!==w)if(Array.isArray(b)){var E=0;for(_=C.length;E<_;E++){var T=C[E],L=b[T.materialIndex];x=Math.max(T.start,f.start);var P=Math.min(T.start+T.count,f.start+f.count);for(T=x;T<P;T+=3){x=w.getX(T);var k=w.getX(T+1),A=w.getX(T+2);(x=t(this,L,i,o,M,S,x,k,A))&&(x.faceIndex=Math.floor(T/3),a.push(x))}}}else for(x=Math.max(0,f.start),P=Math.min(w.count,f.start+f.count),E=x,_=P;E<_;E+=3)x=w.getX(E),k=w.getX(E+1),A=w.getX(E+2),(x=t(this,b,i,o,M,S,x,k,A))&&(x.faceIndex=Math.floor(E/3),a.push(x));else if(void 0!==M)if(Array.isArray(b))for(E=0,_=C.length;E<_;E++)for(T=C[E],L=b[T.materialIndex],x=Math.max(T.start,f.start),P=Math.min(T.start+T.count,f.start+f.count),T=x;T<P;T+=3)(x=t(this,L,i,o,M,S,x=T,k=T+1,A=T+2))&&(x.faceIndex=Math.floor(T/3),a.push(x));else for(x=Math.max(0,f.start),P=Math.min(M.count,f.start+f.count),E=x,_=P;E<_;E+=3)(x=t(this,b,i,o,M,S,x=E,k=E+1,A=E+2))&&(x.faceIndex=Math.floor(E/3),a.push(x))}else if(f.isGeometry)for(M=Array.isArray(b),S=f.vertices,C=f.faces,0<(x=f.faceVertexUvs[0]).length&&(w=x),T=0,P=C.length;T<P;T++)if(k=C[T],void 0!==(x=M?b[k.materialIndex]:b)){if(E=S[k.a],_=S[k.b],L=S[k.c],!0===x.morphTargets){A=f.morphTargets;var I=this.morphTargetInfluences;l.set(0,0,0),c.set(0,0,0),u.set(0,0,0);for(var O=0,R=A.length;O<R;O++){var D=I[O];if(0!==D){var N=A[O].vertices;l.addScaledVector(h.subVectors(N[k.a],E),D),c.addScaledVector(d.subVectors(N[k.b],_),D),u.addScaledVector(p.subVectors(N[k.c],L),D)}}l.add(E),c.add(_),u.add(L),E=l,_=c,L=u}(x=e(this,x,i,o,E,_,L,y))&&(w&&w[T]&&(A=w[T],m.copy(A[0]),g.copy(A[1]),v.copy(A[2]),x.uv=W.getUV(y,E,_,L,m,g,v,new r)),x.face=k,x.faceIndex=T,a.push(x))}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),oe.prototype=Object.create(l.prototype),oe.prototype.constructor=oe,oe.prototype.isCubeTexture=!0,Object.defineProperty(oe.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),ae.prototype=Object.create(l.prototype),ae.prototype.constructor=ae,ae.prototype.isDataTexture3D=!0;var uo=new l,ho=new ae,po=new oe,fo=[],mo=[],go=new Float32Array(16),vo=new Float32Array(9),yo=new Float32Array(4);Ne.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),ce(t,e)},Be.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,o=r.length;i!==o;++i){var a=r[i];a.setValue(e,t[a.id],n)}};var bo=/([\w\d_]+)(\])?(\[|\.)?/g;Fe.prototype.setValue=function(e,t,n){void 0!==(t=this.map[t])&&t.setValue(e,n,this.renderer)},Fe.prototype.setOptional=function(e,t,n){void 0!==(t=t[n])&&this.setValue(e,n,t)},Fe.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,r)}},Fe.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var o=e[r];o.id in t&&n.push(o)}return n};var xo=0,_o=0;it.prototype=Object.create(U.prototype),it.prototype.constructor=it,it.prototype.isMeshDepthMaterial=!0,it.prototype.copy=function(e){return U.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},ot.prototype=Object.create(U.prototype),ot.prototype.constructor=ot,ot.prototype.isMeshDistanceMaterial=!0,ot.prototype.copy=function(e){return U.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},ut.prototype=Object.assign(Object.create(M.prototype),{constructor:ut,isGroup:!0}),ht.prototype=Object.assign(Object.create(M.prototype),{constructor:ht,isCamera:!0,copy:function(e,t){return M.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new a),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){M.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),dt.prototype=Object.assign(Object.create(ht.prototype),{constructor:dt,isPerspectiveCamera:!0,copy:function(e,t){return ht.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){e=.5*this.getFilmHeight()/e,this.fov=2*Qi.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Qi.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Qi.RAD2DEG*Math.atan(Math.tan(.5*Qi.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Qi.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,t-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}0!==(o=this.filmOffset)&&(i+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){return(e=M.prototype.toJSON.call(this,e)).object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),pt.prototype=Object.assign(Object.create(dt.prototype),{constructor:pt,isArrayCamera:!0});var wo,Mo=new a,So=new a;yt.prototype.isFogExp2=!0,yt.prototype.clone=function(){return new yt(this.color,this.density)},yt.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},bt.prototype.isFog=!0,bt.prototype.clone=function(){return new bt(this.color,this.near,this.far)},bt.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},xt.prototype=Object.assign(Object.create(M.prototype),{constructor:xt,copy:function(e,t){return M.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=M.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}),Object.defineProperty(_t.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(_t.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.stride:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(wt.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(wt.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}}),Mt.prototype=Object.create(U.prototype),Mt.prototype.constructor=Mt,Mt.prototype.isSpriteMaterial=!0,Mt.prototype.copy=function(e){return U.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this},St.prototype=Object.assign(Object.create(M.prototype),{constructor:St,isSprite:!0,raycast:function(){function e(e,t,n,r,i,o){s.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(l.x=o*s.x-i*s.y,l.y=i*s.x+o*s.y):l.copy(s),e.copy(t),e.x+=l.x,e.y+=l.y,e.applyMatrix4(c)}var t=new a,n=new a,o=new a,s=new r,l=new r,c=new i,u=new a,h=new a,d=new a,p=new r,f=new r,m=new r;return function(i,a){n.setFromMatrixScale(this.matrixWorld),c.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),o.setFromMatrixPosition(this.modelViewMatrix);var s=this.material.rotation;if(0!==s)var l=Math.cos(s),g=Math.sin(s);s=this.center,e(u.set(-.5,-.5,0),o,s,n,g,l),e(h.set(.5,-.5,0),o,s,n,g,l),e(d.set(.5,.5,0),o,s,n,g,l),p.set(0,0),f.set(1,0),m.set(1,1);var v=i.ray.intersectTriangle(u,h,d,!1,t);null===v&&(e(h.set(-.5,.5,0),o,s,n,g,l),f.set(0,1),null===(v=i.ray.intersectTriangle(u,d,h,!1,t)))||(g=i.ray.origin.distanceTo(t))<i.near||g>i.far||a.push({distance:g,point:t.clone(),uv:W.getUV(t,u,h,d,p,f,m,new r),face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return M.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}}),Ct.prototype=Object.assign(Object.create(M.prototype),{constructor:Ct,copy:function(e){M.prototype.copy.call(this,e,!1),e=e.levels;for(var t=0,n=e.length;t<n;t++){var r=e[t];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);n.splice(r,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(){var e=new a;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.origin.distanceTo(e);this.getObjectForDistance(r).raycast(t,n)}}(),update:function(){var e=new a,t=new a;return function(n){var r=this.levels;if(1<r.length){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld),n=e.distanceTo(t),r[0].object.visible=!0;for(var i=1,o=r.length;i<o&&n>=r[i].distance;i++)r[i-1].object.visible=!1,r[i].object.visible=!0;for(;i<o;i++)r[i].object.visible=!1}}}(),toJSON:function(e){(e=M.prototype.toJSON.call(this,e)).object.levels=[];for(var t=this.levels,n=0,r=t.length;n<r;n++){var i=t[n];e.object.levels.push({object:i.object.uuid,distance:i.distance})}return e}}),Object.assign(Et.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new i;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n=0;for(t=this.bones.length;n<t;n++)(e=this.bones[n])&&e.matrixWorld.getInverse(this.boneInverses[n]);for(n=0,t=this.bones.length;n<t;n++)(e=this.bones[n])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new i,t=new i;return function(){for(var n=this.bones,r=this.boneInverses,i=this.boneMatrices,o=this.boneTexture,a=0,s=n.length;a<s;a++)e.multiplyMatrices(n[a]?n[a].matrixWorld:t,r[a]),e.toArray(i,16*a);void 0!==o&&(o.needsUpdate=!0)}}(),clone:function(){return new Et(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}}),Tt.prototype=Object.assign(Object.create(M.prototype),{constructor:Tt,isBone:!0}),Lt.prototype=Object.assign(Object.create(K.prototype),{constructor:Lt,isSkinnedMesh:!0,initBones:function(){var e,t=[];if(this.geometry&&void 0!==this.geometry.bones){var n=0;for(e=this.geometry.bones.length;n<e;n++){var r=this.geometry.bones[n],i=new Tt;t.push(i),i.name=r.name,i.position.fromArray(r.pos),i.quaternion.fromArray(r.rotq),void 0!==r.scl&&i.scale.fromArray(r.scl)}for(n=0,e=this.geometry.bones.length;n<e;n++)-1!==(r=this.geometry.bones[n]).parent&&null!==r.parent&&void 0!==t[r.parent]?t[r.parent].add(t[n]):this.add(t[n])}return this.updateMatrixWorld(!0),t},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var e;if(this.geometry&&this.geometry.isGeometry)for(e=0;e<this.geometry.skinWeights.length;e++){var t=this.geometry.skinWeights[e],n=1/t.manhattanLength();1/0!==n?t.multiplyScalar(n):t.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){t=new c;var r=this.geometry.attributes.skinWeight;for(e=0;e<r.count;e++)t.x=r.getX(e),t.y=r.getY(e),t.z=r.getZ(e),t.w=r.getW(e),1/0!=(n=1/t.manhattanLength())?t.multiplyScalar(n):t.set(1,0,0,0),r.setXYZW(e,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(e){K.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Pt.prototype=Object.create(U.prototype),Pt.prototype.constructor=Pt,Pt.prototype.isLineBasicMaterial=!0,Pt.prototype.copy=function(e){return U.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},kt.prototype=Object.assign(Object.create(M.prototype),{constructor:kt,isLine:!0,computeLineDistances:function(){var e=new a,t=new a;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var r=n.attributes.position,i=[0],o=1,a=r.count;o<a;o++)e.fromBufferAttribute(r,o-1),t.fromBufferAttribute(r,o),i[o]=i[o-1],i[o]+=e.distanceTo(t);n.addAttribute("lineDistance",new O(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry)for(r=n.vertices,(i=n.lineDistances)[0]=0,o=1,a=r.length;o<a;o++)i[o]=i[o-1],i[o]+=r[o-1].distanceTo(r[o]);return this}}(),raycast:function(){var e=new i,t=new V,n=new f;return function(r,i){var o=r.linePrecision,s=this.geometry,l=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(l),n.radius+=o,!1!==r.ray.intersectsSphere(n)){e.getInverse(l),t.copy(r.ray).applyMatrix4(e),o/=(this.scale.x+this.scale.y+this.scale.z)/3,o*=o;var c=new a,u=new a;l=new a;var h=new a,d=this&&this.isLineSegments?2:1;if(s.isBufferGeometry){var p=s.index,f=s.attributes.position.array;if(null!==p){p=p.array,s=0;for(var m=p.length-1;s<m;s+=d){var g=p[s+1];c.fromArray(f,3*p[s]),u.fromArray(f,3*g),(g=t.distanceSqToSegment(c,u,h,l))>o||(h.applyMatrix4(this.matrixWorld),(g=r.ray.origin.distanceTo(h))<r.near||g>r.far||i.push({distance:g,point:l.clone().applyMatrix4(this.matrixWorld),index:s,face:null,faceIndex:null,object:this}))}}else for(s=0,m=f.length/3-1;s<m;s+=d)c.fromArray(f,3*s),u.fromArray(f,3*s+3),(g=t.distanceSqToSegment(c,u,h,l))>o||(h.applyMatrix4(this.matrixWorld),(g=r.ray.origin.distanceTo(h))<r.near||g>r.far||i.push({distance:g,point:l.clone().applyMatrix4(this.matrixWorld),index:s,face:null,faceIndex:null,object:this}))}else if(s.isGeometry)for(c=s.vertices,u=c.length,s=0;s<u-1;s+=d)(g=t.distanceSqToSegment(c[s],c[s+1],h,l))>o||(h.applyMatrix4(this.matrixWorld),(g=r.ray.origin.distanceTo(h))<r.near||g>r.far||i.push({distance:g,point:l.clone().applyMatrix4(this.matrixWorld),index:s,face:null,faceIndex:null,object:this}))}}}(),copy:function(e){return M.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),At.prototype=Object.assign(Object.create(kt.prototype),{constructor:At,isLineSegments:!0,computeLineDistances:function(){var e=new a,t=new a;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var r=n.attributes.position,i=[],o=0,a=r.count;o<a;o+=2)e.fromBufferAttribute(r,o),t.fromBufferAttribute(r,o+1),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+e.distanceTo(t);n.addAttribute("lineDistance",new O(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry)for(r=n.vertices,i=n.lineDistances,o=0,a=r.length;o<a;o+=2)e.copy(r[o]),t.copy(r[o+1]),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+e.distanceTo(t);return this}}()}),It.prototype=Object.assign(Object.create(kt.prototype),{constructor:It,isLineLoop:!0}),Ot.prototype=Object.create(U.prototype),Ot.prototype.constructor=Ot,Ot.prototype.isPointsMaterial=!0,Ot.prototype.copy=function(e){return U.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this},Rt.prototype=Object.assign(Object.create(M.prototype),{constructor:Rt,isPoints:!0,raycast:function(){var e=new i,t=new V,n=new f;return function(r,i){function o(e,n){var o=t.distanceSqToPoint(e);o<h&&(t.closestPointToPoint(e,d),d.applyMatrix4(c),(e=r.ray.origin.distanceTo(d))<r.near||e>r.far||i.push({distance:e,distanceToRay:Math.sqrt(o),point:d.clone(),index:n,face:null,object:s}))}var s=this,l=this.geometry,c=this.matrixWorld,u=r.params.Points.threshold;if(null===l.boundingSphere&&l.computeBoundingSphere(),n.copy(l.boundingSphere),n.applyMatrix4(c),n.radius+=u,!1!==r.ray.intersectsSphere(n)){e.getInverse(c),t.copy(r.ray).applyMatrix4(e);var h=(u/=(this.scale.x+this.scale.y+this.scale.z)/3)*u;u=new a;var d=new a;if(l.isBufferGeometry){var p=l.index;if(l=l.attributes.position.array,null!==p){var f=p.array;p=0;for(var m=f.length;p<m;p++){var g=f[p];u.fromArray(l,3*g),o(u,g)}}else for(p=0,f=l.length/3;p<f;p++)u.fromArray(l,3*p),o(u,p)}else for(u=l.vertices,p=0,f=u.length;p<f;p++)o(u[p],p)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Dt.prototype=Object.assign(Object.create(l.prototype),{constructor:Dt,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Nt.prototype=Object.create(l.prototype),Nt.prototype.constructor=Nt,Nt.prototype.isCompressedTexture=!0,Bt.prototype=Object.create(l.prototype),Bt.prototype.constructor=Bt,Bt.prototype.isCanvasTexture=!0,Ft.prototype=Object.create(l.prototype),Ft.prototype.constructor=Ft,Ft.prototype.isDepthTexture=!0,jt.prototype=Object.create(B.prototype),jt.prototype.constructor=jt,Ht.prototype=Object.create(S.prototype),Ht.prototype.constructor=Ht,zt.prototype=Object.create(B.prototype),zt.prototype.constructor=zt,Ut.prototype=Object.create(S.prototype),Ut.prototype.constructor=Ut,Gt.prototype=Object.create(B.prototype),Gt.prototype.constructor=Gt,Vt.prototype=Object.create(S.prototype),Vt.prototype.constructor=Vt,Wt.prototype=Object.create(Gt.prototype),Wt.prototype.constructor=Wt,qt.prototype=Object.create(S.prototype),qt.prototype.constructor=qt,Kt.prototype=Object.create(Gt.prototype),Kt.prototype.constructor=Kt,Xt.prototype=Object.create(S.prototype),Xt.prototype.constructor=Xt,Yt.prototype=Object.create(Gt.prototype),Yt.prototype.constructor=Yt,Zt.prototype=Object.create(S.prototype),Zt.prototype.constructor=Zt,Jt.prototype=Object.create(Gt.prototype),Jt.prototype.constructor=Jt,Qt.prototype=Object.create(S.prototype),Qt.prototype.constructor=Qt,$t.prototype=Object.create(B.prototype),$t.prototype.constructor=$t,en.prototype=Object.create(S.prototype),en.prototype.constructor=en,tn.prototype=Object.create(B.prototype),tn.prototype.constructor=tn,nn.prototype=Object.create(S.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create(B.prototype),rn.prototype.constructor=rn;var Co={triangulate:function(e,t,n){n=n||2;var r,i=t&&t.length,o=i?t[0]*n:e.length,a=on(e,0,o,n,!0),s=[];if(!a)return s;if(i){var l,c=n;i=[];var u=0;for(l=t.length;u<l;u++){var h=t[u]*c,d=u<l-1?t[u+1]*c:e.length;(h=on(e,h,d,c,!1))===h.next&&(h.steiner=!0),i.push(un(h))}for(i.sort(sn),u=0;u<i.length;u++)t=i[u],(c=ln(t,c=a))&&an(t=gn(c,t),t.next),a=an(a,a.next)}if(e.length>80*n){var p=r=e[0],f=i=e[1];for(c=n;c<o;c+=n)u=e[c],t=e[c+1],u<p&&(p=u),t<f&&(f=t),u>r&&(r=u),t>i&&(i=t);r=0!==(r=Math.max(r-p,i-f))?1/r:0}return function e(t,n,r,i,o,a,s){if(t){if(!s&&a){var l=t,c=l;do{null===c.z&&(c.z=cn(c.x,c.y,i,o,a)),c.prevZ=c.prev,c=c.nextZ=c.next}while(c!==l);c.prevZ.nextZ=null,c.prevZ=null,l=c;var u,h,d,p,f=1;do{c=l;var m=l=null;for(h=0;c;){h++;var g=c;for(u=d=0;u<f&&(d++,g=g.nextZ);u++);for(p=f;0<d||0<p&&g;)0!==d&&(0===p||!g||c.z<=g.z)?(u=c,c=c.nextZ,d--):(u=g,g=g.nextZ,p--),m?m.nextZ=u:l=u,u.prevZ=m,m=u;c=g}m.nextZ=null,f*=2}while(1<h)}for(l=t;t.prev!==t.next;){if(c=t.prev,g=t.next,a)e:{p=i;var v=o,y=a;if(h=(m=t).prev,d=m,f=m.next,0<=dn(h,d,f))m=!1;else{var b=h.x>d.x?h.x>f.x?h.x:f.x:d.x>f.x?d.x:f.x,x=h.y>d.y?h.y>f.y?h.y:f.y:d.y>f.y?d.y:f.y;for(u=cn(h.x<d.x?h.x<f.x?h.x:f.x:d.x<f.x?d.x:f.x,h.y<d.y?h.y<f.y?h.y:f.y:d.y<f.y?d.y:f.y,p,v,y),p=cn(b,x,p,v,y),v=m.nextZ;v&&v.z<=p;){if(v!==m.prev&&v!==m.next&&hn(h.x,h.y,d.x,d.y,f.x,f.y,v.x,v.y)&&0<=dn(v.prev,v,v.next)){m=!1;break e}v=v.nextZ}for(v=m.prevZ;v&&v.z>=u;){if(v!==m.prev&&v!==m.next&&hn(h.x,h.y,d.x,d.y,f.x,f.y,v.x,v.y)&&0<=dn(v.prev,v,v.next)){m=!1;break e}v=v.prevZ}m=!0}}else e:if(m=t,h=m.prev,d=m,f=m.next,0<=dn(h,d,f))m=!1;else{for(u=m.next.next;u!==m.prev;){if(hn(h.x,h.y,d.x,d.y,f.x,f.y,u.x,u.y)&&0<=dn(u.prev,u,u.next)){m=!1;break e}u=u.next}m=!0}if(m)n.push(c.i/r),n.push(t.i/r),n.push(g.i/r),yn(t),l=t=g.next;else if((t=g)===l){if(s){if(1===s){s=n,l=r,c=t;do{g=c.prev,m=c.next.next,!pn(g,m)&&fn(g,c,c.next,m)&&mn(g,m)&&mn(m,g)&&(s.push(g.i/l),s.push(c.i/l),s.push(m.i/l),yn(c),yn(c.next),c=t=m),c=c.next}while(c!==t);e(t=c,n,r,i,o,a,2)}else if(2===s)e:{s=t;do{for(l=s.next.next;l!==s.prev;){if(c=s.i!==l.i){if(g=l,m=(c=s).next.i!==g.i&&c.prev.i!==g.i){t:{m=c;do{if(m.i!==c.i&&m.next.i!==c.i&&m.i!==g.i&&m.next.i!==g.i&&fn(m,m.next,c,g)){m=!0;break t}m=m.next}while(m!==c);m=!1}m=!m}if(m=m&&mn(c,g)&&mn(g,c)){m=c,h=!1,d=(c.x+g.x)/2,g=(c.y+g.y)/2;do{m.y>g!=m.next.y>g&&m.next.y!==m.y&&d<(m.next.x-m.x)*(g-m.y)/(m.next.y-m.y)+m.x&&(h=!h),m=m.next}while(m!==c);m=h}c=m}if(c){t=gn(s,l),s=an(s,s.next),t=an(t,t.next),e(s,n,r,i,o,a),e(t,n,r,i,o,a);break e}l=l.next}s=s.next}while(s!==t)}}else e(an(t),n,r,i,o,a,1);break}}}}(a,s,n,p,f,r),s}},Eo={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return 0>Eo.area(e)},triangulateShape:function(e,t){var n=[],r=[],i=[];xn(e),_n(n,e);var o=e.length;for(t.forEach(xn),e=0;e<t.length;e++)r.push(o),o+=t[e].length,_n(n,t[e]);for(t=Co.triangulate(n,r),e=0;e<t.length;e+=3)i.push(t.slice(e,e+3));return i}};wn.prototype=Object.create(S.prototype),wn.prototype.constructor=wn,wn.prototype.toJSON=function(){var e=S.prototype.toJSON.call(this);return Sn(this.parameters.shapes,this.parameters.options,e)},Mn.prototype=Object.create(B.prototype),Mn.prototype.constructor=Mn,Mn.prototype.toJSON=function(){var e=B.prototype.toJSON.call(this);return Sn(this.parameters.shapes,this.parameters.options,e)};var To={generateTopUV:function(e,t,n,i,o){e=t[3*i],i=t[3*i+1];var a=t[3*o];return o=t[3*o+1],[new r(t[3*n],t[3*n+1]),new r(e,i),new r(a,o)]},generateSideWallUV:function(e,t,n,i,o,a){e=t[3*n];var s=t[3*n+1];n=t[3*n+2];var l=t[3*i],c=t[3*i+1];i=t[3*i+2];var u=t[3*o],h=t[3*o+1];o=t[3*o+2];var d=t[3*a],p=t[3*a+1];return t=t[3*a+2],.01>Math.abs(s-c)?[new r(e,1-n),new r(l,1-i),new r(u,1-o),new r(d,1-t)]:[new r(s,1-n),new r(c,1-i),new r(h,1-o),new r(p,1-t)]}};Cn.prototype=Object.create(S.prototype),Cn.prototype.constructor=Cn,En.prototype=Object.create(Mn.prototype),En.prototype.constructor=En,Tn.prototype=Object.create(S.prototype),Tn.prototype.constructor=Tn,Ln.prototype=Object.create(B.prototype),Ln.prototype.constructor=Ln,Pn.prototype=Object.create(S.prototype),Pn.prototype.constructor=Pn,kn.prototype=Object.create(B.prototype),kn.prototype.constructor=kn,An.prototype=Object.create(S.prototype),An.prototype.constructor=An,In.prototype=Object.create(B.prototype),In.prototype.constructor=In,On.prototype=Object.create(S.prototype),On.prototype.constructor=On,On.prototype.toJSON=function(){var e=S.prototype.toJSON.call(this);return Dn(this.parameters.shapes,e)},Rn.prototype=Object.create(B.prototype),Rn.prototype.constructor=Rn,Rn.prototype.toJSON=function(){var e=B.prototype.toJSON.call(this);return Dn(this.parameters.shapes,e)},Nn.prototype=Object.create(B.prototype),Nn.prototype.constructor=Nn,Bn.prototype=Object.create(S.prototype),Bn.prototype.constructor=Bn,Fn.prototype=Object.create(B.prototype),Fn.prototype.constructor=Fn,jn.prototype=Object.create(Bn.prototype),jn.prototype.constructor=jn,Hn.prototype=Object.create(Fn.prototype),Hn.prototype.constructor=Hn,zn.prototype=Object.create(S.prototype),zn.prototype.constructor=zn,Un.prototype=Object.create(B.prototype),Un.prototype.constructor=Un;var Lo=Object.freeze({WireframeGeometry:jt,ParametricGeometry:Ht,ParametricBufferGeometry:zt,TetrahedronGeometry:Vt,TetrahedronBufferGeometry:Wt,OctahedronGeometry:qt,OctahedronBufferGeometry:Kt,IcosahedronGeometry:Xt,IcosahedronBufferGeometry:Yt,DodecahedronGeometry:Zt,DodecahedronBufferGeometry:Jt,PolyhedronGeometry:Ut,PolyhedronBufferGeometry:Gt,TubeGeometry:Qt,TubeBufferGeometry:$t,TorusKnotGeometry:en,TorusKnotBufferGeometry:tn,TorusGeometry:nn,TorusBufferGeometry:rn,TextGeometry:Cn,TextBufferGeometry:En,SphereGeometry:Tn,SphereBufferGeometry:Ln,RingGeometry:Pn,RingBufferGeometry:kn,PlaneGeometry:H,PlaneBufferGeometry:z,LatheGeometry:An,LatheBufferGeometry:In,ShapeGeometry:On,ShapeBufferGeometry:Rn,ExtrudeGeometry:wn,ExtrudeBufferGeometry:Mn,EdgesGeometry:Nn,ConeGeometry:jn,ConeBufferGeometry:Hn,CylinderGeometry:Bn,CylinderBufferGeometry:Fn,CircleGeometry:zn,CircleBufferGeometry:Un,BoxGeometry:F,BoxBufferGeometry:j});Gn.prototype=Object.create(U.prototype),Gn.prototype.constructor=Gn,Gn.prototype.isShadowMaterial=!0,Gn.prototype.copy=function(e){return U.prototype.copy.call(this,e),this.color.copy(e.color),this},Vn.prototype=Object.create(G.prototype),Vn.prototype.constructor=Vn,Vn.prototype.isRawShaderMaterial=!0,Wn.prototype=Object.create(U.prototype),Wn.prototype.constructor=Wn,Wn.prototype.isMeshStandardMaterial=!0,Wn.prototype.copy=function(e){return U.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},qn.prototype=Object.create(Wn.prototype),qn.prototype.constructor=qn,qn.prototype.isMeshPhysicalMaterial=!0,qn.prototype.copy=function(e){return Wn.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},Kn.prototype=Object.create(U.prototype),Kn.prototype.constructor=Kn,Kn.prototype.isMeshPhongMaterial=!0,Kn.prototype.copy=function(e){return U.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Xn.prototype=Object.create(Kn.prototype),Xn.prototype.constructor=Xn,Xn.prototype.isMeshToonMaterial=!0,Xn.prototype.copy=function(e){return Kn.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},Yn.prototype=Object.create(U.prototype),Yn.prototype.constructor=Yn,Yn.prototype.isMeshNormalMaterial=!0,Yn.prototype.copy=function(e){return U.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Zn.prototype=Object.create(U.prototype),Zn.prototype.constructor=Zn,Zn.prototype.isMeshLambertMaterial=!0,Zn.prototype.copy=function(e){return U.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Jn.prototype=Object.create(U.prototype),Jn.prototype.constructor=Jn,Jn.prototype.isMeshMatcapMaterial=!0,Jn.prototype.copy=function(e){return U.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Qn.prototype=Object.create(Pt.prototype),Qn.prototype.constructor=Qn,Qn.prototype.isLineDashedMaterial=!0,Qn.prototype.copy=function(e){return Pt.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Po=Object.freeze({ShadowMaterial:Gn,SpriteMaterial:Mt,RawShaderMaterial:Vn,ShaderMaterial:G,PointsMaterial:Ot,MeshPhysicalMaterial:qn,MeshStandardMaterial:Wn,MeshPhongMaterial:Kn,MeshToonMaterial:Xn,MeshNormalMaterial:Yn,MeshLambertMaterial:Zn,MeshDepthMaterial:it,MeshDistanceMaterial:ot,MeshBasicMaterial:q,MeshMatcapMaterial:Jn,LineDashedMaterial:Qn,LineBasicMaterial:Pt,Material:U}),ko={arraySlice:function(e,t,n){return ko.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=Array(t),r=0;r!==t;++r)n[r]=r;return n.sort(function(t,n){return e[t]-e[n]}),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*t,l=0;l!==t;++l)i[a++]=e[s+l];return i},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[r])&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[r])&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{void 0!==(a=o[r])&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}}};Object.assign($n.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return this._cachedIndex=n=t.length,this.afterEnd_(n-1,e,i)}if(n===o)break;if(i=r,r=t[++n],e<r)break t}r=t.length;break n}if(e>=i)break e;for(o=t[1],e<o&&(n=2,i=o),o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===o)break;if(r=i,i=t[--n-1],e>=i)break t}r=n,n=0}for(;n<r;)e<t[i=n+r>>>1]?r=i:n=i+1;if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return this._cachedIndex=n=t.length,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize;e*=r;for(var i=0;i!==r;++i)t[i]=n[e+i];return t},interpolate_:function(){throw Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign($n.prototype,{beforeStart_:$n.prototype.copySampleValue_,afterEnd_:$n.prototype.copySampleValue_}),er.prototype=Object.assign(Object.create($n.prototype),{constructor:er,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:i=e,a=2*t-n;break;case 2402:i=r.length-2,a=t+r[i]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:o=e,s=2*n-t;break;case 2402:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}e=.5*(n-t),r=this.valueSize,this._weightPrev=e/(t-a),this._weightNext=e/(s-n),this._offsetPrev=i*r,this._offsetNext=o*r},interpolate_:function(e,t,n,r){var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(e*=a)-a,l=this._offsetPrev,c=this._offsetNext,u=this._weightPrev,h=this._weightNext,d=(n-t)/(r-t);for(t=-u*(r=(n=d*d)*d)+2*u*n-u*d,u=(1+u)*r+(-1.5-2*u)*n+(-.5+u)*d+1,d=(-1-h)*r+(1.5+h)*n+.5*d,h=h*r-h*n,n=0;n!==a;++n)i[n]=t*o[l+n]+u*o[s+n]+d*o[e+n]+h*o[c+n];return i}}),tr.prototype=Object.assign(Object.create($n.prototype),{constructor:tr,interpolate_:function(e,t,n,r){var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(e*=a)-a;for(n=1-(t=(n-t)/(r-t)),r=0;r!==a;++r)i[r]=o[s+r]*n+o[e+r]*t;return i}}),nr.prototype=Object.assign(Object.create($n.prototype),{constructor:nr,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(rr,{toJSON:function(e){var t=e.constructor;if(void 0!==t.toJSON)t=t.toJSON(e);else{t={name:e.name,times:ko.convertArray(e.times,Array),values:ko.convertArray(e.values,Array)};var n=e.getInterpolation();n!==e.DefaultInterpolation&&(t.interpolation=n)}return t.type=e.ValueTypeName,t}}),Object.assign(rr.prototype,{constructor:rr,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new nr(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new tr(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new er(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){switch(e){case 2300:var t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){if(t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name,void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;return++o,0===i&&o===r||(i>=o&&(o=Math.max(o,1),i=o-1),e=this.getValueSize(),this.times=ko.arraySlice(n,i,o),this.values=ko.arraySlice(this.values,i*e,o*e)),this},validate:function(){var e=!0,t=this.getValueSize();0!=t-Math.floor(t)&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times;t=this.values;var r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var i=null,o=0;o!==r;o++){var a=n[o];if("number"==typeof a&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,a),e=!1;break}if(null!==i&&i>a){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,a,i),e=!1;break}i=a}if(void 0!==t&&ko.isTypedArray(t))for(o=0,n=t.length;o!==n;++o)if(r=t[o],isNaN(r)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,r),e=!1;break}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=2302===this.getInterpolation(),i=1,o=e.length-1,a=1;a<o;++a){var s=!1,l=e[a];if(l!==e[a+1]&&(1!==a||l!==l[0]))if(r)s=!0;else{var c=a*n,u=c-n,h=c+n;for(l=0;l!==n;++l){var d=t[c+l];if(d!==t[u+l]||d!==t[h+l]){s=!0;break}}}if(s){if(a!==i)for(e[i]=e[a],s=a*n,c=i*n,l=0;l!==n;++l)t[c+l]=t[s+l];++i}}if(0<o){for(e[i]=e[o],s=o*n,c=i*n,l=0;l!==n;++l)t[c+l]=t[s+l];++i}return i!==e.length&&(this.times=ko.arraySlice(e,0,i),this.values=ko.arraySlice(t,0,i*n)),this}}),ir.prototype=Object.assign(Object.create(rr.prototype),{constructor:ir,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),or.prototype=Object.assign(Object.create(rr.prototype),{constructor:or,ValueTypeName:"color"}),ar.prototype=Object.assign(Object.create(rr.prototype),{constructor:ar,ValueTypeName:"number"}),sr.prototype=Object.assign(Object.create($n.prototype),{constructor:sr,interpolate_:function(e,t,n,r){var i=this.resultBuffer,a=this.sampleValues,s=this.valueSize;for(t=(n-t)/(r-t),n=(e*=s)+s;e!==n;e+=4)o.slerpFlat(i,0,a,e-s,a,e,t);return i}}),lr.prototype=Object.assign(Object.create(rr.prototype),{constructor:lr,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new sr(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),cr.prototype=Object.assign(Object.create(rr.prototype),{constructor:cr,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ur.prototype=Object.assign(Object.create(rr.prototype),{constructor:ur,ValueTypeName:"vector"}),Object.assign(hr,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(dr(n[i]).scale(r));return new hr(e.name,e.duration,t)},toJSON:function(e){var t=[],n=e.tracks;e={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid};for(var r=0,i=n.length;r!==i;++r)t.push(rr.toJSON(n[r]));return e},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],l=[];s.push((a+i-1)%i,a,(a+1)%i),l.push(0,1,0);var c=ko.getKeyframeOrder(s);s=ko.sortedArray(s,1,c),l=ko.sortedArray(l,1,c),r||0!==s[0]||(s.push(i),l.push(l[0])),o.push(new ar(".morphTargetInfluences["+t[a].name+"]",s,l).scale(1/n))}return new hr(e,-1,o)},findByName:function(e,t){var n=e;for(Array.isArray(e)||(n=e.geometry&&e.geometry.animations||e.animations),e=0;e<n.length;e++)if(n[e].name===t)return n[e];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],l=s.name.match(i);if(l&&1<l.length){var c=l[1];(l=r[c])||(r[c]=l=[]),l.push(s)}}for(c in e=[],r)e.push(hr.CreateFromMorphTargetSequence(c,r[c],t,n));return e},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;var n=function(e,t,n,r,i){if(0!==n.length){var o=[],a=[];ko.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.length||-1,a=e.fps||30;e=e.hierarchy||[];for(var s=0;s<e.length;s++){var l=e[s].keys;if(l&&0!==l.length)if(l[0].morphTargets){o={};for(var c=0;c<l.length;c++)if(l[c].morphTargets)for(var u=0;u<l[c].morphTargets.length;u++)o[l[c].morphTargets[u]]=-1;for(var h in o){var d=[],p=[];for(u=0;u!==l[c].morphTargets.length;++u){var f=l[c];d.push(f.time),p.push(f.morphTarget===h?1:0)}r.push(new ar(".morphTargetInfluence["+h+"]",d,p))}o=o.length*(a||1)}else c=".bones["+t[s].name+"]",n(ur,c+".position",l,"pos",r),n(lr,c+".quaternion",l,"rot",r),n(ur,c+".scale",l,"scl",r)}return 0===r.length?null:new hr(i,o,r)}}),Object.assign(hr.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}});var Ao={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Io=new pr,Oo={};Object.assign(fr.prototype,{load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Ao.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;if(void 0===Oo[e]){var a=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){n=a[1];var s=!!a[2];a=a[3],a=decodeURIComponent(a),s&&(a=atob(a));try{var l=(this.responseType||"").toLowerCase();switch(l){case"arraybuffer":case"blob":var c=new Uint8Array(a.length);for(s=0;s<a.length;s++)c[s]=a.charCodeAt(s);var u="blob"===l?new Blob([c.buffer],{type:n}):c.buffer;break;case"document":u=(new DOMParser).parseFromString(a,n);break;case"json":u=JSON.parse(a);break;default:u=a}setTimeout(function(){t&&t(u),i.manager.itemEnd(e)},0)}catch(t){setTimeout(function(){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)},0)}}else{Oo[e]=[],Oo[e].push({onLoad:t,onProgress:n,onError:r});var h=new XMLHttpRequest;for(s in h.open("GET",e,!0),h.addEventListener("load",function(t){var n=this.response;Ao.add(e,n);var r=Oo[e];if(delete Oo[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var o=0,a=r.length;o<a;o++){var s=r[o];s.onLoad&&s.onLoad(n)}}else{for(o=0,a=r.length;o<a;o++)(s=r[o]).onError&&s.onError(t);i.manager.itemError(e)}i.manager.itemEnd(e)},!1),h.addEventListener("progress",function(t){for(var n=Oo[e],r=0,i=n.length;r<i;r++){var o=n[r];o.onProgress&&o.onProgress(t)}},!1),h.addEventListener("error",function(t){var n=Oo[e];delete Oo[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),h.addEventListener("abort",function(t){var n=Oo[e];delete Oo[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),void 0!==this.responseType&&(h.responseType=this.responseType),void 0!==this.withCredentials&&(h.withCredentials=this.withCredentials),h.overrideMimeType&&h.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)h.setRequestHeader(s,this.requestHeader[s]);h.send(null)}return i.manager.itemStart(e),h}Oo[e].push({onLoad:t,onProgress:n,onError:r})},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(mr.prototype,{load:function(e,t,n,r){var i=this,o=new fr(i.manager);o.setPath(i.path),o.load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},parse:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=hr.parse(e[r]);n.push(i)}t(n)},setPath:function(e){return this.path=e,this}}),Object.assign(gr.prototype,{load:function(e,t,n,r){function i(i){l.load(e[i],function(e){e=o._parser(e,!0),a[i]={width:e.width,height:e.height,format:e.format,mipmaps:e.mipmaps},6===(c+=1)&&(1===e.mipmapCount&&(s.minFilter=1006),s.format=e.format,s.needsUpdate=!0,t&&t(s))},n,r)}var o=this,a=[],s=new Nt;s.image=a;var l=new fr(this.manager);if(l.setPath(this.path),l.setResponseType("arraybuffer"),Array.isArray(e))for(var c=0,u=0,h=e.length;u<h;++u)i(u);else l.load(e,function(e){if((e=o._parser(e,!0)).isCubemap)for(var n=e.mipmaps.length/e.mipmapCount,r=0;r<n;r++){a[r]={mipmaps:[]};for(var i=0;i<e.mipmapCount;i++)a[r].mipmaps.push(e.mipmaps[r*e.mipmapCount+i]),a[r].format=e.format,a[r].width=e.width,a[r].height=e.height}else s.image.width=e.width,s.image.height=e.height,s.mipmaps=e.mipmaps;1===e.mipmapCount&&(s.minFilter=1006),s.format=e.format,s.needsUpdate=!0,t&&t(s)},n,r);return s},setPath:function(e){return this.path=e,this}}),Object.assign(vr.prototype,{load:function(e,t,n,r){var i=this,o=new d,a=new fr(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,function(e){(e=i._parser(e))&&(void 0!==e.image?o.image=e.image:void 0!==e.data&&(o.image.width=e.width,o.image.height=e.height,o.image.data=e.data),o.wrapS=void 0!==e.wrapS?e.wrapS:1001,o.wrapT=void 0!==e.wrapT?e.wrapT:1001,o.magFilter=void 0!==e.magFilter?e.magFilter:1006,o.minFilter=void 0!==e.minFilter?e.minFilter:1008,o.anisotropy=void 0!==e.anisotropy?e.anisotropy:1,void 0!==e.format&&(o.format=e.format),void 0!==e.type&&(o.type=e.type),void 0!==e.mipmaps&&(o.mipmaps=e.mipmaps),1===e.mipmapCount&&(o.minFilter=1006),o.needsUpdate=!0,t&&t(o,e))},n,r),o},setPath:function(e){return this.path=e,this}}),Object.assign(yr.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){function i(){l.removeEventListener("load",i,!1),l.removeEventListener("error",o,!1),Ao.add(e,this),t&&t(this),a.manager.itemEnd(e)}function o(t){l.removeEventListener("load",i,!1),l.removeEventListener("error",o,!1),r&&r(t),a.manager.itemError(e),a.manager.itemEnd(e)}void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=this,s=Ao.get(e);if(void 0!==s)return a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s;var l=document.createElementNS("http://www.w3.org/1999/xhtml","img");return l.addEventListener("load",i,!1),l.addEventListener("error",o,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(l.crossOrigin=this.crossOrigin),a.manager.itemStart(e),l.src=e,l},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(br.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){function i(n){a.load(e[n],function(e){o.images[n]=e,6==++s&&(o.needsUpdate=!0,t&&t(o))},void 0,r)}var o=new oe,a=new yr(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var s=0;for(n=0;n<e.length;++n)i(n);return o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(xr.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=new l,o=new yr(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(n){i.image=n,n=0<e.search(/\.jpe?g$/i)||0===e.search(/^data:image\/jpeg/),i.format=n?1022:1023,i.needsUpdate=!0,void 0!==t&&t(i)},n,r),i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(_r.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){return e=this.getUtoTmapping(e),this.getPoint(e,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;for(n.push(0),t=1;t<=e;t++){var o=this.getPoint(t/e);i+=o.distanceTo(r),n.push(i),r=o}return this.cacheArcLengths=n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n=this.getLengths(),r=n.length;t=t||e*n[r-1];for(var i,o=0,a=r-1;o<=a;)if(e=Math.floor(o+(a-o)/2),0>(i=n[e]-t))o=e+1;else{if(!(0<i)){a=e;break}a=e-1}return n[e=a]===t?e/(r-1):(o=n[e],(e+(t-o)/(n[e+1]-o))/(r-1))},getTangent:function(e){var t=e-1e-4;return 0>t&&(t=0),1<(e+=1e-4)&&(e=1),t=this.getPoint(t),this.getPoint(e).clone().sub(t).normalize()},getTangentAt:function(e){return e=this.getUtoTmapping(e),this.getTangent(e)},computeFrenetFrames:function(e,t){var n,r=new a,o=[],s=[],l=[],c=new a,u=new i;for(n=0;n<=e;n++){var h=n/e;o[n]=this.getTangentAt(h),o[n].normalize()}s[0]=new a,l[0]=new a,n=Number.MAX_VALUE,h=Math.abs(o[0].x);var d=Math.abs(o[0].y),p=Math.abs(o[0].z);for(h<=n&&(n=h,r.set(1,0,0)),d<=n&&(n=d,r.set(0,1,0)),p<=n&&r.set(0,0,1),c.crossVectors(o[0],r).normalize(),s[0].crossVectors(o[0],c),l[0].crossVectors(o[0],s[0]),n=1;n<=e;n++)s[n]=s[n-1].clone(),l[n]=l[n-1].clone(),c.crossVectors(o[n-1],o[n]),c.length()>Number.EPSILON&&(c.normalize(),r=Math.acos(Qi.clamp(o[n-1].dot(o[n]),-1,1)),s[n].applyMatrix4(u.makeRotationAxis(c,r))),l[n].crossVectors(o[n],s[n]);if(!0===t)for(r=Math.acos(Qi.clamp(s[0].dot(s[e]),-1,1)),r/=e,0<o[0].dot(c.crossVectors(s[0],s[e]))&&(r=-r),n=1;n<=e;n++)s[n].applyMatrix4(u.makeRotationAxis(o[n],r*n)),l[n].crossVectors(o[n],s[n]);return{tangents:o,normals:s,binormals:l}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),wr.prototype=Object.create(_r.prototype),wr.prototype.constructor=wr,wr.prototype.isEllipseCurve=!0,wr.prototype.getPoint=function(e,t){t=t||new r;for(var n=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;0>i;)i+=n;for(;i>n;)i-=n;i<Number.EPSILON&&(i=o?0:n),!0!==this.aClockwise||o||(i=i===n?-n:i-n),n=this.aStartAngle+e*i,e=this.aX+this.xRadius*Math.cos(n);var a=this.aY+this.yRadius*Math.sin(n);return 0!==this.aRotation&&(n=Math.cos(this.aRotation),i=Math.sin(this.aRotation),o=e-this.aX,a-=this.aY,e=o*n-a*i+this.aX,a=o*i+a*n+this.aY),t.set(e,a)},wr.prototype.copy=function(e){return _r.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},wr.prototype.toJSON=function(){var e=_r.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},wr.prototype.fromJSON=function(e){return _r.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Mr.prototype=Object.create(wr.prototype),Mr.prototype.constructor=Mr,Mr.prototype.isArcCurve=!0;var Ro=new a,Do=new Sr,No=new Sr,Bo=new Sr;Cr.prototype=Object.create(_r.prototype),Cr.prototype.constructor=Cr,Cr.prototype.isCatmullRomCurve3=!0,Cr.prototype.getPoint=function(e,t){t=t||new a;var n=this.points,r=n.length;e*=r-(this.closed?0:1);var i=Math.floor(e);if(e-=i,this.closed?i+=0<i?0:(Math.floor(Math.abs(i)/r)+1)*r:0===e&&i===r-1&&(i=r-2,e=1),this.closed||0<i)var o=n[(i-1)%r];else Ro.subVectors(n[0],n[1]).add(n[0]),o=Ro;var s=n[i%r],l=n[(i+1)%r];if(this.closed||i+2<r?n=n[(i+2)%r]:(Ro.subVectors(n[r-1],n[r-2]).add(n[r-1]),n=Ro),"centripetal"===this.curveType||"chordal"===this.curveType){var c="chordal"===this.curveType?.5:.25;r=Math.pow(o.distanceToSquared(s),c),i=Math.pow(s.distanceToSquared(l),c),c=Math.pow(l.distanceToSquared(n),c),1e-4>i&&(i=1),1e-4>r&&(r=i),1e-4>c&&(c=i),Do.initNonuniformCatmullRom(o.x,s.x,l.x,n.x,r,i,c),No.initNonuniformCatmullRom(o.y,s.y,l.y,n.y,r,i,c),Bo.initNonuniformCatmullRom(o.z,s.z,l.z,n.z,r,i,c)}else"catmullrom"===this.curveType&&(Do.initCatmullRom(o.x,s.x,l.x,n.x,this.tension),No.initCatmullRom(o.y,s.y,l.y,n.y,this.tension),Bo.initCatmullRom(o.z,s.z,l.z,n.z,this.tension));return t.set(Do.calc(e),No.calc(e),Bo.calc(e)),t},Cr.prototype.copy=function(e){_r.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++)this.points.push(e.points[t].clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Cr.prototype.toJSON=function(){var e=_r.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++)e.points.push(this.points[t].toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},Cr.prototype.fromJSON=function(e){_r.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new a).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Pr.prototype=Object.create(_r.prototype),Pr.prototype.constructor=Pr,Pr.prototype.isCubicBezierCurve=!0,Pr.prototype.getPoint=function(e,t){t=t||new r;var n=this.v0,i=this.v1,o=this.v2,a=this.v3;return t.set(Lr(e,n.x,i.x,o.x,a.x),Lr(e,n.y,i.y,o.y,a.y)),t},Pr.prototype.copy=function(e){return _r.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Pr.prototype.toJSON=function(){var e=_r.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Pr.prototype.fromJSON=function(e){return _r.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},kr.prototype=Object.create(_r.prototype),kr.prototype.constructor=kr,kr.prototype.isCubicBezierCurve3=!0,kr.prototype.getPoint=function(e,t){t=t||new a;var n=this.v0,r=this.v1,i=this.v2,o=this.v3;return t.set(Lr(e,n.x,r.x,i.x,o.x),Lr(e,n.y,r.y,i.y,o.y),Lr(e,n.z,r.z,i.z,o.z)),t},kr.prototype.copy=function(e){return _r.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},kr.prototype.toJSON=function(){var e=_r.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},kr.prototype.fromJSON=function(e){return _r.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Ar.prototype=Object.create(_r.prototype),Ar.prototype.constructor=Ar,Ar.prototype.isLineCurve=!0,Ar.prototype.getPoint=function(e,t){return t=t||new r,1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t},Ar.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Ar.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Ar.prototype.copy=function(e){return _r.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ar.prototype.toJSON=function(){var e=_r.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ar.prototype.fromJSON=function(e){return _r.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ir.prototype=Object.create(_r.prototype),Ir.prototype.constructor=Ir,Ir.prototype.isLineCurve3=!0,Ir.prototype.getPoint=function(e,t){return t=t||new a,1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t},Ir.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Ir.prototype.copy=function(e){return _r.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ir.prototype.toJSON=function(){var e=_r.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ir.prototype.fromJSON=function(e){return _r.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Or.prototype=Object.create(_r.prototype),Or.prototype.constructor=Or,Or.prototype.isQuadraticBezierCurve=!0,Or.prototype.getPoint=function(e,t){t=t||new r;var n=this.v0,i=this.v1,o=this.v2;return t.set(Tr(e,n.x,i.x,o.x),Tr(e,n.y,i.y,o.y)),t},Or.prototype.copy=function(e){return _r.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Or.prototype.toJSON=function(){var e=_r.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Or.prototype.fromJSON=function(e){return _r.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Rr.prototype=Object.create(_r.prototype),Rr.prototype.constructor=Rr,Rr.prototype.isQuadraticBezierCurve3=!0,Rr.prototype.getPoint=function(e,t){t=t||new a;var n=this.v0,r=this.v1,i=this.v2;return t.set(Tr(e,n.x,r.x,i.x),Tr(e,n.y,r.y,i.y),Tr(e,n.z,r.z,i.z)),t},Rr.prototype.copy=function(e){return _r.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Rr.prototype.toJSON=function(){var e=_r.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Rr.prototype.fromJSON=function(e){return _r.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Dr.prototype=Object.create(_r.prototype),Dr.prototype.constructor=Dr,Dr.prototype.isSplineCurve=!0,Dr.prototype.getPoint=function(e,t){t=t||new r;var n=this.points,i=(n.length-1)*e;e=Math.floor(i),i-=e;var o=n[0===e?e:e-1],a=n[e],s=n[e>n.length-2?n.length-1:e+1];return n=n[e>n.length-3?n.length-1:e+2],t.set(Er(i,o.x,a.x,s.x,n.x),Er(i,o.y,a.y,s.y,n.y)),t},Dr.prototype.copy=function(e){_r.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++)this.points.push(e.points[t].clone());return this},Dr.prototype.toJSON=function(){var e=_r.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++)e.points.push(this.points[t].toArray());return e},Dr.prototype.fromJSON=function(e){_r.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new r).fromArray(i))}return this};var Fo=Object.freeze({ArcCurve:Mr,CatmullRomCurve3:Cr,CubicBezierCurve:Pr,CubicBezierCurve3:kr,EllipseCurve:wr,LineCurve:Ar,LineCurve3:Ir,QuadraticBezierCurve:Or,QuadraticBezierCurve3:Rr,SplineCurve:Dr});Nr.prototype=Object.assign(Object.create(_r.prototype),{constructor:Nr,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ar(t,e))},getPoint:function(e){var t=e*this.getLength(),n=this.getCurveLengths();for(e=0;e<n.length;){if(n[e]>=t)return t=n[e]-t,e=this.curves[e],n=e.getLength(),e.getPointAt(0===n?0:1-t/n);e++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++){var o=i[r];o=o.getPoints(o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e);for(var a=0;a<o.length;a++){var s=o[a];t&&t.equals(s)||(n.push(s),t=s)}}return this.autoClose&&1<n.length&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){_r.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++)this.curves.push(e.curves[t].clone());return this.autoClose=e.autoClose,this},toJSON:function(){var e=_r.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++)e.curves.push(this.curves[t].toJSON());return e},fromJSON:function(e){_r.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push((new Fo[r.type]).fromJSON(r))}return this}}),Br.prototype=Object.assign(Object.create(Nr.prototype),{constructor:Br,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new Ar(this.currentPoint.clone(),new r(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,i){e=new Or(this.currentPoint.clone(),new r(e,t),new r(n,i)),this.curves.push(e),this.currentPoint.set(n,i)},bezierCurveTo:function(e,t,n,i,o,a){e=new Pr(this.currentPoint.clone(),new r(e,t),new r(n,i),new r(o,a)),this.curves.push(e),this.currentPoint.set(o,a)},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e);t=new Dr(t),this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,r,i,o){this.absarc(e+this.currentPoint.x,t+this.currentPoint.y,n,r,i,o)},absarc:function(e,t,n,r,i,o){this.absellipse(e,t,n,n,r,i,o)},ellipse:function(e,t,n,r,i,o,a,s){this.absellipse(e+this.currentPoint.x,t+this.currentPoint.y,n,r,i,o,a,s)},absellipse:function(e,t,n,r,i,o,a,s){e=new wr(e,t,n,r,i,o,a,s),0<this.curves.length&&((t=e.getPoint(0)).equals(this.currentPoint)||this.lineTo(t.x,t.y)),this.curves.push(e),e=e.getPoint(1),this.currentPoint.copy(e)},copy:function(e){return Nr.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=Nr.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Nr.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Fr.prototype=Object.assign(Object.create(Br.prototype),{constructor:Fr,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Br.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++)this.holes.push(e.holes[t].clone());return this},toJSON:function(){var e=Br.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++)e.holes.push(this.holes[t].toJSON());return e},fromJSON:function(e){Br.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push((new Br).fromJSON(r))}return this}}),jr.prototype=Object.assign(Object.create(M.prototype),{constructor:jr,isLight:!0,copy:function(e){return M.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){return(e=M.prototype.toJSON.call(this,e)).object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),Hr.prototype=Object.assign(Object.create(jr.prototype),{constructor:Hr,isHemisphereLight:!0,copy:function(e){return jr.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(zr.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Ur.prototype=Object.assign(Object.create(zr.prototype),{constructor:Ur,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*Qi.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height;e=e.distance||t.far,n===t.fov&&r===t.aspect&&e===t.far||(t.fov=n,t.aspect=r,t.far=e,t.updateProjectionMatrix())}}),Gr.prototype=Object.assign(Object.create(jr.prototype),{constructor:Gr,isSpotLight:!0,copy:function(e){return jr.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Vr.prototype=Object.assign(Object.create(jr.prototype),{constructor:Vr,isPointLight:!0,copy:function(e){return jr.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Wr.prototype=Object.assign(Object.create(ht.prototype),{constructor:Wr,isOrthographicCamera:!0,copy:function(e,t){return ht.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e;if(n+=e,e=r+t,t=r-t,null!==this.view&&this.view.enabled){n=this.zoom/(this.view.width/this.view.fullWidth),t=this.zoom/(this.view.height/this.view.fullHeight);var o=(this.right-this.left)/this.view.width;r=(this.top-this.bottom)/this.view.height,i+=this.view.offsetX/n*o,n=i+this.view.width/n*o,e-=this.view.offsetY/t*r,t=e-this.view.height/t*r}this.projectionMatrix.makeOrthographic(i,n,e,t,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){return(e=M.prototype.toJSON.call(this,e)).object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),qr.prototype=Object.assign(Object.create(zr.prototype),{constructor:qr}),Kr.prototype=Object.assign(Object.create(jr.prototype),{constructor:Kr,isDirectionalLight:!0,copy:function(e){return jr.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Xr.prototype=Object.assign(Object.create(jr.prototype),{constructor:Xr,isAmbientLight:!0}),Yr.prototype=Object.assign(Object.create(jr.prototype),{constructor:Yr,isRectAreaLight:!0,copy:function(e){return jr.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){return(e=jr.prototype.toJSON.call(this,e)).object.width=this.width,e.object.height=this.height,e}}),Object.assign(Zr.prototype,{load:function(e,t,n,r){var i=this,o=new fr(i.manager);o.setPath(i.path),o.load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},parse:function(e){function t(e){return void 0===n[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),n[e]}var n=this.textures,o=new Po[e.type];if(void 0!==e.uuid&&(o.uuid=e.uuid),void 0!==e.name&&(o.name=e.name),void 0!==e.color&&o.color.setHex(e.color),void 0!==e.roughness&&(o.roughness=e.roughness),void 0!==e.metalness&&(o.metalness=e.metalness),void 0!==e.emissive&&o.emissive.setHex(e.emissive),void 0!==e.specular&&o.specular.setHex(e.specular),void 0!==e.shininess&&(o.shininess=e.shininess),void 0!==e.clearCoat&&(o.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(o.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.vertexColors&&(o.vertexColors=e.vertexColors),void 0!==e.fog&&(o.fog=e.fog),void 0!==e.flatShading&&(o.flatShading=e.flatShading),void 0!==e.blending&&(o.blending=e.blending),void 0!==e.combine&&(o.combine=e.combine),void 0!==e.side&&(o.side=e.side),void 0!==e.opacity&&(o.opacity=e.opacity),void 0!==e.transparent&&(o.transparent=e.transparent),void 0!==e.alphaTest&&(o.alphaTest=e.alphaTest),void 0!==e.depthTest&&(o.depthTest=e.depthTest),void 0!==e.depthWrite&&(o.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(o.colorWrite=e.colorWrite),void 0!==e.wireframe&&(o.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(o.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(o.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(o.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(o.rotation=e.rotation),1!==e.linewidth&&(o.linewidth=e.linewidth),void 0!==e.dashSize&&(o.dashSize=e.dashSize),void 0!==e.gapSize&&(o.gapSize=e.gapSize),void 0!==e.scale&&(o.scale=e.scale),void 0!==e.polygonOffset&&(o.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(o.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(o.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(o.skinning=e.skinning),void 0!==e.morphTargets&&(o.morphTargets=e.morphTargets),void 0!==e.dithering&&(o.dithering=e.dithering),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.uniforms)for(var s in e.uniforms){var l=e.uniforms[s];switch(o.uniforms[s]={},l.type){case"t":o.uniforms[s].value=t(l.value);break;case"c":o.uniforms[s].value=(new v).setHex(l.value);break;case"v2":o.uniforms[s].value=(new r).fromArray(l.value);break;case"v3":o.uniforms[s].value=(new a).fromArray(l.value);break;case"v4":o.uniforms[s].value=(new c).fromArray(l.value);break;case"m4":o.uniforms[s].value=(new i).fromArray(l.value);break;default:o.uniforms[s].value=l.value}}return void 0!==e.defines&&(o.defines=e.defines),void 0!==e.vertexShader&&(o.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(o.fragmentShader=e.fragmentShader),void 0!==e.shading&&(o.flatShading=1===e.shading),void 0!==e.size&&(o.size=e.size),void 0!==e.sizeAttenuation&&(o.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(o.map=t(e.map)),void 0!==e.alphaMap&&(o.alphaMap=t(e.alphaMap),o.transparent=!0),void 0!==e.bumpMap&&(o.bumpMap=t(e.bumpMap)),void 0!==e.bumpScale&&(o.bumpScale=e.bumpScale),void 0!==e.normalMap&&(o.normalMap=t(e.normalMap)),void 0!==e.normalMapType&&(o.normalMapType=e.normalMapType),void 0!==e.normalScale&&(s=e.normalScale,!1===Array.isArray(s)&&(s=[s,s]),o.normalScale=(new r).fromArray(s)),void 0!==e.displacementMap&&(o.displacementMap=t(e.displacementMap)),void 0!==e.displacementScale&&(o.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(o.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(o.roughnessMap=t(e.roughnessMap)),void 0!==e.metalnessMap&&(o.metalnessMap=t(e.metalnessMap)),void 0!==e.emissiveMap&&(o.emissiveMap=t(e.emissiveMap)),void 0!==e.emissiveIntensity&&(o.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(o.specularMap=t(e.specularMap)),void 0!==e.envMap&&(o.envMap=t(e.envMap)),void 0!==e.envMapIntensity&&(o.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(o.reflectivity=e.reflectivity),void 0!==e.lightMap&&(o.lightMap=t(e.lightMap)),void 0!==e.lightMapIntensity&&(o.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(o.aoMap=t(e.aoMap)),void 0!==e.aoMapIntensity&&(o.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(o.gradientMap=t(e.gradientMap)),o},setPath:function(e){return this.path=e,this},setTextures:function(e){return this.textures=e,this}});var jo={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);return decodeURIComponent(escape(t))},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};Object.assign(Jr.prototype,{load:function(e,t,n,r){var i=this,o=new fr(i.manager);o.setPath(i.path),o.load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},parse:function(e){var t=new B,n=e.data.index;void 0!==n&&(n=new Ho[n.type](n.array),t.setIndex(new C(n,1)));var r=e.data.attributes;for(o in r){var i=r[o];n=new Ho[i.type](i.array),t.addAttribute(o,new C(n,i.itemSize,i.normalized))}var o=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==o)for(n=0,r=o.length;n!==r;++n)i=o[n],t.addGroup(i.start,i.count,i.materialIndex);return void 0!==(e=e.data.boundingSphere)&&(o=new a,void 0!==e.center&&o.fromArray(e.center),t.boundingSphere=new f(o,e.radius)),t},setPath:function(e){return this.path=e,this}});var Ho={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};Qr.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,r=t.length;n<r;n+=2){var i=t[n+1];if(t[n].test(e))return i}return null}},Object.assign(Qr.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(e,t,n){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t,n);return r},createMaterial:function(){var e={NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5},t=new v,n=new xr,r=new Zr;return function(i,o,a){function s(e,t,r,i,s){e=o+e;var l=Qr.Handlers.get(e);return null!==l?e=l.load(e):(n.setCrossOrigin(a),e=n.load(e)),void 0!==t&&(e.repeat.fromArray(t),1!==t[0]&&(e.wrapS=1e3),1!==t[1]&&(e.wrapT=1e3)),void 0!==r&&e.offset.fromArray(r),void 0!==i&&("repeat"===i[0]&&(e.wrapS=1e3),"mirror"===i[0]&&(e.wrapS=1002),"repeat"===i[1]&&(e.wrapT=1e3),"mirror"===i[1]&&(e.wrapT=1002)),void 0!==s&&(e.anisotropy=s),t=Qi.generateUUID(),c[t]=e,t}var l,c={},u={uuid:Qi.generateUUID(),type:"MeshLambertMaterial"};for(l in i){var h=i[l];switch(l){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":u.name=h;break;case"blending":u.blending=e[h];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",l,"is no longer supported.");break;case"colorDiffuse":u.color=t.fromArray(h).getHex();break;case"colorSpecular":u.specular=t.fromArray(h).getHex();break;case"colorEmissive":u.emissive=t.fromArray(h).getHex();break;case"specularCoef":u.shininess=h;break;case"shading":"basic"===h.toLowerCase()&&(u.type="MeshBasicMaterial"),"phong"===h.toLowerCase()&&(u.type="MeshPhongMaterial"),"standard"===h.toLowerCase()&&(u.type="MeshStandardMaterial");break;case"mapDiffuse":u.map=s(h,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":u.emissiveMap=s(h,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":u.lightMap=s(h,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":u.aoMap=s(h,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":u.bumpMap=s(h,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":u.bumpScale=h;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":u.normalMap=s(h,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":u.normalScale=h;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":u.specularMap=s(h,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":u.metalnessMap=s(h,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":u.roughnessMap=s(h,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":u.alphaMap=s(h,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":u.side=1;break;case"doubleSided":u.side=2;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),u.opacity=h;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":u[l]=h;break;case"vertexColors":!0===h&&(u.vertexColors=2),"face"===h&&(u.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,h)}}return"MeshBasicMaterial"===u.type&&delete u.emissive,"MeshPhongMaterial"!==u.type&&delete u.specular,1>u.opacity&&(u.transparent=!0),r.setTextures(c),r.parse(u)}}()}),Object.assign($r.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=this,o=void 0===this.path?jo.extractUrlBase(e):this.path,a=new fr(this.manager);a.setPath(this.path),a.setWithCredentials(this.withCredentials),a.load(e,function(n){var r=(n=JSON.parse(n)).metadata;void 0===r||void 0===(r=r.type)||"object"!==r.toLowerCase()?(n=i.parse(n,o),t(n.geometry,n.materials)):console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.ObjectLoader instead.")},n,r)},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,t){void 0!==e.data&&(e=e.data),e.scale=void 0!==e.scale?1/e.scale:1;var n,i,o,s=new S,l=e,u=l.faces,h=l.vertices,d=l.normals,p=l.colors,f=l.scale,m=0;if(void 0!==l.uvs){for(n=0;n<l.uvs.length;n++)l.uvs[n].length&&m++;for(n=0;n<m;n++)s.faceVertexUvs[n]=[]}var g=0;for(o=h.length;g<o;)(n=new a).x=h[g++]*f,n.y=h[g++]*f,n.z=h[g++]*f,s.vertices.push(n);for(g=0,o=u.length;g<o;){var y=1&(h=u[g++]),b=2&h;n=8&h;var _=16&h,w=32&h;if(f=64&h,h&=128,y){(y=new x).a=u[g],y.b=u[g+1],y.c=u[g+3];var M=new x;if(M.a=u[g+1],M.b=u[g+2],M.c=u[g+3],g+=4,b&&(b=u[g++],y.materialIndex=b,M.materialIndex=b),b=s.faces.length,n)for(n=0;n<m;n++){var C=l.uvs[n];for(s.faceVertexUvs[n][b]=[],s.faceVertexUvs[n][b+1]=[],i=0;4>i;i++){var E=u[g++],T=C[2*E];E=C[2*E+1],T=new r(T,E),2!==i&&s.faceVertexUvs[n][b].push(T),0!==i&&s.faceVertexUvs[n][b+1].push(T)}}if(_&&(_=3*u[g++],y.normal.set(d[_++],d[_++],d[_]),M.normal.copy(y.normal)),w)for(n=0;4>n;n++)_=3*u[g++],w=new a(d[_++],d[_++],d[_]),2!==n&&y.vertexNormals.push(w),0!==n&&M.vertexNormals.push(w);if(f&&(f=u[g++],f=p[f],y.color.setHex(f),M.color.setHex(f)),h)for(n=0;4>n;n++)f=u[g++],f=p[f],2!==n&&y.vertexColors.push(new v(f)),0!==n&&M.vertexColors.push(new v(f));s.faces.push(y),s.faces.push(M)}else{if((y=new x).a=u[g++],y.b=u[g++],y.c=u[g++],b&&(b=u[g++],y.materialIndex=b),b=s.faces.length,n)for(n=0;n<m;n++)for(C=l.uvs[n],s.faceVertexUvs[n][b]=[],i=0;3>i;i++)E=u[g++],T=C[2*E],E=C[2*E+1],T=new r(T,E),s.faceVertexUvs[n][b].push(T);if(_&&(_=3*u[g++],y.normal.set(d[_++],d[_++],d[_])),w)for(n=0;3>n;n++)_=3*u[g++],w=new a(d[_++],d[_++],d[_]),y.vertexNormals.push(w);if(f&&(f=u[g++],y.color.setHex(p[f])),h)for(n=0;3>n;n++)f=u[g++],y.vertexColors.push(new v(p[f]));s.faces.push(y)}}if(g=void 0!==(l=e).influencesPerVertex?l.influencesPerVertex:2,l.skinWeights)for(o=0,u=l.skinWeights.length;o<u;o+=g)s.skinWeights.push(new c(l.skinWeights[o],1<g?l.skinWeights[o+1]:0,2<g?l.skinWeights[o+2]:0,3<g?l.skinWeights[o+3]:0));if(l.skinIndices)for(o=0,u=l.skinIndices.length;o<u;o+=g)s.skinIndices.push(new c(l.skinIndices[o],1<g?l.skinIndices[o+1]:0,2<g?l.skinIndices[o+2]:0,3<g?l.skinIndices[o+3]:0));if(s.bones=l.bones,s.bones&&0<s.bones.length&&(s.skinWeights.length!==s.skinIndices.length||s.skinIndices.length!==s.vertices.length)&&console.warn("When skinning, number of vertices ("+s.vertices.length+"), skinIndices ("+s.skinIndices.length+"), and skinWeights ("+s.skinWeights.length+") should match."),u=(o=e).scale,void 0!==o.morphTargets)for(l=0,g=o.morphTargets.length;l<g;l++)for(s.morphTargets[l]={},s.morphTargets[l].name=o.morphTargets[l].name,s.morphTargets[l].vertices=[],d=s.morphTargets[l].vertices,p=o.morphTargets[l].vertices,m=0,h=p.length;m<h;m+=3)(f=new a).x=p[m]*u,f.y=p[m+1]*u,f.z=p[m+2]*u,d.push(f);if(void 0!==o.morphColors&&0<o.morphColors.length)for(console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.'),u=s.faces,o=o.morphColors[0].colors,l=0,g=u.length;l<g;l++)u[l].color.fromArray(o,3*l);for(l=[],g=[],void 0!==(o=e).animation&&g.push(o.animation),void 0!==o.animations&&(o.animations.length?g=g.concat(o.animations):g.push(o.animations)),o=0;o<g.length;o++)(u=hr.parseAnimation(g[o],s.bones))&&l.push(u);return s.morphTargets&&(g=hr.CreateClipsFromMorphTargetSequences(s.morphTargets,10),l=l.concat(g)),0<l.length&&(s.animations=l),s.computeFaceNormals(),s.computeBoundingSphere(),void 0===e.materials||0===e.materials.length?{geometry:s}:(e=Qr.prototype.initMaterials(e.materials,this.resourcePath||t,this.crossOrigin),{geometry:s,materials:e})}}),Object.assign(ei.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=this,o=void 0===this.path?jo.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o,(o=new fr(i.manager)).setPath(this.path),o.load(e,function(n){var o=null;try{o=JSON.parse(n)}catch(t){return void 0!==r&&r(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}void 0===(n=o.metadata)||void 0===n.type||"geometry"===n.type.toLowerCase()?console.error("THREE.ObjectLoader: Can't load "+e+". Use THREE.JSONLoader instead."):i.parse(o,t)},n,r)},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,t){var n=this.parseShape(e.shapes);n=this.parseGeometries(e.geometries,n);var r=this.parseImages(e.images,function(){void 0!==t&&t(i)});r=this.parseTextures(e.textures,r),r=this.parseMaterials(e.materials,r);var i=this.parseObject(e.object,n,r);return e.animations&&(i.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0===t||t(i),i},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new Fr).fromJSON(e[n]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var r=new $r,i=new Jr,o=0,a=e.length;o<a;o++){var s=e[o];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":var l=new Lo[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":l=new Lo[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":l=new Lo[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":l=new Lo[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":l=new Lo[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":l=new Lo[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":l=new Lo[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":l=new Lo[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":l=new Lo[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":l=new Lo[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":l=new Lo[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":l=new Lo[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":l=[];for(var c=0,u=s.shapes.length;c<u;c++){var h=t[s.shapes[c]];l.push(h)}l=new Lo[s.type](l,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(l=[],c=0,u=s.shapes.length;c<u;c++)h=t[s.shapes[c]],l.push(h);void 0!==(c=s.options.extrudePath)&&(s.options.extrudePath=(new Fo[c.type]).fromJSON(c)),l=new Lo[s.type](l,s.options);break;case"BufferGeometry":l=i.parse(s);break;case"Geometry":l=r.parse(s,this.resourcePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}l.uuid=s.uuid,void 0!==s.name&&(l.name=s.name),!0===l.isBufferGeometry&&void 0!==s.userData&&(l.userData=s.userData),n[s.uuid]=l}return n},parseMaterials:function(e,t){var n={},r={};if(void 0!==e){var i=new Zr;i.setTextures(t),t=0;for(var o=e.length;t<o;t++){var a=e[t];if("MultiMaterial"===a.type){for(var s=[],l=0;l<a.materials.length;l++){var c=a.materials[l];void 0===n[c.uuid]&&(n[c.uuid]=i.parse(c)),s.push(n[c.uuid])}r[a.uuid]=s}else r[a.uuid]=i.parse(a),n[a.uuid]=r[a.uuid]}}return r},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=hr.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){function n(e){return r.manager.itemStart(e),o.load(e,function(){r.manager.itemEnd(e)},void 0,function(){r.manager.itemError(e),r.manager.itemEnd(e)})}var r=this,i={};if(void 0!==e&&0<e.length){var o=new yr(t=new pr(t));o.setCrossOrigin(this.crossOrigin),t=0;for(var a=e.length;t<a;t++){var s=e[t],l=s.url;if(Array.isArray(l)){i[s.uuid]=[];for(var c=0,u=l.length;c<u;c++){var h=l[c];h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:r.resourcePath+h,i[s.uuid].push(n(h))}}else h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s.url)?s.url:r.resourcePath+s.url,i[s.uuid]=n(h)}}return i},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,o=e.length;i<o;i++){var a=e[i];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===t[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);var s=Array.isArray(t[a.image])?new oe(t[a.image]):new l(t[a.image]);s.needsUpdate=!0,s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.mapping&&(s.mapping=n(a.mapping,zo)),void 0!==a.offset&&s.offset.fromArray(a.offset),void 0!==a.repeat&&s.repeat.fromArray(a.repeat),void 0!==a.center&&s.center.fromArray(a.center),void 0!==a.rotation&&(s.rotation=a.rotation),void 0!==a.wrap&&(s.wrapS=n(a.wrap[0],Uo),s.wrapT=n(a.wrap[1],Uo)),void 0!==a.format&&(s.format=a.format),void 0!==a.minFilter&&(s.minFilter=n(a.minFilter,Go)),void 0!==a.magFilter&&(s.magFilter=n(a.magFilter,Go)),void 0!==a.anisotropy&&(s.anisotropy=a.anisotropy),void 0!==a.flipY&&(s.flipY=a.flipY),r[a.uuid]=s}return r},parseObject:function(e,t,n){function r(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function i(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var o=e[r];void 0===n[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),t.push(n[o])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":var o=new xt;void 0!==e.background&&Number.isInteger(e.background)&&(o.background=new v(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?o.fog=new bt(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(o.fog=new yt(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new dt(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(o.focus=e.focus),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.filmGauge&&(o.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(o.filmOffset=e.filmOffset),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Wr(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Xr(e.color,e.intensity);break;case"DirectionalLight":o=new Kr(e.color,e.intensity);break;case"PointLight":o=new Vr(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Yr(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Gr(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new Hr(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":o=r(e.geometry);var a=i(e.material);o=o.bones&&0<o.bones.length?new Lt(o,a):new K(o,a);break;case"LOD":o=new Ct;break;case"Line":o=new kt(r(e.geometry),i(e.material),e.mode);break;case"LineLoop":o=new It(r(e.geometry),i(e.material));break;case"LineSegments":o=new At(r(e.geometry),i(e.material));break;case"PointCloud":case"Points":o=new Rt(r(e.geometry),i(e.material));break;case"Sprite":o=new St(i(e.material));break;case"Group":o=new ut;break;default:o=new M}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0!==e.matrix?(o.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.quaternion&&o.quaternion.fromArray(e.quaternion),void 0!==e.scale&&o.scale.fromArray(e.scale)),void 0!==e.castShadow&&(o.castShadow=e.castShadow),void 0!==e.receiveShadow&&(o.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(o.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(o.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&o.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(o.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.frustumCulled&&(o.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(o.renderOrder=e.renderOrder),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.layers&&(o.layers.mask=e.layers),void 0!==e.children){a=e.children;for(var s=0;s<a.length;s++)o.add(this.parseObject(a[s],t,n))}if("LOD"===e.type)for(e=e.levels,a=0;a<e.length;a++){s=e[a];var l=o.getObjectByProperty("uuid",s.object);void 0!==l&&o.addLevel(l,s.distance)}return o}});var zo={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},Uo={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},Go={NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008};ti.prototype={constructor:ti,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Ao.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;fetch(e).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,i.options)}).then(function(n){Ao.add(e,n),t&&t(n),i.manager.itemEnd(e)}).catch(function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})},setCrossOrigin:function(){return this},setPath:function(e){return this.path=e,this}},Object.assign(ni.prototype,{moveTo:function(e,t){this.currentPath=new Br,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,r){this.currentPath.quadraticCurveTo(e,t,n,r)},bezierCurveTo:function(e,t,n,r,i,o){this.currentPath.bezierCurveTo(e,t,n,r,i,o)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=new Fr;o.curves=i.curves,t.push(o)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=t[i],s=t[o],l=s.x-a.x,c=s.y-a.y;if(Math.abs(c)>Number.EPSILON){if(0>c&&(a=t[o],l=-l,s=t[i],c=-c),!(e.y<a.y||e.y>s.y))if(e.y===a.y){if(e.x===a.x)return!0}else{if(0==(i=c*(e.x-a.x)-l*(e.y-a.y)))return!0;0>i||(r=!r)}}else if(e.y===a.y&&(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x))return!0}return r}var i=Eo.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return n(o);if(t=[],1===o.length){var a=o[0],s=new Fr;return s.curves=a.curves,t.push(s),t}var l=!i(o[0].getPoints());l=e?!l:l,s=[];var c=[],u=[],h=0;c[h]=void 0,u[h]=[];for(var d=0,p=o.length;d<p;d++){var f=(a=o[d]).getPoints(),m=i(f);(m=e?!m:m)?(!l&&c[h]&&h++,c[h]={s:new Fr,p:f},c[h].s.curves=a.curves,l&&h++,u[h]=[]):u[h].push({h:a,p:f[0]})}if(!c[0])return n(o);if(1<c.length){for(d=!1,e=[],i=0,o=c.length;i<o;i++)s[i]=[];for(i=0,o=c.length;i<o;i++)for(a=u[i],m=0;m<a.length;m++){for(l=a[m],h=!0,f=0;f<c.length;f++)r(l.p,c[f].p)&&(i!==f&&e.push({froms:i,tos:f,hole:m}),h?(h=!1,s[f].push(l)):d=!0);h&&s[i].push(l)}0<e.length&&(d||(u=s))}for(d=0,i=c.length;d<i;d++)for(s=c[d].s,t.push(s),e=u[d],o=0,a=e.length;o<a;o++)s.holes.push(e[o].h);return t}}),Object.assign(ri.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);var n=[],r=t;t=this.data;var i=Array.from?Array.from(e):String(e).split("");r/=t.resolution;var o=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*r;e=[];for(var a=0,s=0,l=0;l<i.length;l++){var c=i[l];if("\n"===c)a=0,s-=o;else{var u=r,h=a,d=s;if(c=t.glyphs[c]||t.glyphs["?"]){var p=new ni;if(c.o)for(var f=c._cachedOutline||(c._cachedOutline=c.o.split(" ")),m=0,g=f.length;m<g;)switch(f[m++]){case"m":var v=f[m++]*u+h,y=f[m++]*u+d;p.moveTo(v,y);break;case"l":v=f[m++]*u+h,y=f[m++]*u+d,p.lineTo(v,y);break;case"q":var b=f[m++]*u+h,x=f[m++]*u+d,_=f[m++]*u+h,w=f[m++]*u+d;p.quadraticCurveTo(_,w,b,x);break;case"b":b=f[m++]*u+h,x=f[m++]*u+d,_=f[m++]*u+h,w=f[m++]*u+d,v=f[m++]*u+h,y=f[m++]*u+d,p.bezierCurveTo(_,w,v,y,b,x)}u={offsetX:c.ha*u,path:p}}else u=void 0;a+=u.offsetX,e.push(u.path)}}for(t=0,i=e.length;t<i;t++)Array.prototype.push.apply(n,e[t].toShapes());return n}}),Object.assign(ii.prototype,{load:function(e,t,n,r){var i=this,o=new fr(this.manager);o.setPath(this.path),o.load(e,function(e){try{var n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}e=i.parse(n),t&&t(e)},n,r)},parse:function(e){return new ri(e)},setPath:function(e){return this.path=e,this}});var Vo,Wo,qo,Ko={getContext:function(){return void 0===Vo&&(Vo=new(window.AudioContext||window.webkitAudioContext)),Vo},setContext:function(e){Vo=e}};Object.assign(oi.prototype,{load:function(e,t,n,r){var i=new fr(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.load(e,function(e){e=e.slice(0),Ko.getContext().decodeAudioData(e,function(e){t(e)})},n,r)},setPath:function(e){return this.path=e,this}}),Object.assign(ai.prototype,{update:function(){var e,t,n,r,o,a,s,l,c=new i,u=new i;return function(i){if(e!==this||t!==i.focus||n!==i.fov||r!==i.aspect*this.aspect||o!==i.near||a!==i.far||s!==i.zoom||l!==this.eyeSep){e=this,t=i.focus,n=i.fov,r=i.aspect*this.aspect,o=i.near,a=i.far,s=i.zoom;var h=i.projectionMatrix.clone(),d=(l=this.eyeSep/2)*o/t,p=o*Math.tan(Qi.DEG2RAD*n*.5)/s;u.elements[12]=-l,c.elements[12]=l;var f=-p*r+d,m=p*r+d;h.elements[0]=2*o/(m-f),h.elements[8]=(m+f)/(m-f),this.cameraL.projectionMatrix.copy(h),f=-p*r-d,m=p*r-d,h.elements[0]=2*o/(m-f),h.elements[8]=(m+f)/(m-f),this.cameraR.projectionMatrix.copy(h)}this.cameraL.matrixWorld.copy(i.matrixWorld).multiply(u),this.cameraR.matrixWorld.copy(i.matrixWorld).multiply(c)}}()}),si.prototype=Object.create(M.prototype),si.prototype.constructor=si,Object.assign(li.prototype,{start:function(){this.oldTime=this.startTime=("undefined"==typeof performance?Date:performance).now(),this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.autoStart=this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),ci.prototype=Object.assign(Object.create(M.prototype),{constructor:ci,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(){var e=new a,t=new o,n=new a,r=new a,i=new li;return function(o){M.prototype.updateMatrixWorld.call(this,o),o=this.context.listener;var a=this.up;if(this.timeDelta=i.getDelta(),this.matrixWorld.decompose(e,t,n),r.set(0,0,-1).applyQuaternion(t),o.positionX){var s=this.context.currentTime+this.timeDelta;o.positionX.linearRampToValueAtTime(e.x,s),o.positionY.linearRampToValueAtTime(e.y,s),o.positionZ.linearRampToValueAtTime(e.z,s),o.forwardX.linearRampToValueAtTime(r.x,s),o.forwardY.linearRampToValueAtTime(r.y,s),o.forwardZ.linearRampToValueAtTime(r.z,s),o.upX.linearRampToValueAtTime(a.x,s),o.upY.linearRampToValueAtTime(a.y,s),o.upZ.linearRampToValueAtTime(a.z,s)}else o.setPosition(e.x,e.y,e.z),o.setOrientation(r.x,r.y,r.z,a.x,a.y,a.z)}}()}),ui.prototype=Object.assign(Object.create(M.prototype),{constructor:ui,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else{if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}),hi.prototype=Object.assign(Object.create(ui.prototype),{constructor:hi,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(){var e=new a,t=new o,n=new a,r=new a;return function(i){if(M.prototype.updateMatrixWorld.call(this,i),i=this.panner,this.matrixWorld.decompose(e,t,n),r.set(0,0,1).applyQuaternion(t),i.positionX){var o=this.context.currentTime+this.listener.timeDelta;i.positionX.linearRampToValueAtTime(e.x,o),i.positionY.linearRampToValueAtTime(e.y,o),i.positionZ.linearRampToValueAtTime(e.z,o),i.orientationX.linearRampToValueAtTime(r.x,o),i.orientationY.linearRampToValueAtTime(r.y,o),i.orientationZ.linearRampToValueAtTime(r.z,o)}else i.setPosition(e.x,e.y,e.z),i.setOrientation(r.x,r.y,r.z)}}()}),Object.assign(di.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(pi.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize;e=e*r+r;var i=this.cumulativeWeight;if(0===i){for(i=0;i!==r;++i)n[e+i]=n[i];i=t}else i+=t,this._mixBufferRegion(n,e,0,t/i,r);this.cumulativeWeight=i},apply:function(e){var t=this.valueSize,n=this.buffer;e=e*t+t;var r=this.cumulativeWeight,i=this.binding;this.cumulativeWeight=0,1>r&&this._mixBufferRegion(n,e,3*t,1-r,t),r=t;for(var o=t+t;r!==o;++r)if(n[r]!==n[r+t]){i.setValue(n,e);break}},saveOriginalState:function(){var e=this.buffer,t=this.valueSize,n=3*t;this.binding.getValue(e,n);for(var r=t;r!==n;++r)e[r]=e[n+r%t];this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function(e,t,n,r,i){if(.5<=r)for(r=0;r!==i;++r)e[t+r]=e[n+r]},_slerp:function(e,t,n,r){o.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[n+a]*r}}}),Object.assign(fi.prototype,{getValue:function(e,t){this.bind();var n=this._bindings[this._targetGroup.nCachedObjects_];void 0!==n&&n.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(mi,{Composite:fi,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new mi.Composite(e,t,n):new mi(e,t,n)},sanitizeNodeName:function(){var e=/[\[\]\.:\/]/g;return function(t){return t.replace(/\s/g,"_").replace(e,"")}}(),parseTrackName:function(){var e="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",t=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]");e=/(WCOD+)?/.source.replace("WCOD",e);var n=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),r=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),i=new RegExp("^"+t+e+n+r+"$"),o=["material","materials","bones"];return function(e){var t=i.exec(e);if(!t)throw Error("PropertyBinding: Cannot parse trackName: "+e);var n=(t={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]}).nodeName&&t.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){var r=t.nodeName.substring(n+1);-1!==o.indexOf(r)&&(t.nodeName=t.nodeName.substring(0,n),t.objectName=r)}if(null===t.propertyName||0===t.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+e);return t}}(),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function(e){for(var n=0;n<e.length;n++){var i=e[n];if(i.name===t||i.uuid===t||(i=r(i.children)))return i}return null};if(e=r(e.children))return e}return null}}),Object.assign(mi.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(this.node=e=mi.findNode(this.rootNode,t.nodeName)||this.rootNode),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);for(e=e.skeleton.bones,n=0;n<e.length;n++)if(e[n].name===o){o=n;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}if(void 0===(o=e[r]))console.error("THREE.PropertyBinding: Trying to update property for track: "+t.nodeName+"."+r+" but it wasn't found.",e);else{if(t=this.Versioning.None,this.targetObject=e,void 0!==e.needsUpdate?t=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(t=this.Versioning.MatrixWorldNeedsUpdate),n=this.BindingType.Direct,void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(n=0;n<this.node.geometry.morphAttributes.position.length;n++)if(e.geometry.morphAttributes.position[n].name===i){i=n;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(n=0;n<this.node.geometry.morphTargets.length;n++)if(e.geometry.morphTargets[n].name===i){i=n;break}}}n=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(n=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(n=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[n],this.setValue=this.SetterByBindingTypeAndVersioning[n][t]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(mi.prototype,{_getValue_unbound:mi.prototype.getValue,_setValue_unbound:mi.prototype.setValue}),Object.assign(gi.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,l=void 0,c=0,u=arguments.length;c!==u;++c){var h=arguments[c],d=h.uuid,p=r[d];if(void 0===p){p=t++,r[d]=p,e.push(h),d=0;for(var f=s;d!==f;++d)a[d].push(new mi(h,i[d],o[d]))}else if(p<n){l=e[p];var m=--n;for(f=e[m],r[f.uuid]=p,e[p]=f,r[d]=m,e[m]=h,d=0,f=s;d!==f;++d){var g=a[d],v=g[p];g[p]=g[m],void 0===v&&(v=new mi(h,i[d],o[d])),g[m]=v}}else e[p]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],l=s.uuid,c=n[l];if(void 0!==c&&c>=t){var u=t++,h=e[u];for(n[h.uuid]=c,e[c]=h,n[l]=u,e[u]=s,s=0,l=i;s!==l;++s){var d=(h=r[s])[c];h[c]=h[u],h[u]=d}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var l=arguments[a].uuid,c=r[l];if(void 0!==c)if(delete r[l],c<n){l=--n;var u=e[l],h=--t,d=e[h];for(r[u.uuid]=c,e[c]=u,r[d.uuid]=l,e[l]=d,e.pop(),u=0,d=o;u!==d;++u){var p=i[u],f=p[h];p[c]=p[l],p[l]=f,p.pop()}}else for(h=--t,d=e[h],r[d.uuid]=c,e[c]=d,e.pop(),u=0,d=o;u!==d;++u)(p=i[u])[c]=p[h],p.pop()}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,l=this.nCachedObjects_,c=Array(s.length);for(r=i.length,n[e]=r,o.push(e),a.push(t),i.push(c),n=l,r=s.length;n!==r;++n)c[n]=new mi(s[n],e,t);return c},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}),Object.assign(vi.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){n=this._clip.duration;var r=e._clip.duration,i=n/r;e.warp(1,r/n,t),this.warp(i,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;return null===o&&(this._timeScaleInterpolant=o=r._lendControlInterpolant()),r=o.parameterPositions,o=o.sampleValues,r[0]=i,r[1]=i+n,o[0]=e/a,o[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){if(0>(t=(e-i)*n)||0===n)return;this._startTime=null,t*=n}if(t*=this._updateTimeScale(e),n=this._updateTime(t),0<(e=this._updateWeight(e))){t=this._interpolants,i=this._propertyBindings;for(var o=0,a=t.length;o!==a;++o)t[o].evaluate(n),i[o].accumulate(r,e)}}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,r=this.loop,i=this._loopCount,o=2202===r;if(0===e)return-1===i?t:o&&1==(1&i)?n-t:t;if(2200===r)e:{if(-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1)),t>=n)t=n;else{if(!(0>t))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:0>e?-1:1})}else{if(-1===i&&(0<=e?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=n||0>t){r=Math.floor(t/n),t-=n*r,i+=Math.abs(r);var a=this.repetitions-i;0>=a?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=0<e?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<e?1:-1})):(1===a?(e=0>e,this._setEndings(e,!e,o)):this._setEndings(!1,!1,o),this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:r}))}if(o&&1==(1&i))return this.time=t,n-t}return this.time=t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,r.endingEnd=t?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;return null===o&&(this._weightInterpolant=o=r._lendControlInterpolant()),r=o.parameterPositions,o=o.sampleValues,r[0]=i,o[0]=t,r[1]=i+e,o[1]=n,this}}),yi.prototype=Object.assign(Object.create(n.prototype),{constructor:yi,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings;e=e._interpolants;var a=n.uuid,s=this._bindingsByRootAndName,l=s[a];for(void 0===l&&(l={},s[a]=l),s=0;s!==i;++s){var c=r[s],u=c.name,h=l[u];if(void 0===h){if(void 0!==(h=o[s])){null===h._cacheIndex&&(++h.referenceCount,this._addInactiveBinding(h,a,u));continue}++(h=new pi(mi.create(n,u,t&&t._propertyBindings[s].binding.parsedPath),c.ValueTypeName,c.getValueSize())).referenceCount,this._addInactiveBinding(h,a,u)}o[s]=h,e[s].resultBuffer=h.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==i.useCount++&&(this._lendBinding(i),i.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){return null!==(e=e._cacheIndex)&&e<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];void 0===o?(o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o):(t=o.knownActions,e._byClipCacheIndex=t.length,t.push(e)),e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null,t=e._clip.uuid,n=this._actionsByClip;var i=(r=n[t]).knownActions,o=i[i.length-1],a=e._byClipCacheIndex;o._byClipCacheIndex=a,i[a]=o,i.pop(),e._byClipCacheIndex=null,delete r.actionByRoot[(e._localRoot||this._root).uuid],0===i.length&&delete n[t],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){e=e._propertyBindings;for(var t=0,n=e.length;t!==n;++t){var r=e[t];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],o=this._bindings;void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid;n=n.path;var i=this._bindingsByRootAndName,o=i[r],a=t[t.length-1];e=e._cacheIndex,a._cacheIndex=e,t[e]=a,t.pop(),delete o[n];e:{for(var s in o)break e;delete i[r]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new tr(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid;n="string"==typeof e?hr.findByName(n,e):e,e=null!==n?n.uuid:e;var i=this._actionsByClip[e],o=null;if(void 0!==i){if(void 0!==(o=i.actionByRoot[r]))return o;o=i.knownActions[0],null===n&&(n=o._clip)}return null===n?null:(t=new vi(this,n,t),this._bindAction(t,o),this._addInactiveAction(t,e,r),t)},existingAction:function(e,t){var n=t||this._root;return t=n.uuid,n="string"==typeof e?hr.findByName(n,e):e,void 0!==(e=this._actionsByClip[n?n.uuid:e])&&e.actionByRoot[t]||null},stopAllAction:function(){for(var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings,i=this._nActiveBindings=this._nActiveActions=0;i!==t;++i)e[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==n;++a)t[a]._update(r,e,i,o);for(e=this._bindings,t=this._nActiveBindings,a=0;a!==t;++a)e[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions;e=e.uuid;var n=this._actionsByClip,r=n[e];if(void 0!==r){r=r.knownActions;for(var i=0,o=r.length;i!==o;++i){var a=r[i];this._deactivateAction(a);var s=a._cacheIndex,l=t[t.length-1];a._cacheIndex=null,a._byClipCacheIndex=null,l._cacheIndex=s,t[s]=l,t.pop(),this._removeInactiveBindingsForAction(a)}delete n[e]}},uncacheRoot:function(e){e=e.uuid;var t=this._actionsByClip;for(r in t){var n=t[r].actionByRoot[e];void 0!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}var r=this._bindingsByRootAndName[e];if(void 0!==r)for(var i in r)(e=r[i]).restoreOriginalState(),this._removeInactiveBinding(e)},uncacheAction:function(e,t){null!==(e=this.existingAction(e,t))&&(this._deactivateAction(e),this._removeInactiveAction(e))}}),bi.prototype.clone=function(){return new bi(void 0===this.value.clone?this.value:this.value.clone())},xi.prototype=Object.assign(Object.create(B.prototype),{constructor:xi,isInstancedBufferGeometry:!0,copy:function(e){return B.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),_i.prototype=Object.assign(Object.create(_t.prototype),{constructor:_i,isInstancedInterleavedBuffer:!0,copy:function(e){return _t.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),wi.prototype=Object.assign(Object.create(C.prototype),{constructor:wi,isInstancedBufferAttribute:!0,copy:function(e){return C.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(Mi.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){return Ci(e,this,n=n||[],t),n.sort(Si),n},intersectObjects:function(e,t,n){if(n=n||[],!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,i=e.length;r<i;r++)Ci(e[r],this,n,t);return n.sort(Si),n}}),Object.assign(Ei.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(e,n),this.phi=Math.acos(Qi.clamp(t/this.radius,-1,1))),this}}),Object.assign(Ti.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}}),Object.assign(Li.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new r;return function(t,n){return n=e.copy(n).multiplyScalar(.5),this.min.copy(t).sub(n),this.max.copy(t).add(n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new r),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new r),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new r),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new r),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new r;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(Pi.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new a),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new a),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new a),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new a,t=new a;return function(n,r){return e.subVectors(n,this.start),t.subVectors(this.end,this.start),n=t.dot(t),n=t.dot(e)/n,r&&(n=Qi.clamp(n,0,1)),n}}(),closestPointToPoint:function(e,t,n){return e=this.closestPointToPointParameter(e,t),void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new a),this.delta(n).multiplyScalar(e).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),ki.prototype=Object.create(M.prototype),ki.prototype.constructor=ki,ki.prototype.isImmediateRenderObject=!0,Ai.prototype=Object.create(At.prototype),Ai.prototype.constructor=Ai,Ai.prototype.update=function(){var e=new a,t=new a,n=new s;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,l=a.faces,c=a=0,u=l.length;c<u;c++)for(var h=l[c],d=0,p=h.vertexNormals.length;d<p;d++){var f=h.vertexNormals[d];e.copy(s[h[r[d]]]).applyMatrix4(i),t.copy(f).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(a,e.x,e.y,e.z),a+=1,o.setXYZ(a,t.x,t.y,t.z),a+=1}else if(a&&a.isBufferGeometry)for(r=a.attributes.position,s=a.attributes.normal,d=a=0,p=r.count;d<p;d++)e.set(r.getX(d),r.getY(d),r.getZ(d)).applyMatrix4(i),t.set(s.getX(d),s.getY(d),s.getZ(d)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(a,e.x,e.y,e.z),a+=1,o.setXYZ(a,t.x,t.y,t.z),a+=1;o.needsUpdate=!0}}(),Ii.prototype=Object.create(M.prototype),Ii.prototype.constructor=Ii,Ii.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Ii.prototype.update=function(){var e=new a,t=new a;return function(){this.light.updateMatrixWorld();var n=this.light.distance?this.light.distance:1e3,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),Oi.prototype=Object.create(At.prototype),Oi.prototype.constructor=Oi,Oi.prototype.updateMatrixWorld=function(){var e=new a,t=new i,n=new i;return function(r){var i=this.bones,o=this.geometry,a=o.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var s=0,l=0;s<i.length;s++){var c=i[s];c.parent&&c.parent.isBone&&(t.multiplyMatrices(n,c.matrixWorld),e.setFromMatrixPosition(t),a.setXYZ(l,e.x,e.y,e.z),t.multiplyMatrices(n,c.parent.matrixWorld),e.setFromMatrixPosition(t),a.setXYZ(l+1,e.x,e.y,e.z),l+=2)}o.getAttribute("position").needsUpdate=!0,M.prototype.updateMatrixWorld.call(this,r)}}(),Ri.prototype=Object.create(K.prototype),Ri.prototype.constructor=Ri,Ri.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Ri.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},Di.prototype=Object.create(M.prototype),Di.prototype.constructor=Di,Di.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Di.prototype.update=function(){var e=.5*this.light.width,t=.5*this.light.height,n=this.line.geometry.attributes.position,r=n.array;r[0]=e,r[1]=-t,r[2]=0,r[3]=e,r[4]=t,r[5]=0,r[6]=-e,r[7]=t,r[8]=0,r[9]=-e,r[10]=-t,r[11]=0,r[12]=e,r[13]=-t,r[14]=0,n.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},Ni.prototype=Object.create(M.prototype),Ni.prototype.constructor=Ni,Ni.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Ni.prototype.update=function(){var e=new a,t=new v,n=new v;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var i=r.geometry.getAttribute("color");t.copy(this.light.color),n.copy(this.light.groundColor);for(var o=0,a=i.count;o<a;o++){var s=o<a/2?t:n;i.setXYZ(o,s.r,s.g,s.b)}i.needsUpdate=!0}r.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),Bi.prototype=Object.create(At.prototype),Bi.prototype.constructor=Bi,Fi.prototype=Object.create(At.prototype),Fi.prototype.constructor=Fi,ji.prototype=Object.create(At.prototype),ji.prototype.constructor=ji,ji.prototype.update=function(){var e=new a,t=new a,n=new s;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var r=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices;o=o.faces;for(var s=0,l=0,c=o.length;l<c;l++){var u=o[l],h=u.normal;e.copy(a[u.a]).add(a[u.b]).add(a[u.c]).divideScalar(3).applyMatrix4(r),t.copy(h).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),i.setXYZ(s,e.x,e.y,e.z),s+=1,i.setXYZ(s,t.x,t.y,t.z),s+=1}i.needsUpdate=!0}}(),Hi.prototype=Object.create(M.prototype),Hi.prototype.constructor=Hi,Hi.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Hi.prototype.update=function(){var e=new a,t=new a,n=new a;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(n),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(n),this.targetLine.scale.z=n.length()}}(),zi.prototype=Object.create(At.prototype),zi.prototype.constructor=zi,zi.prototype.update=function(){function e(e,o,a,s){if(r.set(o,a,s).unproject(i),void 0!==(e=n[e]))for(o=t.getAttribute("position"),a=0,s=e.length;a<s;a++)o.setXYZ(e[a],r.x,r.y,r.z)}var t,n,r=new a,i=new ht;return function(){t=this.geometry,n=this.pointMap,i.projectionMatrix.copy(this.camera.projectionMatrix),e("c",0,0,-1),e("t",0,0,1),e("n1",-1,-1,-1),e("n2",1,-1,-1),e("n3",-1,1,-1),e("n4",1,1,-1),e("f1",-1,-1,1),e("f2",1,-1,1),e("f3",-1,1,1),e("f4",1,1,1),e("u1",.7,1.1,-1),e("u2",-.7,1.1,-1),e("u3",0,2,-1),e("cf1",-1,0,1),e("cf2",1,0,1),e("cf3",0,-1,1),e("cf4",0,1,1),e("cn1",-1,0,-1),e("cn2",1,0,-1),e("cn3",0,-1,-1),e("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),Ui.prototype=Object.create(At.prototype),Ui.prototype.constructor=Ui,Ui.prototype.update=function(){var e=new p;return function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){t=e.min;var n=e.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Ui.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Ui.prototype.copy=function(e){return At.prototype.copy.call(this,e),this.object=e.object,this},Ui.prototype.clone=function(){return(new this.constructor).copy(this)},Gi.prototype=Object.create(At.prototype),Gi.prototype.constructor=Gi,Gi.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),M.prototype.updateMatrixWorld.call(this,e))},Vi.prototype=Object.create(kt.prototype),Vi.prototype.constructor=Vi,Vi.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;1e-8>Math.abs(t)&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=0>t?1:0,this.lookAt(this.plane.normal),M.prototype.updateMatrixWorld.call(this,e)},Wi.prototype=Object.create(M.prototype),Wi.prototype.constructor=Wi,Wi.prototype.setDirection=function(){var e,t=new a;return function(n){.99999<n.y?this.quaternion.set(0,0,0,1):-.99999>n.y?this.quaternion.set(1,0,0,0):(t.set(n.z,0,-n.x).normalize(),e=Math.acos(n.y),this.quaternion.setFromAxisAngle(t,e))}}(),Wi.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},Wi.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},Wi.prototype.copy=function(e){return M.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},Wi.prototype.clone=function(){return(new this.constructor).copy(this)},qi.prototype=Object.create(At.prototype),qi.prototype.constructor=qi,_r.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(_r.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(Nr.prototype,{createPointsGeometry:function(e){return console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."),e=this.getPoints(e),this.createGeometry(e)},createSpacedPointsGeometry:function(e){return console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."),e=this.getSpacedPoints(e),this.createGeometry(e)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new S,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new a(i.x,i.y,i.z||0))}return t}}),Object.assign(Br.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Ki.prototype=Object.create(Cr.prototype),Xi.prototype=Object.create(Cr.prototype),Yi.prototype=Object.create(Cr.prototype),Object.assign(Yi.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Bi.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Oi.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Qr.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),jo.extractUrlBase(e)}}),Object.assign($r.prototype,{setTexturePath:function(e){return console.warn("THREE.JSONLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(ei.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(Li.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(p.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Pi.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(Qi,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Qi.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Qi.ceilPowerOfTwo(e)}}),Object.assign(s.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(i.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new a),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)}}),m.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},o.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(V.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(W.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(W,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),W.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),W.getNormal(e,t,n,r)}}),Object.assign(Fr.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new wn(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new On(this,e)}}),Object.assign(r.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(a.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(c.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(S.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(M.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(M.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Ct.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Et.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(_r.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),dt.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(jr.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(C.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(B.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(B.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(Mn.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(bi.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(U.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new v}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}}}),Object.defineProperties(Kn.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(G.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(vt.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(vt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(at.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(u.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(mt.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),ui.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new oi).load(e,function(e){t.setBuffer(e)}),this},di.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},si.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},$i.crossOrigin=void 0,$i.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new xr;return i.setCrossOrigin(this.crossOrigin),e=i.load(e,n,void 0,r),t&&(e.mapping=t),e},$i.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new br;return i.setCrossOrigin(this.crossOrigin),e=i.load(e,n,void 0,r),t&&(e.mapping=t),e},$i.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},$i.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},t.WebGLRenderTargetCube=h,t.WebGLRenderTarget=u,t.WebGLRenderer=vt,t.ShaderLib=oo,t.UniformsLib=io,t.UniformsUtils=no,t.ShaderChunk=to,t.FogExp2=yt,t.Fog=bt,t.Scene=xt,t.Sprite=St,t.LOD=Ct,t.SkinnedMesh=Lt,t.Skeleton=Et,t.Bone=Tt,t.Mesh=K,t.LineSegments=At,t.LineLoop=It,t.Line=kt,t.Points=Rt,t.Group=ut,t.VideoTexture=Dt,t.DataTexture=d,t.DataTexture3D=ae,t.CompressedTexture=Nt,t.CubeTexture=oe,t.CanvasTexture=Bt,t.DepthTexture=Ft,t.Texture=l,t.AnimationLoader=mr,t.CompressedTextureLoader=gr,t.DataTextureLoader=vr,t.CubeTextureLoader=br,t.TextureLoader=xr,t.ObjectLoader=ei,t.MaterialLoader=Zr,t.BufferGeometryLoader=Jr,t.DefaultLoadingManager=Io,t.LoadingManager=pr,t.JSONLoader=$r,t.ImageLoader=yr,t.ImageBitmapLoader=ti,t.FontLoader=ii,t.FileLoader=fr,t.Loader=Qr,t.LoaderUtils=jo,t.Cache=Ao,t.AudioLoader=oi,t.SpotLightShadow=Ur,t.SpotLight=Gr,t.PointLight=Vr,t.RectAreaLight=Yr,t.HemisphereLight=Hr,t.DirectionalLightShadow=qr,t.DirectionalLight=Kr,t.AmbientLight=Xr,t.LightShadow=zr,t.Light=jr,t.StereoCamera=ai,t.PerspectiveCamera=dt,t.OrthographicCamera=Wr,t.CubeCamera=si,t.ArrayCamera=pt,t.Camera=ht,t.AudioListener=ci,t.PositionalAudio=hi,t.AudioContext=Ko,t.AudioAnalyser=di,t.Audio=ui,t.VectorKeyframeTrack=ur,t.StringKeyframeTrack=cr,t.QuaternionKeyframeTrack=lr,t.NumberKeyframeTrack=ar,t.ColorKeyframeTrack=or,t.BooleanKeyframeTrack=ir,t.PropertyMixer=pi,t.PropertyBinding=mi,t.KeyframeTrack=rr,t.AnimationUtils=ko,t.AnimationObjectGroup=gi,t.AnimationMixer=yi,t.AnimationClip=hr,t.Uniform=bi,t.InstancedBufferGeometry=xi,t.BufferGeometry=B,t.Geometry=S,t.InterleavedBufferAttribute=wt,t.InstancedInterleavedBuffer=_i,t.InterleavedBuffer=_t,t.InstancedBufferAttribute=wi,t.Face3=x,t.Object3D=M,t.Raycaster=Mi,t.Layers=w,t.EventDispatcher=n,t.Clock=li,t.QuaternionLinearInterpolant=sr,t.LinearInterpolant=tr,t.DiscreteInterpolant=nr,t.CubicInterpolant=er,t.Interpolant=$n,t.Triangle=W,t.Math=Qi,t.Spherical=Ei,t.Cylindrical=Ti,t.Plane=m,t.Frustum=g,t.Sphere=f,t.Ray=V,t.Matrix4=i,t.Matrix3=s,t.Box3=p,t.Box2=Li,t.Line3=Pi,t.Euler=_,t.Vector4=c,t.Vector3=a,t.Vector2=r,t.Quaternion=o,t.Color=v,t.ImmediateRenderObject=ki,t.VertexNormalsHelper=Ai,t.SpotLightHelper=Ii,t.SkeletonHelper=Oi,t.PointLightHelper=Ri,t.RectAreaLightHelper=Di,t.HemisphereLightHelper=Ni,t.GridHelper=Bi,t.PolarGridHelper=Fi,t.FaceNormalsHelper=ji,t.DirectionalLightHelper=Hi,t.CameraHelper=zi,t.BoxHelper=Ui,t.Box3Helper=Gi,t.PlaneHelper=Vi,t.ArrowHelper=Wi,t.AxesHelper=qi,t.Shape=Fr,t.Path=Br,t.ShapePath=ni,t.Font=ri,t.CurvePath=Nr,t.Curve=_r,t.ImageUtils=$i,t.ShapeUtils=Eo,t.WebGLUtils=ct,t.WireframeGeometry=jt,t.ParametricGeometry=Ht,t.ParametricBufferGeometry=zt,t.TetrahedronGeometry=Vt,t.TetrahedronBufferGeometry=Wt,t.OctahedronGeometry=qt,t.OctahedronBufferGeometry=Kt,t.IcosahedronGeometry=Xt,t.IcosahedronBufferGeometry=Yt,t.DodecahedronGeometry=Zt,t.DodecahedronBufferGeometry=Jt,t.PolyhedronGeometry=Ut,t.PolyhedronBufferGeometry=Gt,t.TubeGeometry=Qt,t.TubeBufferGeometry=$t,t.TorusKnotGeometry=en,t.TorusKnotBufferGeometry=tn,t.TorusGeometry=nn,t.TorusBufferGeometry=rn,t.TextGeometry=Cn,t.TextBufferGeometry=En,t.SphereGeometry=Tn,t.SphereBufferGeometry=Ln,t.RingGeometry=Pn,t.RingBufferGeometry=kn,t.PlaneGeometry=H,t.PlaneBufferGeometry=z,t.LatheGeometry=An,t.LatheBufferGeometry=In,t.ShapeGeometry=On,t.ShapeBufferGeometry=Rn,t.ExtrudeGeometry=wn,t.ExtrudeBufferGeometry=Mn,t.EdgesGeometry=Nn,t.ConeGeometry=jn,t.ConeBufferGeometry=Hn,t.CylinderGeometry=Bn,t.CylinderBufferGeometry=Fn,t.CircleGeometry=zn,t.CircleBufferGeometry=Un,t.BoxGeometry=F,t.BoxBufferGeometry=j,t.ShadowMaterial=Gn,t.SpriteMaterial=Mt,t.RawShaderMaterial=Vn,t.ShaderMaterial=G,t.PointsMaterial=Ot,t.MeshPhysicalMaterial=qn,t.MeshStandardMaterial=Wn,t.MeshPhongMaterial=Kn,t.MeshToonMaterial=Xn,t.MeshNormalMaterial=Yn,t.MeshLambertMaterial=Zn,t.MeshDepthMaterial=it,t.MeshDistanceMaterial=ot,t.MeshBasicMaterial=q,t.MeshMatcapMaterial=Jn,t.LineDashedMaterial=Qn,t.LineBasicMaterial=Pt,t.Material=U,t.Float64BufferAttribute=R,t.Float32BufferAttribute=O,t.Uint32BufferAttribute=I,t.Int32BufferAttribute=A,t.Uint16BufferAttribute=k,t.Int16BufferAttribute=P,t.Uint8ClampedBufferAttribute=L,t.Uint8BufferAttribute=T,t.Int8BufferAttribute=E,t.BufferAttribute=C,t.ArcCurve=Mr,t.CatmullRomCurve3=Cr,t.CubicBezierCurve=Pr,t.CubicBezierCurve3=kr,t.EllipseCurve=wr,t.LineCurve=Ar,t.LineCurve3=Ir,t.QuadraticBezierCurve=Or,t.QuadraticBezierCurve3=Rr,t.SplineCurve=Dr,t.REVISION="98",t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},t.CullFaceNone=0,t.CullFaceBack=1,t.CullFaceFront=2,t.CullFaceFrontBack=3,t.FrontFaceDirectionCW=0,t.FrontFaceDirectionCCW=1,t.BasicShadowMap=0,t.PCFShadowMap=1,t.PCFSoftShadowMap=2,t.FrontSide=0,t.BackSide=1,t.DoubleSide=2,t.FlatShading=1,t.SmoothShading=2,t.NoColors=0,t.FaceColors=1,t.VertexColors=2,t.NoBlending=0,t.NormalBlending=1,t.AdditiveBlending=2,t.SubtractiveBlending=3,t.MultiplyBlending=4,t.CustomBlending=5,t.AddEquation=100,t.SubtractEquation=101,t.ReverseSubtractEquation=102,t.MinEquation=103,t.MaxEquation=104,t.ZeroFactor=200,t.OneFactor=201,t.SrcColorFactor=202,t.OneMinusSrcColorFactor=203,t.SrcAlphaFactor=204,t.OneMinusSrcAlphaFactor=205,t.DstAlphaFactor=206,t.OneMinusDstAlphaFactor=207,t.DstColorFactor=208,t.OneMinusDstColorFactor=209,t.SrcAlphaSaturateFactor=210,t.NeverDepth=0,t.AlwaysDepth=1,t.LessDepth=2,t.LessEqualDepth=3,t.EqualDepth=4,t.GreaterEqualDepth=5,t.GreaterDepth=6,t.NotEqualDepth=7,t.MultiplyOperation=0,t.MixOperation=1,t.AddOperation=2,t.NoToneMapping=0,t.LinearToneMapping=1,t.ReinhardToneMapping=2,t.Uncharted2ToneMapping=3,t.CineonToneMapping=4,t.UVMapping=300,t.CubeReflectionMapping=301,t.CubeRefractionMapping=302,t.EquirectangularReflectionMapping=303,t.EquirectangularRefractionMapping=304,t.SphericalReflectionMapping=305,t.CubeUVReflectionMapping=306,t.CubeUVRefractionMapping=307,t.RepeatWrapping=1e3,t.ClampToEdgeWrapping=1001,t.MirroredRepeatWrapping=1002,t.NearestFilter=1003,t.NearestMipMapNearestFilter=1004,t.NearestMipMapLinearFilter=1005,t.LinearFilter=1006,t.LinearMipMapNearestFilter=1007,t.LinearMipMapLinearFilter=1008,t.UnsignedByteType=1009,t.ByteType=1010,t.ShortType=1011,t.UnsignedShortType=1012,t.IntType=1013,t.UnsignedIntType=1014,t.FloatType=1015,t.HalfFloatType=1016,t.UnsignedShort4444Type=1017,t.UnsignedShort5551Type=1018,t.UnsignedShort565Type=1019,t.UnsignedInt248Type=1020,t.AlphaFormat=1021,t.RGBFormat=1022,t.RGBAFormat=1023,t.LuminanceFormat=1024,t.LuminanceAlphaFormat=1025,t.RGBEFormat=1023,t.DepthFormat=1026,t.DepthStencilFormat=1027,t.RedFormat=1028,t.RGB_S3TC_DXT1_Format=33776,t.RGBA_S3TC_DXT1_Format=33777,t.RGBA_S3TC_DXT3_Format=33778,t.RGBA_S3TC_DXT5_Format=33779,t.RGB_PVRTC_4BPPV1_Format=35840,t.RGB_PVRTC_2BPPV1_Format=35841,t.RGBA_PVRTC_4BPPV1_Format=35842,t.RGBA_PVRTC_2BPPV1_Format=35843,t.RGB_ETC1_Format=36196,t.RGBA_ASTC_4x4_Format=37808,t.RGBA_ASTC_5x4_Format=37809,t.RGBA_ASTC_5x5_Format=37810,t.RGBA_ASTC_6x5_Format=37811,t.RGBA_ASTC_6x6_Format=37812,t.RGBA_ASTC_8x5_Format=37813,t.RGBA_ASTC_8x6_Format=37814,t.RGBA_ASTC_8x8_Format=37815,t.RGBA_ASTC_10x5_Format=37816,t.RGBA_ASTC_10x6_Format=37817,t.RGBA_ASTC_10x8_Format=37818,t.RGBA_ASTC_10x10_Format=37819,t.RGBA_ASTC_12x10_Format=37820,t.RGBA_ASTC_12x12_Format=37821,t.LoopOnce=2200,t.LoopRepeat=2201,t.LoopPingPong=2202,t.InterpolateDiscrete=2300,t.InterpolateLinear=2301,t.InterpolateSmooth=2302,t.ZeroCurvatureEnding=2400,t.ZeroSlopeEnding=2401,t.WrapAroundEnding=2402,t.TrianglesDrawMode=0,t.TriangleStripDrawMode=1,t.TriangleFanDrawMode=2,t.LinearEncoding=3e3,t.sRGBEncoding=3001,t.GammaEncoding=3007,t.RGBEEncoding=3002,t.LogLuvEncoding=3003,t.RGBM7Encoding=3004,t.RGBM16Encoding=3005,t.RGBDEncoding=3006,t.BasicDepthPacking=3200,t.RGBADepthPacking=3201,t.TangentSpaceNormalMap=0,t.ObjectSpaceNormalMap=1,t.CubeGeometry=F,t.Face4=function(e,t,n,r,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new x(e,t,n,i,o,a)},t.LineStrip=0,t.LinePieces=1,t.MeshFaceMaterial=function(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e},t.MultiMaterial=function(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e},t.PointCloud=function(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Rt(e,t)},t.Particle=function(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new St(e)},t.ParticleSystem=function(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Rt(e,t)},t.PointCloudMaterial=function(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Ot(e)},t.ParticleBasicMaterial=function(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Ot(e)},t.ParticleSystemMaterial=function(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Ot(e)},t.Vertex=function(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new a(e,t,n)},t.DynamicBufferAttribute=function(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new C(e,t).setDynamic(!0)},t.Int8Attribute=function(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new E(e,t)},t.Uint8Attribute=function(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new T(e,t)},t.Uint8ClampedAttribute=function(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new L(e,t)},t.Int16Attribute=function(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new P(e,t)},t.Uint16Attribute=function(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new k(e,t)},t.Int32Attribute=function(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new A(e,t)},t.Uint32Attribute=function(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new I(e,t)},t.Float32Attribute=function(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new O(e,t)},t.Float64Attribute=function(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new R(e,t)},t.ClosedSplineCurve3=Ki,t.SplineCurve3=Xi,t.Spline=Yi,t.AxisHelper=function(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new qi(e)},t.BoundingBoxHelper=function(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Ui(e,t)},t.EdgesHelper=function(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new At(new Nn(e.geometry),new Pt({color:void 0!==t?t:16777215}))},t.WireframeHelper=function(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new At(new jt(e.geometry),new Pt({color:void 0!==t?t:16777215}))},t.XHRLoader=function(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new fr(e)},t.BinaryTextureLoader=function(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new vr(e)},t.GeometryUtils={merge:function(e,t,n){if(console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh){t.matrixAutoUpdate&&t.updateMatrix();var r=t.matrix;t=t.geometry}e.merge(t,r,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}},t.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},t.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")},t.SceneUtils={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}},t.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")},Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,n(30))},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(15),a=n(34),s=n(148),l=n(3),c=n(25),u=n(16),h=Object(c.a)(function(e,t){var n,r=Object(u.a)(e),i={root:{padding:"0 4px",height:"40px",color:e.palette.neutralPrimary,backgroundColor:"transparent",border:"none"},rootHovered:{color:e.palette.themePrimary,selectors:(n={},n[l.f]={borderColor:"Highlight",color:"Highlight"},n)},iconHovered:{color:e.palette.themePrimary},rootPressed:{color:e.palette.black},rootExpanded:{color:e.palette.themePrimary},iconPressed:{color:e.palette.themeDarker},rootDisabled:{color:e.palette.neutralTertiary,backgroundColor:"transparent"},rootChecked:{color:e.palette.black},iconChecked:{color:e.palette.themeDarker},flexContainer:{justifyContent:"flex-start"},icon:{color:e.palette.themeDarkAlt},iconDisabled:{color:"inherit"},menuIcon:{color:e.palette.neutralSecondary},textContainer:{flexGrow:0}};return Object(l.i)(r,i,t)});n.d(t,"a",function(){return d});var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._skipComponentRefResolution=!0,t}return r.c(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,n=e.theme;return i.createElement(o.a,r.a({},this.props,{variantClassName:"ms-Button--action ms-Button--command",styles:h(n,t),onRenderDescription:a.b}))},t=r.b([Object(s.a)("ActionButton",["theme","styles"],!0)],t)}(a.a)},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},i={},o=0,a=e;o<a.length;o++){var s=a[o];if(s)for(var l in s)if(s.hasOwnProperty(l)){if("subComponentStyles"===l&&void 0!==s.subComponentStyles){var c=s.subComponentStyles;for(var u in c)c.hasOwnProperty(u)&&(i.hasOwnProperty(u)?i[u].push(c[u]):i[u]=[c[u]]);continue}var h=n[l],d=s[l];n[l]=void 0===h?d:(Array.isArray(h)?h:[h]).concat(Array.isArray(d)?d:[d])}}if(Object.keys(i).length>0){n.subComponentStyles={};var p=n.subComponentStyles,f=function(e){if(i.hasOwnProperty(e)){var t=i[e];p[e]=function(e){return r.apply(void 0,t.map(function(t){return"function"==typeof t?t(e):t}))}}};for(var u in i)f(u)}return n}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return d});var r=n(56),i=n(39),o=n(3),a=n(25),s=n(14),l=Object(o.n)(0,o.g),c=Object(a.a)(function(e){return Object(o.q)(Object(r.a)(e),{wrapper:{position:"absolute",right:28,selectors:(t={},t[l]={right:32},t)},divider:{height:16,width:1}});var t}),u={item:"ms-ContextualMenu-item",divider:"ms-ContextualMenu-divider",root:"ms-ContextualMenu-link",isChecked:"is-checked",isExpanded:"is-expanded",isDisabled:"is-disabled",linkContent:"ms-ContextualMenu-linkContent",linkContentMenu:"ms-ContextualMenu-linkContent",icon:"ms-ContextualMenu-icon",iconColor:"ms-ContextualMenu-iconColor",checkmarkIcon:"ms-ContextualMenu-checkmarkIcon",subMenuIcon:"ms-ContextualMenu-submenuIcon",label:"ms-ContextualMenu-itemText",secondaryText:"ms-ContextualMenu-secondaryText"},h=Object(a.a)(function(e,t,n,r,a,l,c,h,d,p,f,m){var g,v,y,b,x=Object(i.b)(e),_=Object(o.l)(u,e);return Object(o.q)({item:[_.item,x.item,c],divider:[_.divider,x.divider,h],root:[_.root,x.root,r&&[_.isChecked,x.rootChecked],a&&x.anchorLink,n&&[_.isExpanded,x.rootExpanded],t&&[_.isDisabled,x.rootDisabled],!t&&!n&&[{selectors:(g={":hover":x.rootHovered,":active":x.rootPressed},g["."+s.a+" &:focus, ."+s.a+" &:focus:hover"]=x.rootFocused,g["."+s.a+" &:hover"]={background:"inherit;"},g)}],m],splitPrimary:[x.root,r&&["is-checked",x.rootChecked],(t||f)&&["is-disabled",x.rootDisabled],!(t||f)&&!r&&[{selectors:(v={":hover":x.rootHovered,":hover ~ $splitMenu":x.rootHovered,":active":x.rootPressed},v["."+s.a+" &:focus, ."+s.a+" &:focus:hover"]=x.rootFocused,v["."+s.a+" &:hover"]={background:"inherit;"},v)}]],splitMenu:[x.root,{flexBasis:"0",padding:"0 8px"},n&&["is-expanded",x.rootExpanded],t&&["is-disabled",x.rootDisabled],!t&&!n&&[{selectors:(y={":hover":x.rootHovered,":active":x.rootPressed},y["."+s.a+" &:focus, ."+s.a+" &:focus:hover"]=x.rootFocused,y["."+s.a+" &:hover"]={background:"inherit;"},y)}]],anchorLink:x.anchorLink,linkContent:[_.linkContent,x.linkContent],linkContentMenu:[_.linkContentMenu,x.linkContent,{justifyContent:"center"}],icon:[_.icon,l&&x.iconColor,x.icon,d,t&&[_.isDisabled,x.iconDisabled]],iconColor:x.iconColor,checkmarkIcon:[_.checkmarkIcon,l&&x.checkmarkIcon,x.icon,d],subMenuIcon:[_.subMenuIcon,x.subMenuIcon,p],label:[_.label,x.label],secondaryText:[_.secondaryText,x.secondaryText],splitContainer:[x.splitButtonFlexContainer,!t&&!r&&[{selectors:(b={},b["."+s.a+" &:focus, ."+s.a+" &:focus:hover"]=x.rootFocused,b)}]]})}),d=function(e){var t=e.theme,n=e.disabled,r=e.expanded,i=e.checked,o=e.isAnchorLink,a=e.knownIcon,s=e.itemClassName,l=e.dividerClassName,c=e.iconClassName,u=e.subMenuClassName,d=e.primaryDisabled,p=e.className;return h(t,n,r,i,o,a,s,l,c,u,d,p)}},function(e,t,n){"use strict";var r=n(1),i=n(0),o=function(){function e(e,t){this._timeoutIds=null,this._immediateIds=null,this._intervalIds=null,this._animationFrameIds=null,this._isDisposed=!1,this._parent=e||null,this._onErrorHandler=t,this._noop=function(){}}return e.prototype.dispose=function(){var e;if(this._isDisposed=!0,this._parent=null,this._timeoutIds){for(e in this._timeoutIds)this._timeoutIds.hasOwnProperty(e)&&this.clearTimeout(parseInt(e,10));this._timeoutIds=null}if(this._immediateIds){for(e in this._immediateIds)this._immediateIds.hasOwnProperty(e)&&this.clearImmediate(parseInt(e,10));this._immediateIds=null}if(this._intervalIds){for(e in this._intervalIds)this._intervalIds.hasOwnProperty(e)&&this.clearInterval(parseInt(e,10));this._intervalIds=null}if(this._animationFrameIds){for(e in this._animationFrameIds)this._animationFrameIds.hasOwnProperty(e)&&this.cancelAnimationFrame(parseInt(e,10));this._animationFrameIds=null}},e.prototype.setTimeout=function(e,t){var n=this,r=0;return this._isDisposed||(this._timeoutIds||(this._timeoutIds={}),r=setTimeout(function(){try{n._timeoutIds&&delete n._timeoutIds[r],e.apply(n._parent)}catch(e){n._onErrorHandler&&n._onErrorHandler(e)}},t),this._timeoutIds[r]=!0),r},e.prototype.clearTimeout=function(e){this._timeoutIds&&this._timeoutIds[e]&&(clearTimeout(e),delete this._timeoutIds[e])},e.prototype.setImmediate=function(e){var t=this,n=0;if(!this._isDisposed){this._immediateIds||(this._immediateIds={});var r=function(){try{t._immediateIds&&delete t._immediateIds[n],e.apply(t._parent)}catch(e){t._logError(e)}};n=window.setImmediate?window.setImmediate(r):window.setTimeout(r,0),this._immediateIds[n]=!0}return n},e.prototype.clearImmediate=function(e){this._immediateIds&&this._immediateIds[e]&&(window.clearImmediate?window.clearImmediate(e):window.clearTimeout(e),delete this._immediateIds[e])},e.prototype.setInterval=function(e,t){var n=this,r=0;return this._isDisposed||(this._intervalIds||(this._intervalIds={}),r=setInterval(function(){try{e.apply(n._parent)}catch(e){n._logError(e)}},t),this._intervalIds[r]=!0),r},e.prototype.clearInterval=function(e){this._intervalIds&&this._intervalIds[e]&&(clearInterval(e),delete this._intervalIds[e])},e.prototype.throttle=function(e,t,n){var r=this;if(this._isDisposed)return this._noop;var i,o,a=t||0,s=!0,l=!0,c=0,u=null;n&&"boolean"==typeof n.leading&&(s=n.leading),n&&"boolean"==typeof n.trailing&&(l=n.trailing);var h=function(t){var n=(new Date).getTime(),d=n-c,p=s?a-d:a;return d>=a&&(!t||s)?(c=n,u&&(r.clearTimeout(u),u=null),i=e.apply(r._parent,o)):null===u&&l&&(u=r.setTimeout(h,p)),i};return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o=e,h(!0)}},e.prototype.debounce=function(e,t,n){var r=this;if(this._isDisposed){var i=function(){};return i.cancel=function(){},i.flush=function(){return null},i.pending=function(){return!1},i}var o,a,s=t||0,l=!1,c=!0,u=null,h=0,d=(new Date).getTime(),p=null;n&&"boolean"==typeof n.leading&&(l=n.leading),n&&"boolean"==typeof n.trailing&&(c=n.trailing),n&&"number"==typeof n.maxWait&&!isNaN(n.maxWait)&&(u=n.maxWait);var f=function(e){p&&(r.clearTimeout(p),p=null),d=e},m=function(t){f(t),o=e.apply(r._parent,a)},g=function(e){var t=(new Date).getTime(),n=!1;e&&(l&&t-h>=s&&(n=!0),h=t);var i=t-h,a=s-i,f=t-d,v=!1;return null!==u&&(f>=u&&p?v=!0:a=Math.min(a,u-f)),i>=s||v||n?m(t):null!==p&&e||!c||(p=r.setTimeout(g,a)),o},v=function(){return!!p},y=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a=e,g(!0)};return y.cancel=function(){v()&&f((new Date).getTime())},y.flush=function(){return v()&&m((new Date).getTime()),o},y.pending=v,y},e.prototype.requestAnimationFrame=function(e){var t=this,n=0;if(!this._isDisposed){this._animationFrameIds||(this._animationFrameIds={});var r=function(){try{t._animationFrameIds&&delete t._animationFrameIds[n],e.apply(t._parent)}catch(e){t._logError(e)}};n=window.requestAnimationFrame?window.requestAnimationFrame(r):window.setTimeout(r,0),this._animationFrameIds[n]=!0}return n},e.prototype.cancelAnimationFrame=function(e){this._animationFrameIds&&this._animationFrameIds[e]&&(window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e),delete this._animationFrameIds[e])},e.prototype._logError=function(e){this._onErrorHandler&&this._onErrorHandler(e)},e}(),a=n(19),s=n(57),l=n(14),c=n(6);n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d});var u=function(e){function t(n,r){var i=e.call(this,n,r)||this;return Object(l.b)(),function(e){var t=e||Object(c.f)();if(t&&!t.__hasInitializedDir__){t.__hasInitializedDir__=!0;var n=t.document.documentElement;n.hasAttribute("dir")||n.setAttribute("dir","ltr")}}(),function(e,t,n){for(var r=0,i=n.length;r<i;r++)h(e,t,n[r])}(i,t.prototype,["componentDidMount","shouldComponentUpdate","getSnapshotBeforeUpdate","render","componentDidUpdate","componentWillUnmount"]),i}return r.c(t,e),t.prototype.componentDidUpdate=function(e,t){this._updateComponentRef(e,this.props)},t.prototype.componentDidMount=function(){this._setComponentRef(this.props.componentRef,this)},t.prototype.componentWillUnmount=function(){if(this._setComponentRef(this.props.componentRef,null),this.__disposables){for(var e=0,t=this._disposables.length;e<t;e++){var n=this.__disposables[e];n.dispose&&n.dispose()}this.__disposables=null}},Object.defineProperty(t.prototype,"className",{get:function(){if(!this.__className){var e=/function (.{1,})\(/.exec(this.constructor.toString());this.__className=e&&e.length>1?e[1]:""}return this.__className},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_disposables",{get:function(){return this.__disposables||(this.__disposables=[]),this.__disposables},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_async",{get:function(){return this.__async||(this.__async=new o(this),this._disposables.push(this.__async)),this.__async},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_events",{get:function(){return this.__events||(this.__events=new a.a(this),this._disposables.push(this.__events)),this.__events},enumerable:!0,configurable:!0}),t.prototype._resolveRef=function(e){var t=this;return this.__resolves||(this.__resolves={}),this.__resolves[e]||(this.__resolves[e]=function(n){return t[e]=n}),this.__resolves[e]},t.prototype._updateComponentRef=function(e,t){void 0===t&&(t={}),e.componentRef!==t.componentRef&&(this._setComponentRef(e.componentRef,null),this._setComponentRef(t.componentRef,this))},t.prototype._warnDeprecations=function(e){Object(s.c)(this.className,this.props,e)},t.prototype._warnMutuallyExclusive=function(e){Object(s.d)(this.className,this.props,e)},t.prototype._warnConditionallyRequiredProps=function(e,t,n){Object(s.b)(this.className,this.props,e,t,n)},t.prototype._setComponentRef=function(e,t){!this._skipComponentRefResolution&&e&&("function"==typeof e&&e(t),"object"==typeof e&&(e.current=t))},t}(i.Component);function h(e,t,n){var r=e[n],i=t[n];(r||i)&&(e[n]=function(){var e;return i&&(e=i.apply(this,arguments)),r!==i&&(e=r.apply(this,arguments)),e})}function d(){return null}},function(e,t,n){"use strict";var r=n(7),i=n(6);var o=n(46);n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c});var a,s="isRTL";function l(){if(void 0===a){var e=function(e){var t=null;try{t=window.sessionStorage.getItem(e)}catch(e){}return t}(s);null!==e&&function(e,t){void 0===t&&(t=!1);var n=Object(i.d)();n&&n.documentElement.setAttribute("dir",e?"rtl":"ltr");t&&function(e,t){try{window.sessionStorage.setItem(e,t)}catch(e){}}(s,e?"1":"0");a=e,Object(o.b)(a)}(a="1"===e);var t=Object(i.d)();void 0===a&&t&&(a="rtl"===t.documentElement.getAttribute("dir"),Object(o.b)(a))}return!!a}function c(e){return l()&&(e===r.a.left?e=r.a.right:e===r.a.right&&(e=r.a.left)),e}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=n(0),l=n(20),c=n(42),u=function(e){function t(t){var n=e.call(this,t)||this;return n._mouseMoveBinding=function(e){return n.updateDrag(e)},n._mouseUpBinding=function(e){return n.completeDrag(e)},n._nodeClickBinding=function(e){return n.nodeClicked(e)},n.state={id:t.node.id,coordinate:t.node.coordinate,name:t.node.name,attributes:t.node.attributes,outputs:t.node.outputs,inputs:t.node.inputs,selected:!1,mouseDragging:!1,hoveringTitle:!1,dragStart:{x:0,y:0}},n.inputChannelRenderers={},n.outputChannelRenderers={},n}return i(t,e),t.prototype.updateState=function(e){var t=this;setTimeout(function(){var n={id:e.id,coordinate:e.coordinate,name:e.name,attributes:e.attributes,outputs:e.outputs,inputs:e.inputs};for(var r in t.inputChannelRenderers)t.inputChannelRenderers.hasOwnProperty(r)&&e.inputs.hasOwnProperty(r)&&null!=t.outputChannelRenderers[r]&&null!=e.outputs[r]?t.inputChannelRenderers[r].updateState(e.inputs[r]):delete t.inputChannelRenderers[r];for(var r in t.outputChannelRenderers)t.outputChannelRenderers.hasOwnProperty(r)&&e.outputs.hasOwnProperty(r)&&null!=t.outputChannelRenderers[r]&&null!=e.outputs[r]?t.outputChannelRenderers[r].updateState(e.outputs[r]):delete t.outputChannelRenderers[r];t.setState(n)},1)},t.prototype.nodeClicked=function(e){return 0!=e.button||(this.props.assetClicked(e.currentTarget.id),this.setState({selected:!this.state.selected}),e.stopPropagation(),e.preventDefault(),!1)},t.prototype.startDrag=function(e){if(0==e.button){var t=e.clientX,n=e.clientY;this.setState(o({},this.state,{dragStart:{x:t,y:n},mouseDragging:!0}))}},t.prototype.updateDrag=function(e){if(!this.state.mouseDragging)return!0;if(0==e.button){var t=e.clientX,n=e.clientY;return this.setState(o({},this.state,{coordinate:{x:this.props.node.coordinate.x+(t-this.state.dragStart.x),y:this.props.node.coordinate.y+(n-this.state.dragStart.y)}})),e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),!1}return!0},t.prototype.completeDrag=function(e){if(!this.state.mouseDragging)return!0;if(0==e.button){var t=e.clientX,n=e.clientY,r=this.props.node.coordinate.x+(t-this.state.dragStart.x),i=this.props.node.coordinate.y+(n-this.state.dragStart.y);return this.props.node.coordinate={x:r,y:i},this.setState(o({},this.state,{mouseDragging:!1})),this.props.assetChanged(l.NodeGraphNamespace.getNodeNamespace(this.props.node),this.props.node),e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),!1}return!0},t.prototype.onEnterTitle=function(e){this.state.hoveringTitle||null==this.props.onTitleHover||(this.props.onTitleHover("node",e,!0),this.setState({hoveringTitle:!0}))},t.prototype.onLeaveTitle=function(e){this.state.hoveringTitle&&null!=this.props.onTitleHover&&(this.props.onTitleHover("node",e,!1),this.setState({hoveringTitle:!1}))},t.prototype.componentDidMount=function(){console.log("mount"),document.addEventListener("mousemove",this._mouseMoveBinding),document.addEventListener("mouseup",this._mouseUpBinding),null!=this.nodeContainerRef&&this.nodeContainerRef.addEventListener("click",this._nodeClickBinding)},t.prototype.componentWillUnmount=function(){console.log("unmount"),document.removeEventListener("mousemove",this._mouseMoveBinding),document.removeEventListener("mouseup",this._mouseUpBinding),null!=this.nodeContainerRef&&this.nodeContainerRef.removeEventListener("click",this._nodeClickBinding)},t.prototype.render=function(){var e=this,t=[],n=[],r=0;for(var i in this.state.outputs)this.state.outputs.hasOwnProperty(i)&&function(n){var i=e.state.outputs[n];t.push(s.createElement(a.NodeChannelRenderer,{showLabel:null!=e.props.channelLabels&&e.props.channelLabels==a.NodeGraphChannelDirection.Outbound,ref:function(t){return e.outputChannelRenderers[n]=t},entityClicked:e.props.assetClicked,onMouseDown:e.props.channelMouseDown,onMouseUp:e.props.channelMouseUp,key:r++,channel:i}))}(i);for(var i in r=0,this.state.inputs)this.state.inputs.hasOwnProperty(i)&&function(t){var i=e.state.inputs[t];n.push(s.createElement(a.NodeChannelRenderer,{showLabel:null!=e.props.channelLabels&&e.props.channelLabels==a.NodeGraphChannelDirection.Inbound,ref:function(n){return e.inputChannelRenderers[t]=n},entityClicked:e.props.assetClicked,onMouseDown:e.props.channelMouseDown,onMouseUp:e.props.channelMouseUp,key:r++,channel:i}))}(i);return s.createElement("div",{ref:function(t){return e.nodeContainerRef=t},className:"node "+(this.state.selected?"selected":"")+" "+(this.state.mouseDragging?"dragging":""),id:l.NodeGraphNamespace.getNodeNamespace(this.props.node),style:{top:this.state.coordinate.y,left:this.state.coordinate.x}},s.createElement("div",{className:"primitiveNode"},s.createElement("span",{className:"name",onMouseEnter:function(t){return e.onEnterTitle(e.props.node.id)},onMouseLeave:function(t){return e.onLeaveTitle(e.props.node.id)},onMouseDown:function(t){return e.startDrag(t)}},this.state.name),this.props.children),s.createElement("div",{className:"nodeChannelOverlay"},s.createElement("ul",{className:"nodeAttributes outbound"},t),s.createElement("ul",{className:"nodeAttributes inbound"},n)))},t}(s.Component);t.PrimitiveNodeRenderer=u;var h=function(){function e(e){this.name=e.name,this.id=e.id||c(),this.coordinate=e.coordinate||{x:0,y:0},this.nodeGraph=e.nodeGraph,this.outputs={},this.inputs={},this.attributes={},this.nodeType="PrimitiveNode",this.addAttribute({name:"base.id",type:"string",expression:"$.id",read_only:!0}),this.addAttribute({name:"base.name",type:"string",expression:"$.name"}),this.applyAttributes(e.attributes),this.applyChannels(e.channels)}return e.prototype.applyChannels=function(e){if(null!=e)for(var t=0;t<e.length;++t){var n=e[t];n.direction==a.NodeGraphChannelDirection.Inbound?this.inputs.hasOwnProperty(n.name)?(this.inputs[n.name].name=n.name,this.inputs[n.name].applyAttributes(n.attributes)):this.addChannel(o({},n)):n.direction==a.NodeGraphChannelDirection.Outbound&&(this.outputs.hasOwnProperty(n.name)?(this.outputs[n.name].name=n.name,this.outputs[n.name].applyAttributes(n.attributes)):this.addChannel(o({},n)))}},e.prototype.applyAttributes=function(e){if(null!=e)for(var t=0;t<e.length;++t){var n=e[t];this.attributes.hasOwnProperty(n.name)?(this.attributes[n.name].expression=n.expression,this.attributes[n.name].read_only=n.read_only,this.attributes[n.name].type=n.type):this.addAttribute(n)}},e.prototype.getInboundLinkPaths=function(){var e=[];for(var t in this.inputs){var n=this.inputs[t];if(n.direction==a.NodeGraphChannelDirection.Inbound){var r=l.NodeGraphNamespace.getChannelNamespace(n);e.push(r+"/@value")}}return e},e.prototype.serialize=function(){var e=[];for(var t in this.inputs)e.push(this.inputs[t].serialize());for(var t in this.outputs)e.push(this.outputs[t].serialize());var n=[];for(var r in this.attributes)n.push({name:r,expression:this.attributes[r].expression,type:this.attributes[r].type,read_only:!0===this.attributes[r].read_only||"true"===this.attributes[r].read_only});return{name:this.name,id:this.id,coordinate:this.coordinate,attributes:n,channels:e,nodeType:this.nodeType}},e.prototype.addAttribute=function(e){this.attributes[e.name]=o({},e,{object:this})},e.prototype.removeAttribute=function(e){delete this.attributes[e]},e.prototype.getChannelAttribute=function(e,t,n){switch(n){case a.NodeGraphChannelDirection.Inbound:return this.inputs[e].attributes[t];case a.NodeGraphChannelDirection.Outbound:return this.outputs[e].attributes[t]}return null},e.prototype.addChannel=function(e){switch(e.direction){case a.NodeGraphChannelDirection.Inbound:this.inputs[e.name]=new a.NodeGraphChannel(o({},e,{node:this}));break;case a.NodeGraphChannelDirection.Outbound:this.outputs[e.name]=new a.NodeGraphChannel(o({},e,{node:this}))}},e.prototype.removeChannel=function(e,t){switch(t){case a.NodeGraphChannelDirection.Inbound:for(var n in this.inputs)this.inputs.hasOwnProperty(n)&&n.indexOf(e)>=0&&delete this.inputs[n];break;case a.NodeGraphChannelDirection.Outbound:for(var r in this.outputs)this.outputs.hasOwnProperty(r)&&r.indexOf(e)>=0&&delete this.outputs[r]}},e.prototype.interface=function(e){var t=this;return s.createElement(u,{ref:function(n){return e.registerNodeReference(l.NodeGraphNamespace.getNodeNamespace(t),n)},assetClicked:function(t){return e.onAssetClicked(t)},onTitleHover:function(t,n,r){return e.onEntityHover(t,n,r)},channelMouseDown:function(t,n,r){return e.onChannelDown(t,n,r)},channelMouseUp:function(t,n,r){return e.onChannelUp(t,n,r)},assetChanged:function(t,n){return e.onAssetChanged(t,n)},key:this.id,node:this})},e}();t.PrimitiveNode=h},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(36),s=n(0),l=n(20),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={width:n.props.node.width,height:n.props.node.height},n}return i(t,e),t.prototype.updateState=function(e){var t={width:e.width,height:e.height};this.setState(t),null!=this.primitiveNodeRenderer&&this.primitiveNodeRenderer.updateState(e)},t.prototype.renderToCanvas=function(e){null!=e&&this.props.node.renderToCanvas(e)},t.prototype.render=function(){var e=this;return s.createElement(a.PrimitiveNodeRenderer,{ref:function(t){return e.primitiveNodeRenderer=t},assetClicked:this.props.assetClicked,assetChanged:this.props.assetChanged,onTitleHover:this.props.onTitleHover,channelMouseDown:this.props.channelMouseDown,channelMouseUp:this.props.channelMouseUp,node:this.props.node},s.createElement("div",{className:"previewTexture"},s.createElement("canvas",{ref:function(t){return e.renderToCanvas(t)}})),this.props.children)},t}(s.Component);t.TextureNodeRenderer=c;var u=function(e){function t(t){var n=e.call(this,t)||this;return n.width=t.width||128,n.height=t.height||128,n.nodeType="TextureNode",n.addAttribute({name:"texture.width",type:"number",expression:"$.width",read_only:!0}),n.addAttribute({name:"texture.height",type:"number",expression:"$.height",read_only:!0}),n}return i(t,e),t.prototype.serialize=function(){return o({},e.prototype.serialize.call(this),{width:this.width,height:this.height})},t.prototype.interface=function(e){var t=this;return s.createElement(c,{ref:function(n){return e.registerNodeReference(l.NodeGraphNamespace.getNodeNamespace(t),n)},assetClicked:function(t){return e.onAssetClicked(t)},assetChanged:function(t,n){return e.onAssetChanged(t,n)},onTitleHover:function(t,n,r){return e.onEntityHover(t,n,r)},channelMouseDown:function(t,n,r){return e.onChannelDown(t,n,r)},channelMouseUp:function(t,n,r){return e.onChannelUp(t,n,r)},key:this.id,node:this})},t.prototype.renderToCanvas=function(e){e.width=this.width,e.height=this.height},t}(a.PrimitiveNode);t.TextureNode=u},function(e,t,n){"use strict";n.r(t);var r=n(47),i=n(88);n.d(t,"LabelBase",function(){return r.a}),n.d(t,"Label",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c});var r=n(1),i=n(3),o=n(25),a="32px",s=Object(i.n)(0,i.g),l=Object(o.a)(function(){return{selectors:(e={},e[i.f]={backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText",MsHighContrastAdjust:"none"},e)};var e}),c=Object(o.a)(function(e){var t,n,o,c,u,h,d=e.semanticColors,p=e.fonts,f=d.menuItemBackgroundHovered,m=d.menuItemBackgroundChecked,g=d.bodyDivider,v={item:[p.medium,{color:d.bodyText,position:"relative",boxSizing:"border-box"}],divider:{display:"block",height:"1px",backgroundColor:g,position:"relative"},root:[Object(i.k)(e),p.medium,{color:d.bodyText,backgroundColor:"transparent",border:"none",width:"100%",height:a,lineHeight:a,display:"block",cursor:"pointer",padding:"0px 8px 0 4px",textAlign:"left"}],rootDisabled:{color:d.disabledBodyText,cursor:"default",pointerEvents:"none",selectors:(t={},t[i.f]={color:"GrayText",opacity:1},t)},rootHovered:r.a({backgroundColor:f},l()),rootFocused:r.a({backgroundColor:f},l()),rootChecked:r.a({},l()),rootPressed:r.a({backgroundColor:m},l()),rootExpanded:r.a({backgroundColor:m,color:d.bodyTextChecked},l()),linkContent:{whiteSpace:"nowrap",height:"inherit",display:"flex",alignItems:"center",maxWidth:"100%"},anchorLink:{padding:"0px 8px 0 4px",textRendering:"auto",color:"inherit",letterSpacing:"normal",wordSpacing:"normal",textTransform:"none",textIndent:"0px",textShadow:"none",textDecoration:"none",boxSizing:"border-box"},label:{margin:"0 4px",verticalAlign:"middle",display:"inline-block",flexGrow:"1",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},secondaryText:{color:e.palette.neutralSecondary,paddingLeft:"20px",textAlign:"right"},icon:{display:"inline-block",minHeight:"1px",maxHeight:a,width:"14px",margin:"0 4px",verticalAlign:"middle",flexShrink:"0"},iconColor:{color:d.menuIcon,selectors:(n={},n[i.f]={color:"inherit"},n["$root:hover &"]={selectors:(o={},o[i.f]={color:"HighlightText"},o)},n["$root:focus &"]={selectors:(c={},c[i.f]={color:"HighlightText"},c)},n)},iconDisabled:{color:d.disabledBodyText},checkmarkIcon:{color:d.bodySubtext,selectors:(u={},u[i.f]={color:"HighlightText"},u)},subMenuIcon:{height:a,lineHeight:a,textAlign:"center",display:"inline-block",verticalAlign:"middle",flexShrink:"0",fontSize:i.d.small,selectors:(h={},h[s]={fontSize:i.d.icon},h)},splitButtonFlexContainer:[Object(i.k)(e),{display:"flex",height:a,flexWrap:"nowrap",justifyContent:"center",alignItems:"center"}]};return Object(i.i)(v)})},,,function(e,t,n){var r=n(101),i=n(102);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),i=function(){function e(){}return e.evaluate=function(t,n){if(null==n)return null;if(r.NodeGraphNamespace.isValidNamespace(n)){var i=t.getAssetByNamespace(n),o=t.getSourceOfTargetAttribute(i);if(null!=o)return e.evaluate(t,o.expression)}else if("#"==n[0]){var a=n.substr(1);return t.getNodeById(a)||document.getElementById(a)}return null},e}();t.NodeGraphExpression=i},function(e,t,n){"use strict";n.r(t);var r,i,o=n(15);!function(e){e[e.button=0]="button",e[e.anchor=1]="anchor"}(r||(r={})),function(e){e[e.normal=0]="normal",e[e.primary=1]="primary",e[e.hero=2]="hero",e[e.compound=3]="compound",e[e.command=4]="command",e[e.icon=5]="icon",e[e.default=6]="default"}(i||(i={}));var a=n(1),s=n(0),l=n(57),c=n(34),u=n(148),h=n(3),d=n(25),p=n(16),f=n(23);function m(e){var t,n,r,i=e.semanticColors,o=i.buttonBackground,a=i.buttonBackgroundChecked,s=i.buttonBackgroundHovered,l=i.buttonText,c=i.buttonTextHovered,u=i.buttonTextChecked,d=i.buttonTextCheckedHovered;return{root:{backgroundColor:o,color:l},rootHovered:{backgroundColor:s,color:c,selectors:(t={},t[h.f]={borderColor:"Highlight",color:"Highlight"},t)},rootPressed:{backgroundColor:a,color:u},rootExpanded:{backgroundColor:a,color:u},rootChecked:{backgroundColor:a,color:u},rootCheckedHovered:{backgroundColor:e.palette.neutralLight,color:d},splitButtonContainer:{selectors:(n={},n[h.f]={border:"none"},n)},splitButtonMenuButton:{color:e.palette.white,backgroundColor:e.palette.neutralLighter,selectors:{":hover":{backgroundColor:e.palette.neutralLight,selectors:(r={},r[h.f]={color:"Highlight"},r)}}},splitButtonMenuButtonDisabled:{backgroundColor:e.palette.neutralLighter,selectors:{":hover":{backgroundColor:e.palette.neutralLighter}}},splitButtonDivider:{backgroundColor:e.palette.neutralTertiaryAlt},splitButtonMenuButtonChecked:{backgroundColor:e.palette.themePrimary},splitButtonMenuButtonExpanded:{backgroundColor:e.palette.neutralLight},splitButtonMenuIcon:{color:e.palette.neutralPrimary},splitButtonMenuIconDisabled:{color:e.palette.neutralTertiary}}}function g(e){return{root:{backgroundColor:e.palette.themePrimary,color:e.palette.white,selectors:(t={},t[h.f]={color:"Window",backgroundColor:"WindowText",MsHighContrastAdjust:"none"},t)},rootHovered:{backgroundColor:e.palette.themeDarkAlt,color:e.palette.white,selectors:(n={},n[h.f]={color:"Window",backgroundColor:"Highlight"},n)},rootPressed:{backgroundColor:e.palette.themeDark,color:e.palette.white,selectors:(r={},r[h.f]={color:"Window",backgroundColor:"WindowText",MsHighContrastAdjust:"none"},r)},rootExpanded:{backgroundColor:e.palette.themeDark,color:e.palette.white},rootChecked:{backgroundColor:e.palette.themeDark,color:e.palette.white},rootCheckedHovered:{backgroundColor:e.palette.themePrimary,color:e.palette.white},rootDisabled:{selectors:(i={},i[h.f]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},i)},splitButtonContainer:{selectors:(o={},o[h.f]={border:"none"},o)},splitButtonDivider:{backgroundColor:e.palette.themeLighter},splitButtonMenuButton:{backgroundColor:e.palette.themePrimary,color:e.palette.white,selectors:{":hover":{backgroundColor:e.palette.themeDark,selectors:(a={},a[h.f]={color:"Highlight"},a)}}},splitButtonMenuButtonDisabled:{backgroundColor:e.palette.neutralLighter,selectors:{":hover":{backgroundColor:e.palette.neutralLighter}}},splitButtonMenuButtonChecked:{backgroundColor:e.palette.themeDark},splitButtonMenuButtonExpanded:{backgroundColor:e.palette.themeDark},splitButtonMenuIcon:{color:e.palette.white},splitButtonMenuIconDisabled:{color:e.palette.neutralTertiary}};var t,n,r,i,o,a}var v=Object(d.a)(function(e,t,n){var r=Object(p.a)(e),i=Object(f.a)(e),o={root:{minWidth:"80px",height:"32px"},label:{fontWeight:h.e.semibold}};return Object(h.i)(r,o,n?g(e):m(e),i,t)}),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._skipComponentRefResolution=!0,t}return a.c(t,e),t.prototype.render=function(){var e=this.props,t=e.primary,n=void 0!==t&&t,r=e.styles,i=e.theme;return s.createElement(o.a,a.a({},this.props,{variantClassName:n?"ms-Button--primary":"ms-Button--default",styles:v(i,r,n),onRenderDescription:c.b}))},t=a.b([Object(u.a)("DefaultButton",["theme","styles"],!0)],t)}(c.a),b=n(31),x=Object(d.a)(function(e,t,n){var r,i,o,a=Object(p.a)(e),s=Object(f.a)(e),l={root:{maxWidth:"280px",minHeight:"72px",height:"auto",padding:"20px"},flexContainer:{flexDirection:"row",alignItems:"flex-start",minWidth:"100%",margin:""},textContainer:{textAlign:"left"},icon:{fontSize:"2em",lineHeight:"1em",height:"1em",margin:"0px 8px 0px 0px",flexBasis:"1em",flexShrink:"0"},label:{margin:"0 0 5px",lineHeight:"100%",fontWeight:h.e.semibold},description:[e.fonts.small,{lineHeight:"100%"}]},c={description:{color:e.palette.neutralSecondary},descriptionHovered:{color:e.palette.neutralDark},descriptionPressed:{color:"inherit"},descriptionChecked:{color:"inherit"},descriptionDisabled:{color:"inherit"}},u={description:{color:e.palette.white,selectors:(r={},r[h.f]={color:"Window",backgroundColor:"WindowText",MsHighContrastAdjust:"none"},r)},descriptionHovered:{color:e.palette.white,selectors:(i={},i[h.f]={color:"Window",backgroundColor:"Highlight",MsHighContrastAdjust:"none"},i)},descriptionPressed:{color:"inherit"},descriptionChecked:{color:"inherit"},descriptionDisabled:{color:"inherit",selectors:(o={},o[h.f]={color:"inherit"},o)}};return Object(h.i)(a,l,n?g(e):m(e),n?u:c,s,t)}),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._skipComponentRefResolution=!0,t}return a.c(t,e),t.prototype.render=function(){var e=this.props,t=e.primary,n=void 0!==t&&t,r=e.styles,i=e.theme;return s.createElement(o.a,a.a({},this.props,{variantClassName:n?"ms-Button--compoundPrimary":"ms-Button--compound",styles:x(i,r,n)}))},t=a.b([Object(u.a)("CompoundButton",["theme","styles"],!0)],t)}(c.a),w=n(52),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._skipComponentRefResolution=!0,t}return a.c(t,e),t.prototype.render=function(){return s.createElement(y,a.a({},this.props,{primary:!0,onRenderDescription:c.b}))},t=a.b([Object(u.a)("PrimaryButton",["theme","styles"],!0)],t)}(c.a),S=function(e){function t(t){var n=e.call(this,t)||this;return n._skipComponentRefResolution=!0,Object(l.a)("The Button component has been deprecated. Use specific variants instead. (PrimaryButton, DefaultButton, IconButton, ActionButton, etc.)"),n}return a.c(t,e),t.prototype.render=function(){var e=this.props;switch(e.buttonType){case i.command:return s.createElement(b.a,a.a({},e));case i.compound:return s.createElement(_,a.a({},e));case i.icon:return s.createElement(w.a,a.a({},e));case i.primary:return s.createElement(M,a.a({},e));default:return s.createElement(y,a.a({},e))}},t}(c.a),C=Object(d.a)(function(e,t,n,r){var i,o,a,s,l=Object(p.a)(e),c=Object(f.a)(e),u={root:[Object(h.k)(e,-1,"relative",{left:4,top:4,bottom:4,right:4,border:"none"}),e.fonts.medium,{minWidth:"40px",backgroundColor:e.palette.neutralLighter,color:e.palette.neutralPrimary,padding:"0 4px",selectors:(i={},i[h.f]={border:"none"},i)}],rootHovered:{backgroundColor:e.palette.neutralLight,color:e.palette.neutralDark,selectors:(o={},o[h.f]={color:"Highlight"},o)},rootPressed:{backgroundColor:e.palette.neutralQuaternaryAlt,color:e.palette.black},rootChecked:{backgroundColor:e.palette.neutralQuaternaryAlt,color:e.palette.black},rootExpanded:{backgroundColor:e.palette.neutralQuaternaryAlt,color:e.palette.black},rootCheckedHovered:{backgroundColor:e.palette.neutralQuaternary,color:e.palette.black},splitButtonContainer:{selectors:(a={},a[h.f]={border:"none"},a)},splitButtonDivider:{backgroundColor:e.palette.neutralTertiaryAlt,marginTop:4,marginBottom:4},splitButtonMenuButton:{backgroundColor:e.palette.neutralLighter,color:e.palette.neutralPrimary,selectors:{":hover":{backgroundColor:e.palette.neutralLight,color:e.palette.neutralDark,selectors:(s={},s[h.f]={color:"Highlight"},s)}}},splitButtonMenuButtonDisabled:{backgroundColor:e.palette.neutralLighter,selectors:{":hover":{backgroundColor:e.palette.neutralLighter}}},splitButtonMenuButtonChecked:{backgroundColor:e.palette.neutralQuaternaryAlt,color:e.palette.black,selectors:{":hover":{backgroundColor:e.palette.neutralQuaternaryAlt}}},splitButtonMenuButtonExpanded:{backgroundColor:e.palette.neutralQuaternaryAlt,color:e.palette.black,selectors:{":hover":{backgroundColor:e.palette.neutralQuaternaryAlt}}},splitButtonMenuIcon:{color:e.palette.neutralPrimary},splitButtonMenuIconDisabled:{color:e.palette.neutralTertiary},label:{fontWeight:"normal"},icon:{color:e.palette.themeDarkAlt},menuIcon:{color:e.palette.neutralSecondary}};return Object(h.i)(l,u,c,t)}),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._skipComponentRefResolution=!0,t}return a.c(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,n=e.theme;return s.createElement(o.a,a.a({},this.props,{variantClassName:"ms-Button--commandBar",styles:C(n,t),onRenderDescription:c.b}))},t=a.b([Object(u.a)("CommandBarButton",["theme","styles"],!0)],t)}(c.a),T=n(79),L=Object(d.a)(function(e,t,n,r){var i=Object(p.a)(e),o={root:{backgroundColor:e.palette.neutralQuaternaryAlt,color:e.palette.neutralPrimary},rootHovered:{backgroundColor:e.palette.neutralTertiaryAlt,color:e.palette.neutralDark},rootPressed:{backgroundColor:e.palette.neutralTertiary,color:e.palette.neutralDark}};return Object(h.i)(i,o,t)}),P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.c(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,n=e.theme;return s.createElement(y,a.a({},this.props,{styles:L(n,t),onRenderDescription:c.b}))},t=a.b([Object(u.a)("MessageBarButton",["theme","styles"],!0)],t)}(c.a);n.d(t,"BaseButton",function(){return o.a}),n.d(t,"ElementType",function(){return r}),n.d(t,"ButtonType",function(){return i}),n.d(t,"Button",function(){return S}),n.d(t,"ActionButton",function(){return b.a}),n.d(t,"CommandBarButton",function(){return E}),n.d(t,"CommandButton",function(){return T.a}),n.d(t,"CompoundButton",function(){return _}),n.d(t,"DefaultButton",function(){return y}),n.d(t,"MessageBarButton",function(){return P}),n.d(t,"PrimaryButton",function(){return M}),n.d(t,"IconButton",function(){return w.a})},function(e,t,n){"use strict";n.r(t);var r=n(80),i=n(11);n.d(t,"FocusZone",function(){return r.a}),n.d(t,"FocusZoneTabbableElements",function(){return i.b}),n.d(t,"FocusZoneDirection",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"a",function(){return p});var r,i=n(10),o="left",a="right",s="@noflip",l=((r={})[o]=a,r[a]=o,r),c={"w-resize":"e-resize","sw-resize":"se-resize","nw-resize":"ne-resize"},u=d();function h(e){u!==e&&(i.a.getInstance().resetKeys(),u=e)}function d(){return void 0===u&&(u="undefined"!=typeof document&&!!document.documentElement&&"rtl"===document.documentElement.getAttribute("dir")),u}function p(e,t){if(d()){var n=e[t];if(!n)return;var r=e[t+1];if("string"==typeof r&&r.indexOf(s)>=0)e[t+1]=r.replace(/\s*(?:\/\*\s*)?\@noflip\b(?:\s*\*\/)?\s*?/g,"");else if(n.indexOf(o)>=0)e[t]=n.replace(o,a);else if(n.indexOf(a)>=0)e[t]=n.replace(a,o);else if(String(r).indexOf(o)>=0)e[t+1]=r.replace(o,a);else if(String(r).indexOf(a)>=0)e[t+1]=r.replace(a,o);else if(l[n])e[t]=l[n];else if(c[r])e[t+1]=c[r];else switch(n){case"margin":case"padding":e[t+1]=function(e){if("string"==typeof e){var t=e.split(" ");if(4===t.length)return t[0]+" "+t[3]+" "+t[2]+" "+t[1]}return e}(r);break;case"box-shadow":e[t+1]=function(e,t){var n=e.split(" "),r=parseInt(n[t],10);return n[0]=n[0].replace(String(r),String(-1*r)),n.join(" ")}(r,0)}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),i=n(0),o=n(58),a=n(34),s=n(96),l=Object(s.a)(),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.c(t,e),t.prototype.render=function(){var e=this.props,t=e.as,n=void 0===t?"label":t,a=e.children,s=e.className,c=e.disabled,u=e.styles,h=e.required,d=e.theme,p=l(u,{className:s,disabled:c,required:h,theme:d});return i.createElement(n,r.a({},Object(o.d)(this.props,o.c),{className:p.root}),a)},t}(a.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(1),i=n(0),o=n(96),a=n(24),s=n(134),l=n(34),c=n(61),u=n(136),h=Object(o.a)(),d=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._checkBox=i.createRef(),r._onFocus=function(e){var t=r.props.inputProps;t&&t.onFocus&&t.onFocus(e)},r._onBlur=function(e){var t=r.props.inputProps;t&&t.onBlur&&t.onBlur(e)},r._onClick=function(e){var t=r.props,n=t.disabled,i=t.onChange,o=r.state.isChecked;e.preventDefault(),e.stopPropagation(),n||(i&&i(e,!o),void 0===r.props.checked&&r.setState({isChecked:!o}))},r._onRenderLabel=function(e){var t=e.label;return t?i.createElement("span",{className:r._classNames.text},t):null},r._warnMutuallyExclusive({checked:"defaultChecked"}),r._id=r.props.id||Object(a.c)("checkbox-"),r.state={isChecked:!!(void 0!==t.checked?t.checked:t.defaultChecked)},r}return r.c(t,e),t.prototype.componentWillReceiveProps=function(e){void 0!==e.checked&&this.setState({isChecked:!!e.checked})},t.prototype.render=function(){var e=this,t=this.props,n=t.checked,o=t.className,a=t.defaultChecked,l=t.disabled,d=t.inputProps,p=t.name,f=t.boxSide,m=t.theme,g=t.ariaLabel,v=t.ariaLabelledBy,y=t.ariaDescribedBy,b=t.styles,x=t.onRenderLabel,_=void 0===x?this._onRenderLabel:x,w=t.checkmarkIconProps,M=t.ariaPositionInSet,S=t.ariaSetSize,C=t.keytipProps,E=t.title,T=void 0===n?this.state.isChecked:n,L="start"!==f;return this._classNames=h(b,{theme:m,className:o,disabled:l,checked:T,reversed:L,isUsingCustomLabelRender:_!==this._onRenderLabel}),i.createElement(u.a,{keytipProps:C,disabled:l},function(t){return i.createElement("button",r.a({},d,{"data-ktp-execute-target":t["data-ktp-execute-target"]},void 0!==n&&{checked:n},void 0!==a&&{defaultChecked:a},{disabled:l,ref:e._checkBox,name:p,id:e._id,role:"checkbox",type:"button",title:E,className:e._classNames.root,onClick:e._onClick,onFocus:e._onFocus,onBlur:e._onBlur,"aria-checked":T,"aria-disabled":l,"aria-label":g,"aria-labelledby":v,"aria-describedby":Object(s.a)(y,t["aria-describedby"]),"aria-posinset":M,"aria-setsize":S}),i.createElement("label",{className:e._classNames.label,htmlFor:e._id},i.createElement("div",{className:e._classNames.checkbox,"data-ktp-target":t["data-ktp-target"]},i.createElement(c.a,r.a({iconName:"CheckMark"},w,{className:e._classNames.checkmark}))),_(e.props,e._onRenderLabel)))})},Object.defineProperty(t.prototype,"checked",{get:function(){return this.state.isChecked},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this._checkBox.current&&this._checkBox.current.focus()},t.defaultProps={boxSide:"start"},t}(l.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),i=n(0),o=n(60),a=n(35),s=n(34),l=n(61),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openSubMenu=function(){var e=t.props,n=e.item,r=e.openSubMenu,i=e.getSubmenuTarget;if(i){var a=i();Object(o.b)(n)&&r&&a&&r(n,a)}},t.dismissSubMenu=function(){var e=t.props,n=e.item,r=e.dismissSubMenu;Object(o.b)(n)&&r&&r()},t.dismissMenu=function(e){var n=t.props.dismissMenu;n&&n(void 0,e)},t}return r.c(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=e.classNames;return i.createElement("div",{className:t.split?n.linkContentMenu:n.linkContent},function(e){var t=e.onCheckmarkClick,n=e.item,r=e.classNames,a=Object(o.a)(n);if(t)return i.createElement(l.a,{iconName:a?"CheckMark":"",className:r.checkmarkIcon,onClick:function(e){return t(n,e)}});return null}(this.props),function(e){var t=e.item,n=e.hasIcons,o=e.classNames,a=t.iconProps;return n?t.onRenderIcon?t.onRenderIcon(e):i.createElement(l.a,r.a({},a,{className:o.icon})):null}(this.props),function(e){var t=e.item,n=e.classNames;return t.text||t.name?i.createElement("span",{className:n.label},t.text||t.name):null}(this.props),function(e){var t=e.item,n=e.classNames;return t.secondaryText?i.createElement("span",{className:n.secondaryText},t.secondaryText):null}(this.props),function(e){var t=e.item,n=e.classNames;return Object(o.b)(t)?i.createElement(l.a,r.a({iconName:Object(a.a)()?"ChevronLeft":"ChevronRight"},t.submenuIconProps,{className:n.subMenuIcon})):null}(this.props))},t}(s.a)},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(13),a=n(5),s=n(11),l=n(80),c=n(96),u=n(7),h=n(149),d=n(150),p=n(35),f=n(9),m=n(24),g=n(135),v=n(6),y=n(34),b=n(60),x=["setState","render","componentWillMount","UNSAFE_componentWillMount","componentDidMount","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","getSnapshotBeforeUpdate","UNSAFE_componentWillUpdate","componentDidUpdate","componentWillUnmount"];var _,w=function(e){function t(t){var n=e.call(this,t)||this;return n._skipComponentRefResolution=!0,n._updateComposedComponentRef=n._updateComposedComponentRef.bind(n),n}return r.c(t,e),t.prototype._updateComposedComponentRef=function(e){var t;this._composedComponentInstance=e,e?this._hoisted=function(e,t,n){void 0===n&&(n=x);var r=[],i=function(i){"function"!=typeof t[i]||void 0!==e[i]||n&&-1!==n.indexOf(i)||(r.push(i),e[i]=function(){t[i].apply(t,arguments)})};for(var o in t)i(o);return r}(this,e):this._hoisted&&(t=this,this._hoisted.forEach(function(e){return delete t[e]}))},t}(y.a),M=n(95);!function(e){e[e.small=0]="small",e[e.medium=1]="medium",e[e.large=2]="large",e[e.xLarge=3]="xLarge",e[e.xxLarge=4]="xxLarge",e[e.xxxLarge=5]="xxxLarge"}(_||(_={}));var S,C=[479,639,1023,1365,1919,99999999];function E(e){var t=function(t){function n(e){var n=t.call(this,e)||this;return n._updateComposedComponentRef=n._updateComposedComponentRef.bind(n),n.state={responsiveMode:n._getResponsiveMode()},n}return r.c(n,t),n.prototype.componentDidMount=function(){var e=this;this._events.on(window,"resize",function(){var t=e._getResponsiveMode();t!==e.state.responsiveMode&&e.setState({responsiveMode:t})})},n.prototype.componentWillUnmount=function(){this._events.dispose()},n.prototype.render=function(){var t=this.state.responsiveMode;return i.createElement(e,r.a({ref:this._updateComposedComponentRef,responsiveMode:t},this.props))},n.prototype._getResponsiveMode=function(){var e=_.small,t=Object(v.f)();if(void 0!==t)try{for(;t.innerWidth>C[e];)e++}catch(t){e=_.large}else{if(void 0===S)throw new Error("Content was rendered in a server environment without providing a default responsive mode. Call setResponsiveMode to define what the responsive mode is.");e=S}return e},n}(w);return Object(M.a)(e,t)}var T=n(151),L=n(51),P=n(17),k=n(58),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onItemMouseEnter=function(e){var n=t.props,r=n.item,i=n.onItemMouseEnter;i&&i(r,e,e.currentTarget)},t._onItemClick=function(e){var n=t.props,r=n.item,i=n.onItemClickBase;i&&i(r,e,e.currentTarget)},t._onItemMouseLeave=function(e){var n=t.props,r=n.item,i=n.onItemMouseLeave;i&&i(r,e)},t._onItemKeyDown=function(e){var n=t.props,r=n.item,i=n.onItemKeyDown;i&&i(r,e)},t._onItemMouseMove=function(e){var n=t.props,r=n.item,i=n.onItemMouseMove;i&&i(r,e,e.currentTarget)},t._getSubMenuId=function(e){var n=t.props.getSubMenuId;if(n)return n(e)},t._getSubmenuTarget=function(){},t}return r.c(t,e),t}(y.a),I=n(136),O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._anchor=i.createRef(),t._getSubmenuTarget=function(){return t._anchor.current?t._anchor.current:void 0},t._onItemClick=function(e){var n=t.props,r=n.item,i=n.onItemClick;i&&i(r,e)},t}return r.c(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.item,o=t.classNames,a=t.index,s=t.focusableElementIndex,l=t.totalItemCount,c=t.hasCheckmarks,u=t.hasIcons,h=t.contextualMenuItemAs,d=void 0===h?P.a:h,p=t.expandedMenuItemKey,f=t.onItemClick,m=t.openSubMenu,g=t.dismissSubMenu,v=t.dismissMenu,y=n.rel;n.target&&"_blank"===n.target.toLowerCase()&&(y=y||"nofollow noopener noreferrer");var x=this._getSubMenuId(n),_=Object(b.b)(n),w=Object(k.d)(n,k.a),M=Object(b.c)(n),S=n.itemProps,C=n.keytipProps;return C&&_&&(C=r.a({},C,{hasMenu:!0})),i.createElement("div",null,i.createElement(I.a,{keytipProps:n.keytipProps,ariaDescribedBy:w["aria-describedby"],disabled:M},function(t){return i.createElement("a",r.a({},w,t,{ref:e._anchor,href:n.href,target:n.target,rel:y,className:o.root,role:"menuitem","aria-owns":n.key===p?x:void 0,"aria-haspopup":_||void 0,"aria-expanded":_?n.key===p:void 0,"aria-posinset":s+1,"aria-setsize":l,"aria-disabled":Object(b.c)(n),style:n.style,onClick:e._onItemClick,onMouseEnter:e._onItemMouseEnter,onMouseLeave:e._onItemMouseLeave,onMouseMove:e._onItemMouseMove,onKeyDown:_?e._onItemKeyDown:null}),i.createElement(d,r.a({componentRef:n.componentRef,item:n,classNames:o,index:a,onCheckmarkClick:c&&f?f:void 0,hasIcons:u,openSubMenu:m,dismissSubMenu:g,dismissMenu:v,getSubmenuTarget:e._getSubmenuTarget},S)))}))},t}(A),R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._btn=i.createRef(),t._getSubmenuTarget=function(){return t._btn.current?t._btn.current:void 0},t}return r.c(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.item,o=t.classNames,a=t.index,s=t.focusableElementIndex,l=t.totalItemCount,c=t.hasCheckmarks,u=t.hasIcons,h=t.contextualMenuItemAs,d=void 0===h?P.a:h,p=t.expandedMenuItemKey,f=t.onItemMouseDown,m=t.onItemClick,g=t.openSubMenu,v=t.dismissSubMenu,y=t.dismissMenu,x=this._getSubMenuId(n),_=Object(b.a)(n),w=null!==_,M=w?"menuitemcheckbox":"menuitem",S=Object(b.b)(n),C=n.itemProps,E=n.ariaLabel,T=Object(k.d)(n,k.b);delete T.disabled;var L={className:o.root,onClick:this._onItemClick,onKeyDown:S?this._onItemKeyDown:null,onMouseEnter:this._onItemMouseEnter,onMouseLeave:this._onItemMouseLeave,onMouseDown:function(e){return f?f(n,e):void 0},onMouseMove:this._onItemMouseMove,href:n.href,title:n.title,"aria-label":E,"aria-haspopup":S||void 0,"aria-owns":n.key===p?x:void 0,"aria-expanded":S?n.key===p:void 0,"aria-checked":w?!!_:void 0,"aria-posinset":s+1,"aria-setsize":l,"aria-disabled":Object(b.c)(n),role:n.role||M,style:n.style},A=n.keytipProps;return A&&S&&(A=r.a({},A,{hasMenu:!0})),i.createElement(I.a,{keytipProps:A,ariaDescribedBy:T["aria-describedby"],disabled:Object(b.c)(n)},function(t){return i.createElement("button",r.a({ref:e._btn},T,L,t),i.createElement(d,r.a({componentRef:n.componentRef,item:n,classNames:o,index:a,onCheckmarkClick:c&&m?m:void 0,hasIcons:u,openSubMenu:g,dismissSubMenu:v,dismissMenu:y,getSubmenuTarget:e._getSubmenuTarget},C)))})},t}(A),D=n(134),N=n(33),B=n(56),F=n(3),j=function(e){var t=Object(F.o)(),n=e.getClassNames?e.getClassNames(t):Object(B.a)(t);return i.createElement("span",{className:n.wrapper},i.createElement("span",{className:n.divider}))},H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onItemKeyDown=function(e){var n=t.props,r=n.item,i=n.onItemKeyDown;e.which===u.a.enter?(t._executeItemClick(e),e.preventDefault(),e.stopPropagation()):i&&i(r,e)},t._getSubmenuTarget=function(){return t._splitButton},t._onItemMouseEnterPrimary=function(e){var n=t.props,i=n.item,o=n.onItemMouseEnter;o&&o(r.a({},i,{subMenuProps:void 0,items:void 0}),e,t._splitButton)},t._onItemMouseEnterIcon=function(e){var n=t.props,r=n.item,i=n.onItemMouseEnter;i&&i(r,e,t._splitButton)},t._onItemMouseMovePrimary=function(e){var n=t.props,i=n.item,o=n.onItemMouseMove;o&&o(r.a({},i,{subMenuProps:void 0,items:void 0}),e,t._splitButton)},t._onItemMouseMoveIcon=function(e){var n=t.props,r=n.item,i=n.onItemMouseMove;i&&i(r,e,t._splitButton)},t._onIconItemClick=function(e){var n=t.props,r=n.item,i=n.onItemClickBase;i&&i(r,e,t._splitButton?t._splitButton:e.currentTarget)},t._executeItemClick=function(e){var n=t.props,r=n.item,i=n.executeItemClick,o=n.onItemClick;if(!r.disabled&&!r.isDisabled)return t._processingTouch&&o?o(r,e):void(i&&i(r,e))},t._onTouchStart=function(e){!t._splitButton||"onpointerdown"in t._splitButton||t._handleTouchAndPointerEvent(e)},t._onPointerDown=function(e){"touch"===e.pointerType&&(t._handleTouchAndPointerEvent(e),e.preventDefault(),e.stopImmediatePropagation())},t}return r.c(t,e),t.prototype.componentDidMount=function(){this._splitButton&&"onpointerdown"in this._splitButton&&this._events.on(this._splitButton,"pointerdown",this._onPointerDown,!0)},t.prototype.render=function(){var e=this,t=this.props,n=t.item,o=t.classNames,a=t.index,s=t.focusableElementIndex,l=t.totalItemCount,c=t.hasCheckmarks,u=t.hasIcons,h=t.onItemMouseLeave,d=t.expandedMenuItemKey,p=Object(b.b)(n),f=n.keytipProps;return f&&(f=r.a({},f,{hasMenu:!0})),i.createElement(I.a,{keytipProps:f,disabled:Object(b.c)(n)},function(t){return i.createElement("div",{"data-ktp-target":t["data-ktp-target"],ref:function(t){return e._splitButton=t},role:"menuitem","aria-label":n.ariaLabel,className:o.splitContainer,"aria-disabled":Object(b.c)(n),"aria-expanded":p?n.key===d:void 0,"aria-haspopup":!0,"aria-describedby":Object(D.a)(n.ariaDescription,t["aria-describedby"]),"aria-checked":n.isChecked||n.checked,"aria-posinset":s+1,"aria-setsize":l,onMouseEnter:e._onItemMouseEnterPrimary,onMouseLeave:h?h.bind(e,r.a({},n,{subMenuProps:null,items:null})):void 0,onMouseMove:e._onItemMouseMovePrimary,onKeyDown:e._onItemKeyDown,onClick:e._executeItemClick,onTouchStart:e._onTouchStart,tabIndex:0,"data-is-focusable":!0,"aria-roledescription":n["aria-roledescription"]},e._renderSplitPrimaryButton(n,o,a,c,u),e._renderSplitDivider(n),e._renderSplitIconButton(n,o,a,t))})},t.prototype._renderSplitPrimaryButton=function(e,t,n,o,a){var s=this.props,l=s.contextualMenuItemAs,c=void 0===l?P.a:l,u=s.onItemClick,h={key:e.key,disabled:Object(b.c)(e)||e.primaryDisabled,name:e.name,text:e.text||e.name,className:t.splitPrimary,canCheck:e.canCheck,isChecked:e.isChecked,checked:e.checked,iconProps:e.iconProps,"data-is-focusable":!1,"aria-hidden":!0},d=e.itemProps;return i.createElement("button",r.a({},Object(k.d)(h,k.b)),i.createElement(c,r.a({"data-is-focusable":!1,item:h,classNames:t,index:n,onCheckmarkClick:o&&u?u:void 0,hasIcons:a},d)))},t.prototype._renderSplitDivider=function(e){var t=e.getSplitButtonVerticalDividerClassNames||N.b;return i.createElement(j,{getClassNames:t})},t.prototype._renderSplitIconButton=function(e,t,n,o){var a=this.props,s=a.contextualMenuItemAs,l=void 0===s?P.a:s,c=a.onItemMouseLeave,u=a.onItemMouseDown,h=a.openSubMenu,d=a.dismissSubMenu,p=a.dismissMenu,f={onClick:this._onIconItemClick,disabled:Object(b.c)(e),className:t.splitMenu,subMenuProps:e.subMenuProps,submenuIconProps:e.submenuIconProps,split:!0,key:e.key},g=Object(m.a)({},Object(k.d)(f,k.b),{onMouseEnter:this._onItemMouseEnterIcon,onMouseLeave:c?c.bind(this,e):void 0,onMouseDown:function(t){return u?u(e,t):void 0},onMouseMove:this._onItemMouseMoveIcon,"data-is-focusable":!1,"data-ktp-execute-target":o["data-ktp-execute-target"],"aria-hidden":!0}),v=e.itemProps;return i.createElement("button",r.a({},g),i.createElement(l,r.a({componentRef:e.componentRef,item:f,classNames:t,index:n,hasIcons:!1,openSubMenu:h,dismissSubMenu:d,dismissMenu:p,getSubmenuTarget:this._getSubmenuTarget},v)))},t.prototype._handleTouchAndPointerEvent=function(e){var t=this,n=this.props.onTap;n&&n(e),this._lastTouchTimeoutId&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout(function(){t._processingTouch=!1,t._lastTouchTimeoutId=void 0},500)},t}(A);n.d(t,"c",function(){return G}),n.d(t,"b",function(){return V}),n.d(t,"a",function(){return q});var z=Object(c.a)(),U=Object(c.a)();function G(e){return e.subMenuProps?e.subMenuProps.items:e.items}function V(e){return e.some(function(e){return!!e.canCheck||!(!e.sectionProps||!e.sectionProps.items.some(function(e){return!0===e.canCheck}))})}var W=250,q=function(e){function t(t){var n=e.call(this,t)||this;return n._mounted=!1,n.dismiss=function(e,t){var r=n.props.onDismiss;r&&r(e,t)},n._onRenderMenuList=function(e,t){var r=0;return i.createElement("ul",{className:n._classNames.list,onKeyDown:n._onKeyDown,onKeyUp:n._onKeyUp},e.items.map(function(t,i){var a=n._renderMenuItem(t,i,r,e.totalItemCount,e.hasCheckmarks,e.hasIcons);if(t.itemType!==o.a.Divider&&t.itemType!==o.a.Header){var s=t.customOnRenderListLength?t.customOnRenderListLength:1;r+=s}return a}))},n._onKeyDown=function(e){n._lastKeyDownWasAltOrMeta=n._isAltOrMeta(e);var t=e.which===u.a.escape&&(Object(h.a)()||Object(d.a)());return n._keyHandler(e,n._shouldHandleKeyDown,t)},n._shouldHandleKeyDown=function(e){return e.which===u.a.escape||n._shouldCloseSubMenu(e)||e.which===u.a.up&&(e.altKey||e.metaKey)},n._onMenuFocusCapture=function(e){n.props.delayUpdateFocusOnHover&&(n._shouldUpdateFocusOnMouseEvent=!0)},n._onKeyUp=function(e){return n._keyHandler(e,n._shouldHandleKeyUp,!0)},n._shouldHandleKeyUp=function(e){var t=n._lastKeyDownWasAltOrMeta&&n._isAltOrMeta(e);return n._lastKeyDownWasAltOrMeta=!1,!!t&&!(Object(d.a)()||Object(h.a)())},n._keyHandler=function(e,t,r){var i=!1;return t(e)&&(n._isFocusingPreviousElement=!0,e.preventDefault(),e.stopPropagation(),n.dismiss(e,r),i=!0),i},n._shouldCloseSubMenu=function(e){var t=Object(p.a)()?u.a.right:u.a.left;return!(e.which!==t||!n.props.isSubMenu)&&(n._adjustedFocusZoneProps.direction===s.a.vertical||!!n._adjustedFocusZoneProps.checkForNoWrap&&!Object(f.k)(e.target,"data-no-horizontal-wrap"))},n._onMenuKeyDown=function(e){if(!n._onKeyDown(e)&&n._host){var t=!(!e.altKey&&!e.metaKey),r=e.which===u.a.up,i=e.which===u.a.down;if(!t&&(r||i)){var o=r?Object(f.e)(n._host,n._host.lastChild,!0):Object(f.d)(n._host,n._host.firstChild,!0);o&&(o.focus(),e.preventDefault(),e.stopPropagation())}}},n._onScroll=function(){n._isScrollIdle||void 0===n._scrollIdleTimeoutId?n._isScrollIdle=!1:(n._async.clearTimeout(n._scrollIdleTimeoutId),n._scrollIdleTimeoutId=void 0),n._scrollIdleTimeoutId=n._async.setTimeout(function(){n._isScrollIdle=!0},W)},n._onItemMouseEnterBase=function(e,t,r){n._shouldIgnoreMouseEvent()||n._updateFocusOnMouseEvent(e,t,r)},n._onItemMouseMoveBase=function(e,t,r){var i=t.currentTarget;n._shouldUpdateFocusOnMouseEvent&&(n._gotMouseMove=!0,n._isScrollIdle&&void 0===n._enterTimerId&&i!==n._targetWindow.document.activeElement&&n._updateFocusOnMouseEvent(e,t,r))},n._onMouseItemLeave=function(e,t){if(!n._shouldIgnoreMouseEvent()&&(void 0!==n._enterTimerId&&(n._async.clearTimeout(n._enterTimerId),n._enterTimerId=void 0),void 0===n.state.expandedMenuItemKey))if(n._host.setActive)try{n._host.setActive()}catch(e){}else n._host.focus()},n._onItemMouseDown=function(e,t){e.onMouseDown&&e.onMouseDown(e,t)},n._onItemClick=function(e,t){n._onItemClickBase(e,t,t.currentTarget)},n._onItemClickBase=function(e,t,r){var i=G(e);n._cancelSubMenuTimer(),Object(b.b)(e)||i&&i.length?e.key!==n.state.expandedMenuItemKey&&(n.setState({expandedByMouseClick:0!==t.nativeEvent.detail}),n._onItemSubMenuExpand(e,r)):n._executeItemClick(e,t),t.stopPropagation(),t.preventDefault()},n._onAnchorClick=function(e,t){n._executeItemClick(e,t),t.stopPropagation()},n._executeItemClick=function(e,t){if(!e.disabled&&!e.isDisabled){var r=!1;e.onClick?r=!!e.onClick(t,e):n.props.onItemClick&&(r=!!n.props.onItemClick(t,e)),(r||!t.defaultPrevented)&&n.dismiss(t,!0)}},n._onItemKeyDown=function(e,t){var r=Object(p.a)()?u.a.left:u.a.right;e.disabled||t.which!==r&&t.which!==u.a.enter&&(t.which!==u.a.down||!t.altKey&&!t.metaKey)||(n.setState({expandedByMouseClick:!1}),n._onItemSubMenuExpand(e,t.currentTarget),t.preventDefault())},n._cancelSubMenuTimer=function(){void 0!==n._enterTimerId&&(n._async.clearTimeout(n._enterTimerId),n._enterTimerId=void 0)},n._onItemSubMenuExpand=function(e,t){n.state.expandedMenuItemKey!==e.key&&(n.state.expandedMenuItemKey&&n._onSubMenuDismiss(),t.focus(),n.setState({expandedMenuItemKey:e.key,submenuTarget:t}))},n._onSubMenuDismiss=function(e,t){t?n.dismiss(e,t):n._mounted&&n.setState({dismissedMenuItemKey:n.state.expandedMenuItemKey,expandedMenuItemKey:void 0,submenuTarget:void 0})},n._getSubMenuId=function(e){var t=n.state.subMenuId;return e.subMenuProps&&e.subMenuProps.id&&(t=e.subMenuProps.id),t},n._onPointerAndTouchEvent=function(e){n._cancelSubMenuTimer()},n.state={contextualMenuItems:void 0,subMenuId:Object(m.c)("ContextualMenu")},n._warnDeprecations({getMenuClassNames:"styles"}),n._isFocusingPreviousElement=!1,n._isScrollIdle=!0,n._shouldUpdateFocusOnMouseEvent=!n.props.delayUpdateFocusOnHover,n._gotMouseMove=!1,n}return r.c(t,e),t.prototype.componentWillUpdate=function(e){if(e.target!==this.props.target){var t=e.target;this._setTargetWindowAndElement(t)}e.hidden!==this.props.hidden&&(e.hidden?this._onMenuClosed():(this._onMenuOpened(),this._previousActiveElement=this._targetWindow?this._targetWindow.document.activeElement:null)),e.delayUpdateFocusOnHover!==this.props.delayUpdateFocusOnHover&&(this._shouldUpdateFocusOnMouseEvent=!e.delayUpdateFocusOnHover,this._gotMouseMove=this._shouldUpdateFocusOnMouseEvent&&this._gotMouseMove)},t.prototype.componentWillMount=function(){var e=this.props.target;this._setTargetWindowAndElement(e),this.props.hidden||(this._previousActiveElement=this._targetWindow?this._targetWindow.document.activeElement:null)},t.prototype.componentDidMount=function(){this.props.hidden||this._onMenuOpened(),this._mounted=!0},t.prototype.componentWillUnmount=function(){var e=this;this._isFocusingPreviousElement&&this._previousActiveElement&&setTimeout(function(){e._previousActiveElement&&e._previousActiveElement.focus()},0),this.props.onMenuDismissed&&this.props.onMenuDismissed(this.props),this._events.dispose(),this._async.dispose(),this._mounted=!1},t.prototype.render=function(){var e=this,t=this.props.isBeakVisible,n=this.props,a=n.items,c=n.labelElementId,u=n.id,h=n.className,d=n.beakWidth,p=n.directionalHint,f=n.directionalHintForRTL,m=n.alignTargetEdge,v=n.gapSpace,y=n.coverTarget,b=n.ariaLabel,x=n.doNotLayer,w=n.target,M=n.bounds,S=n.useTargetWidth,C=n.useTargetAsMinWidth,E=n.directionalHintFixed,L=n.shouldFocusOnMount,P=n.shouldFocusOnContainer,k=n.title,A=n.styles,I=n.theme,O=n.calloutProps,R=n.onRenderSubMenu,D=void 0===R?this._onRenderSubMenu:R,N=n.onRenderMenuList,B=void 0===N?this._onRenderMenuList:N,F=n.focusZoneProps,j=n.getMenuClassNames;this._classNames=j?j(I,h):z(A,{theme:I,className:h});var H=function e(t){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i.iconProps)return!0;if(i.itemType===o.a.Section&&i.sectionProps&&e(i.sectionProps.items))return!0}return!1}(a);this._adjustedFocusZoneProps=r.a({},F,{direction:this._getFocusZoneDirection()});var U,G=V(a),W=this.state.expandedMenuItemKey?this._getSubmenuProps():null;t=void 0===t?this.props.responsiveMode<=_.medium:t;var q=this._target;if((S||C)&&q&&q.offsetWidth){var K=q.getBoundingClientRect().width-2;S?U={width:K}:C&&(U={minWidth:K})}if(a&&a.length>0){for(var X=0,Y=0,Z=a;Y<Z.length;Y++){var J=Z[Y];if(J.itemType!==o.a.Divider&&J.itemType!==o.a.Header)X+=J.customOnRenderListLength?J.customOnRenderListLength:1}var Q=!j&&this._classNames.subComponentStyles?this._classNames.subComponentStyles.callout:void 0;return i.createElement(T.a,r.a({styles:Q},O,{target:w,isBeakVisible:t,beakWidth:d,directionalHint:p,directionalHintForRTL:f,gapSpace:v,coverTarget:y,doNotLayer:x,className:Object(g.a)("ms-ContextualMenu-Callout",O?O.className:void 0),setInitialFocus:L,onDismiss:this.props.onDismiss,onScroll:this._onScroll,bounds:M,directionalHintFixed:E,alignTargetEdge:m,hidden:this.props.hidden}),i.createElement("div",{role:"menu","aria-label":b,"aria-labelledby":c,style:U,ref:function(t){return e._host=t},id:u,className:this._classNames.container,tabIndex:P?0:-1,onKeyDown:this._onMenuKeyDown,onKeyUp:this._onKeyUp,onFocusCapture:this._onMenuFocusCapture},k&&i.createElement("div",{className:this._classNames.title}," ",k," "),a&&a.length?i.createElement(l.a,r.a({},this._adjustedFocusZoneProps,{className:this._classNames.root,isCircularNavigation:!0,handleTabKey:s.b.all}),B({items:a,totalItemCount:X,hasCheckmarks:G,hasIcons:H},this._onRenderMenuList)):null,W&&D(W,this._onRenderSubMenu)))}return null},t.prototype._onMenuOpened=function(){this._events.on(this._targetWindow,"resize",this.dismiss),this._shouldUpdateFocusOnMouseEvent=!this.props.delayUpdateFocusOnHover,this._gotMouseMove=!1,this.props.onMenuOpened&&this.props.onMenuOpened(this.props)},t.prototype._onMenuClosed=function(){var e=this;this._events.off(this._targetWindow,"resize",this.dismiss),this._previousActiveElement&&this._async.setTimeout(function(){e._previousActiveElement&&e._previousActiveElement.focus()},0),this._shouldUpdateFocusOnMouseEvent=!this.props.delayUpdateFocusOnHover},t.prototype._getFocusZoneDirection=function(){var e=this.props.focusZoneProps;return e&&void 0!==e.direction?e.direction:s.a.vertical},t.prototype._onRenderSubMenu=function(e){return i.createElement(L.a,r.a({},e))},t.prototype._renderMenuItem=function(e,t,n,r,i,a){var s,l=[],c=e.iconProps||{iconName:"None"},u=e.getItemClassNames,h=e.itemProps,d=h?h.styles:void 0,p=e.itemType===o.a.Divider?e.className:void 0,f=e.submenuIconProps?e.submenuIconProps.className:"";if(u)s=u(this.props.theme,Object(b.c)(e),this.state.expandedMenuItemKey===e.key,!!Object(b.a)(e),!!e.href,"None"!==c.iconName,e.className,p,c.className,f,e.primaryDisabled);else{var m={theme:this.props.theme,disabled:Object(b.c)(e),expanded:this.state.expandedMenuItemKey===e.key,checked:!!Object(b.a)(e),isAnchorLink:!!e.href,knownIcon:"None"!==c.iconName,itemClassName:e.className,dividerClassName:p,iconClassName:c.className,subMenuClassName:f,primaryDisabled:e.primaryDisabled},g=this._classNames.subComponentStyles?this._classNames.subComponentStyles.menuItem:void 0;s=Object(F.q)(U(N.a,m),U(g,m),U(d,m))}switch("-"!==e.text&&"-"!==e.name||(e.itemType=o.a.Divider),e.itemType){case o.a.Divider:l.push(this._renderSeparator(t,s));break;case o.a.Header:l.push(this._renderSeparator(t,s));var v=this._renderHeaderMenuItem(e,s,t,i,a);l.push(this._renderListItem(v,e.key||t,s,e.title));break;case o.a.Section:l.push(this._renderSectionItem(e,s,t,i,a));break;default:var y=this._renderNormalItem(e,s,t,n,r,i,a);l.push(this._renderListItem(y,e.key||t,s,e.title))}return l},t.prototype._renderSectionItem=function(e,t,n,r,a){var s=this,l=e.sectionProps;if(l){var c;if(l.title){var u={key:"section-"+l.title+"-title",itemType:o.a.Header,text:l.title};c=this._renderHeaderMenuItem(u,t,n,r,a)}return l.items&&l.items.length>0?i.createElement("li",{role:"presentation",key:l.key},i.createElement("div",{role:"group"},i.createElement("ul",{className:this._classNames.list},l.topDivider&&this._renderSeparator(n,t,!0,!0),c&&this._renderListItem(c,e.key||n,t,e.title),l.items.map(function(e,t){return s._renderMenuItem(e,t,t,l.items.length,r,a)}),l.bottomDivider&&this._renderSeparator(n,t,!1,!0)))):void 0}},t.prototype._renderListItem=function(e,t,n,r){return i.createElement("li",{role:"presentation",title:r,key:t,className:n.item},e)},t.prototype._renderSeparator=function(e,t,n,r){return r||e>0?i.createElement("li",{role:"separator",key:"separator-"+e+(void 0===n?"":n?"-top":"-bottom"),className:t.divider,"aria-hidden":"true"}):null},t.prototype._renderNormalItem=function(e,t,n,i,o,a,s){return e.onRender?e.onRender(r.a({"aria-posinset":i+1,"aria-setsize":o},e),this.dismiss):e.href?this._renderAnchorMenuItem(e,t,n,i,o,a,s):e.split&&Object(b.b)(e)?this._renderSplitButton(e,t,n,i,o,a,s):this._renderButtonItem(e,t,n,i,o,a,s)},t.prototype._renderHeaderMenuItem=function(e,t,n,o,a){var s=this.props.contextualMenuItemAs,l=void 0===s?P.a:s,c=e.itemProps;return i.createElement("div",{className:this._classNames.header,style:e.style},i.createElement(l,r.a({item:e,classNames:t,index:n,onCheckmarkClick:o?this._onItemClick:void 0,hasIcons:a},c)))},t.prototype._renderAnchorMenuItem=function(e,t,n,r,o,a,s){var l=this.props.contextualMenuItemAs,c=this.state.expandedMenuItemKey;return i.createElement(O,{item:e,classNames:t,index:n,focusableElementIndex:r,totalItemCount:o,hasCheckmarks:a,hasIcons:s,contextualMenuItemAs:l,onItemMouseEnter:this._onItemMouseEnterBase,onItemMouseLeave:this._onMouseItemLeave,onItemMouseMove:this._onItemMouseMoveBase,onItemMouseDown:this._onItemMouseDown,executeItemClick:this._executeItemClick,onItemClick:this._onAnchorClick,onItemKeyDown:this._onItemKeyDown,getSubMenuId:this._getSubMenuId,expandedMenuItemKey:c,openSubMenu:this._onItemSubMenuExpand,dismissSubMenu:this._onSubMenuDismiss,dismissMenu:this.dismiss})},t.prototype._renderButtonItem=function(e,t,n,r,o,a,s){var l=this.props.contextualMenuItemAs,c=this.state.expandedMenuItemKey;return i.createElement(R,{item:e,classNames:t,index:n,focusableElementIndex:r,totalItemCount:o,hasCheckmarks:a,hasIcons:s,contextualMenuItemAs:l,onItemMouseEnter:this._onItemMouseEnterBase,onItemMouseLeave:this._onMouseItemLeave,onItemMouseMove:this._onItemMouseMoveBase,onItemMouseDown:this._onItemMouseDown,executeItemClick:this._executeItemClick,onItemClick:this._onItemClick,onItemClickBase:this._onItemClickBase,onItemKeyDown:this._onItemKeyDown,getSubMenuId:this._getSubMenuId,expandedMenuItemKey:c,openSubMenu:this._onItemSubMenuExpand,dismissSubMenu:this._onSubMenuDismiss,dismissMenu:this.dismiss})},t.prototype._renderSplitButton=function(e,t,n,r,o,a,s){var l=this.props.contextualMenuItemAs,c=this.state.expandedMenuItemKey;return i.createElement(H,{item:e,classNames:t,index:n,focusableElementIndex:r,totalItemCount:o,hasCheckmarks:a,hasIcons:s,contextualMenuItemAs:l,onItemMouseEnter:this._onItemMouseEnterBase,onItemMouseLeave:this._onMouseItemLeave,onItemMouseMove:this._onItemMouseMoveBase,onItemMouseDown:this._onItemMouseDown,executeItemClick:this._executeItemClick,onItemClick:this._onItemClick,onItemClickBase:this._onItemClickBase,onItemKeyDown:this._onItemKeyDown,openSubMenu:this._onItemSubMenuExpand,dismissSubMenu:this._onSubMenuDismiss,dismissMenu:this.dismiss,expandedMenuItemKey:c,onTap:this._onPointerAndTouchEvent})},t.prototype._isAltOrMeta=function(e){return e.which===u.a.alt||"Meta"===e.key},t.prototype._shouldIgnoreMouseEvent=function(){return!this._isScrollIdle||!this._gotMouseMove},t.prototype._updateFocusOnMouseEvent=function(e,t,n){var r=this,i=n||t.currentTarget,o=this.props.subMenuHoverDelay,a=void 0===o?W:o;e.key!==this.state.expandedMenuItemKey&&(void 0!==this._enterTimerId&&(this._async.clearTimeout(this._enterTimerId),this._enterTimerId=void 0),void 0===this.state.expandedMenuItemKey&&i.focus(),Object(b.b)(e)?(t.stopPropagation(),this._enterTimerId=this._async.setTimeout(function(){i.focus(),r.setState({expandedByMouseClick:!0}),r._onItemSubMenuExpand(e,i),r._enterTimerId=void 0},a)):this._enterTimerId=this._async.setTimeout(function(){r._onSubMenuDismiss(t),i.focus(),r._enterTimerId=void 0},a))},t.prototype._getSubmenuProps=function(){var e=this.state,t=e.submenuTarget,n=e.expandedMenuItemKey,r=this._findItemByKey(n),i=null;return r&&(i={items:G(r),target:t,onDismiss:this._onSubMenuDismiss,isSubMenu:!0,id:this.state.subMenuId,shouldFocusOnMount:!0,shouldFocusOnContainer:this.state.expandedByMouseClick,directionalHint:Object(p.a)()?a.a.leftTopEdge:a.a.rightTopEdge,className:this.props.className,gapSpace:0,isBeakVisible:!1},r.subMenuProps&&Object(m.a)(i,r.subMenuProps)),i},t.prototype._findItemByKey=function(e){var t=this.props.items;return this._findItemByKeyFromItems(e,t)},t.prototype._findItemByKeyFromItems=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i.itemType===o.a.Section&&i.sectionProps){var a=this._findItemByKeyFromItems(e,i.sectionProps.items);if(a)return a}else if(i.key&&i.key===e)return i}},t.prototype._setTargetWindowAndElement=function(e){if(e)if("string"==typeof e){var t=Object(v.d)();this._target=t?t.querySelector(e):null,this._targetWindow=Object(v.f)()}else if(e.stopPropagation)this._targetWindow=Object(v.f)(e.toElement),this._target=e;else if(void 0!==e.x&&void 0!==e.y)this._targetWindow=Object(v.f)(),this._target=e;else{var n=e;this._targetWindow=Object(v.f)(n),this._target=e}else this._targetWindow=Object(v.f)()},t.defaultProps={items:[],shouldFocusOnMount:!0,gapSpace:0,directionalHint:a.a.bottomAutoEdge,beakWidth:16},t=r.b([E],t)}(y.a)},function(e,t,n){"use strict";var r=n(133),i=n(50),o=n(3),a=n(39),s={root:"ms-ContextualMenu",container:"ms-ContextualMenu-container",list:"ms-ContextualMenu-list",header:"ms-ContextualMenu-header",title:"ms-ContextualMenu-title",isopen:"is-open"};n.d(t,"a",function(){return l});var l=Object(r.a)(i.a,function(e){var t=e.className,n=e.theme,r=Object(o.l)(s,n),i=n.palette,l=n.fonts,c=n.semanticColors;return{root:[n.fonts.medium,r.root,r.isopen,{backgroundColor:c.bodyBackground,minWidth:"180px"},t],container:[r.container,{selectors:{":focus":{outline:0}}}],list:[r.list,r.isopen,{listStyleType:"none",margin:"0",padding:"0"}],header:[r.header,l.small,{fontWeight:o.e.semibold,color:c.menuHeader,background:"none",backgroundColor:"transparent",border:"none",height:a.a,lineHeight:a.a,cursor:"default",padding:"0px 6px",userSelect:"none",textAlign:"left"}],title:[r.title,{fontSize:"16px",paddingRight:"14px",paddingLeft:"14px",paddingBottom:"5px",paddingTop:"5px",backgroundColor:i.neutralLight}],subComponentStyles:{callout:{},menuItem:{}}}},void 0,{scope:"ContextualMenu"})},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(15),a=n(34),s=n(148),l=n(3),c=n(25),u=n(16),h=n(23),d=Object(c.a)(function(e,t){var n,r=Object(u.a)(e),i=Object(h.a)(e),o=e.palette,a=e.semanticColors,s={root:{padding:"0 4px",width:"32px",height:"32px",backgroundColor:"transparent",border:"none",color:a.actionLink},rootHovered:{color:a.actionLinkHovered,selectors:(n={},n[l.f]={borderColor:"Highlight",color:"Highlight"},n)},rootPressed:{color:o.themePrimary},rootExpanded:{color:o.themePrimary},rootChecked:{backgroundColor:a.buttonBackgroundChecked},rootCheckedHovered:{backgroundColor:a.buttonBackgroundHovered},rootDisabled:{color:a.disabledText}};return Object(l.i)(r,s,i,t)});n.d(t,"a",function(){return p});var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._skipComponentRefResolution=!0,t}return r.c(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,n=e.theme;return i.createElement(o.a,r.a({},this.props,{variantClassName:"ms-Button--icon",styles:d(n,t),onRenderText:a.b,onRenderDescription:a.b}))},t=r.b([Object(s.a)("IconButton",["theme","styles"],!0)],t)}(a.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(10);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[],i=[],o=r.a.getInstance();return function e(t){for(var r=0,a=t;r<a.length;r++){var s=a[r];if(s)if("string"==typeof s)if(s.indexOf(" ")>=0)e(s.split(" "));else{var l=o.argsFromClassName(s);l?e(l):-1===n.indexOf(s)&&n.push(s)}else Array.isArray(s)?e(s):"object"==typeof s&&i.push(s)}}(e),{classes:n,objects:i}}},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return l});var r=n(1),i=n(0),o=n(34),a=n(18),s=i.createContext({customizations:{inCustomizerContext:!1,settings:{},scopedSettings:{}}});!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._changeCount=0,t._onCustomizationChange=function(){return t.forceUpdate()},t}r.c(t,e),t.prototype.componentDidMount=function(){a.a.observe(this._onCustomizationChange)},t.prototype.componentWillUnmount=function(){a.a.unobserve(this._onCustomizationChange)},t.prototype.render=function(){var e=this,t=this.props.contextTransform;return i.createElement(s.Consumer,null,function(n){var o=function(e,t){var n=(t||{}).customizations,i=void 0===n?{settings:{},scopedSettings:{}}:n;return{customizations:{settings:l(i.settings,e.settings),scopedSettings:function(e,t){void 0===e&&(e={});return(c(t)?t:function(e){void 0===e&&(e={});return function(t){var n=r.a({},t);for(var i in e)e.hasOwnProperty(i)&&(n[i]=r.a({},t[i],e[i]));return n}}(t))(e)}(i.scopedSettings,e.scopedSettings),inCustomizerContext:!0}}}(e.props,n);return t&&(o=t(o)),i.createElement(s.Provider,{value:o},e.props.children)})}}(o.a);function l(e,t){return void 0===e&&(e={}),(c(t)?t:function(e){return function(t){return e?r.a({},t,e):t}}(t))(e)}function c(e){return"function"==typeof e}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1),i=n(19),o=n(59),a=n(24),s=n(12),l=function(){function e(){this.keytips=[],this.persistedKeytips=[],this.inKeytipMode=!1,this.shouldEnterKeytipMode=!0}return e.getInstance=function(){return this._instance},e.prototype.register=function(e,t){void 0===t&&(t=!1);var n=e;t||(n=this.addParentOverflow(e));var r=this._getUniqueKtp(n);t?this.persistedKeytips.push(r):this.keytips.push(r);var o=t?s.f.PERSISTED_KEYTIP_ADDED:s.f.KEYTIP_ADDED;return i.a.raise(this,o,{keytip:n,uniqueID:r.uniqueID}),r.uniqueID},e.prototype.update=function(e,t){var n=this.addParentOverflow(e),r=this._getUniqueKtp(n,t),a=Object(o.d)(this.keytips,function(e){return e.uniqueID===t});a>=0&&(r.keytip.visible=this.keytips[a].keytip.visible,this.keytips=Object(o.e)(this.keytips,r,a),i.a.raise(this,s.f.KEYTIP_UPDATED,{keytip:r.keytip,uniqueID:r.uniqueID}))},e.prototype.unregister=function(e,t,n){void 0===n&&(n=!1),n?this.persistedKeytips=this.persistedKeytips.filter(function(e){return e.uniqueID!==t}):this.keytips=this.keytips.filter(function(e){return e.uniqueID!==t});var r=n?s.f.PERSISTED_KEYTIP_REMOVED:s.f.KEYTIP_REMOVED;i.a.raise(this,r,{keytip:e,uniqueID:t})},e.prototype.enterKeytipMode=function(){i.a.raise(this,s.f.ENTER_KEYTIP_MODE)},e.prototype.exitKeytipMode=function(){i.a.raise(this,s.f.EXIT_KEYTIP_MODE)},e.prototype.getKeytips=function(){return this.keytips.map(function(e){return e.keytip})},e.prototype.addParentOverflow=function(e){var t=e.keySequences.slice();if(t.pop(),0!==t.length){var n=Object(o.c)(this.getKeytips(),function(e){return Object(o.b)(t,e.keySequences)});if(n&&n.overflowSetSequence)return r.a({},e,{overflowSetSequence:n.overflowSetSequence})}return e},e.prototype.menuExecute=function(e,t){i.a.raise(this,s.f.PERSISTED_KEYTIP_EXECUTE,{overflowButtonSequences:e,keytipSequences:t})},e.prototype._getUniqueKtp=function(e,t){return void 0===t&&(t=Object(a.c)()),{keytip:r.a({},e),uniqueID:t}},e._instance=new e,e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(25),i=n(3),o=Object(r.a)(function(e){return Object(i.q)({wrapper:{display:"inline-flex",height:"100%",alignItems:"center"},divider:{width:1,height:"100%",backgroundColor:e.palette.neutralTertiaryAlt}})})},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var r=void 0;function i(e,t,n){for(var r in n)if(t&&r in t){var i=e+" property '"+r+"' was used but has been deprecated.",o=n[r];o&&(i+=" Use '"+o+"' instead."),s(i)}}function o(e,t,n){for(var r in n)if(t&&r in t){var i=n[r];i&&i in t&&s(e+" property '"+r+"' is mutually exclusive with '"+n[r]+"'. Use one or the other.")}}function a(e,t,n,r,i){if(!0===i)for(var o=0,a=n;o<a.length;o++){var l=a[o];l in t||s(e+" property '"+l+"' is required when '"+r+"' is used.'")}}function s(e){r?r(e):console&&console.warn&&console.warn(e)}},function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"g",function(){return l}),n.d(t,"h",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"d",function(){return h});var r=n(24),i=["defaultChecked","defaultValue","accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","capture","cellPadding","cellSpacing","charSet","challenge","checked","children","classID","className","cols","colSpan","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","download","draggable","encType","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","height","hidden","high","hrefLang","htmlFor","httpEquiv","icon","id","inputMode","integrity","is","keyParams","keyType","kind","lang","list","loop","low","manifest","marginHeight","marginWidth","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","open","optimum","pattern","placeholder","poster","preload","radioGroup","readOnly","rel","required","role","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","spellCheck","src","srcDoc","srcLang","srcSet","start","step","style","summary","tabIndex","title","type","useMap","value","width","wmode","wrap"].concat(["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onInput","onSubmit","onLoad","onError","onKeyDown","onKeyDownCapture","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onClickCapture","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseUpCapture","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel"]),o=i.concat(["href","target"]),a=i.concat(["disabled"]),s=i.concat(["align","noWrap"]),l=a,c=a,u=s;function h(e,t,n){return Object(r.b)(function(e){return(!n||n.indexOf(e)<0)&&(0===e.indexOf("data-")||0===e.indexOf("aria-")||t.indexOf(e)>=0)},{},e)}},function(e,t,n){"use strict";function r(e,t){for(var n=-1,r=0;e&&r<e.length;r++)if(t(e[r],r)){n=r;break}return n}function i(e,t){var n=r(e,t);if(!(n<0))return e[n]}function o(e,t,n){var r=e.slice();return r[n]=t,r}function a(e,t,n){var r=e.slice();return r.splice(t,0,n),r}function s(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}n.d(t,"d",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s})},function(e,t,n){"use strict";function r(e){return e.canCheck?!(!e.isChecked&&!e.checked):"boolean"==typeof e.isChecked?e.isChecked:"boolean"==typeof e.checked?e.checked:null}function i(e){return!(!e.subMenuProps&&!e.items)}function o(e){return!(!e.isDisabled&&!e.disabled)}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o})},function(e,t,n){"use strict";var r,i=n(133),o=n(1),a=n(0);!function(e){e[e.default=0]="default",e[e.image=1]="image",e[e.Default=1e5]="Default",e[e.Image=100001]="Image"}(r||(r={}));var s,l,c,u=n(96),h=n(58),d=n(34);!function(e){e[e.center=0]="center",e[e.contain=1]="contain",e[e.cover=2]="cover",e[e.none=3]="none",e[e.centerCover=4]="centerCover"}(s||(s={})),function(e){e[e.landscape=0]="landscape",e[e.portrait=1]="portrait"}(l||(l={})),function(e){e[e.notLoaded=0]="notLoaded",e[e.loaded=1]="loaded",e[e.error=2]="error",e[e.errorLoaded=3]="errorLoaded"}(c||(c={}));var p=Object(u.a)(),f=function(e){function t(t){var n=e.call(this,t)||this;return n._coverStyle=l.portrait,n._imageElement=a.createRef(),n._frameElement=a.createRef(),n._onImageLoaded=function(e){var t=n.props,r=t.src,i=t.onLoad;i&&i(e),n._computeCoverStyle(n.props),r&&n.setState({loadState:c.loaded})},n._onImageError=function(e){n.props.onError&&n.props.onError(e),n.setState({loadState:c.error})},n.state={loadState:c.notLoaded},n}return o.c(t,e),t.prototype.componentWillReceiveProps=function(e){e.src!==this.props.src?this.setState({loadState:c.notLoaded}):this.state.loadState===c.loaded&&this._computeCoverStyle(e)},t.prototype.componentDidUpdate=function(e,t){this._checkImageLoaded(),this.props.onLoadingStateChange&&t.loadState!==this.state.loadState&&this.props.onLoadingStateChange(this.state.loadState)},t.prototype.render=function(){var e=Object(h.d)(this.props,h.f,["width","height"]),t=this.props,n=t.src,r=t.alt,i=t.width,u=t.height,d=t.shouldFadeIn,f=t.shouldStartVisible,m=t.className,g=t.imageFit,v=t.role,y=t.maximizeFrame,b=t.styles,x=t.theme,_=this.state.loadState,w=void 0!==this.props.coverStyle?this.props.coverStyle:this._coverStyle,M=p(b,{theme:x,className:m,width:i,height:u,maximizeFrame:y,shouldFadeIn:d,shouldStartVisible:f,isLoaded:_===c.loaded||_===c.notLoaded&&this.props.shouldStartVisible,isLandscape:w===l.landscape,isCenter:g===s.center,isCenterCover:g===s.centerCover,isContain:g===s.contain,isCover:g===s.cover,isNone:g===s.none,isError:_===c.error,isNotImageFit:void 0===g});return a.createElement("div",{className:M.root,style:{width:i,height:u},ref:this._frameElement},a.createElement("img",o.a({},e,{onLoad:this._onImageLoaded,onError:this._onImageError,key:"fabricImage"+this.props.src||"",className:M.image,ref:this._imageElement,src:n,alt:r,role:v})))},t.prototype._checkImageLoaded=function(){var e=this.props.src;this.state.loadState===c.notLoaded&&(!!this._imageElement.current&&(e&&this._imageElement.current.naturalWidth>0&&this._imageElement.current.naturalHeight>0||this._imageElement.current.complete&&t._svgRegex.test(e))&&(this._computeCoverStyle(this.props),this.setState({loadState:c.loaded})))},t.prototype._computeCoverStyle=function(e){var t=e.imageFit,n=e.width,r=e.height;if((t===s.cover||t===s.contain||t===s.centerCover)&&void 0===this.props.coverStyle&&this._imageElement.current&&this._frameElement.current){var i=void 0;i=n&&r&&t!==s.centerCover?n/r:this._frameElement.current.clientWidth/this._frameElement.current.clientHeight;var o=this._imageElement.current.naturalWidth/this._imageElement.current.naturalHeight;this._coverStyle=o>i?l.landscape:l.portrait}},t.defaultProps={shouldFadeIn:!0},t._svgRegex=/\.svg$/i,t}(d.a),m=n(3),g={root:"ms-Image",rootMaximizeFrame:"ms-Image--maximizeFrame",image:"ms-Image-image",imageCenter:"ms-Image-image--center",imageContain:"ms-Image-image--contain",imageCover:"ms-Image-image--cover",imageCenterCover:"ms-Image-image--centerCover",imageNone:"ms-Image-image--none",imageLandscape:"ms-Image-image--landscape",imagePortrait:"ms-Image-image--portrait"},v=Object(i.a)(f,function(e){var t=e.className,n=e.width,r=e.height,i=e.maximizeFrame,o=e.isLoaded,a=e.shouldFadeIn,s=e.shouldStartVisible,l=e.isLandscape,c=e.isCenter,u=e.isContain,h=e.isCover,d=e.isCenterCover,p=e.isNone,f=e.isError,v=e.isNotImageFit,y=e.theme,b=Object(m.l)(g,y),x={position:"absolute",left:"50% /* @noflip */",top:"50%",transform:"translate(-50%,-50%)"};return{root:[b.root,y.fonts.medium,{overflow:"hidden"},i&&[b.rootMaximizeFrame,{height:"100%",width:"100%"}],(c||u||h||d)&&{position:"relative"},t],image:[b.image,{display:"block",opacity:0},o&&["is-loaded",{opacity:1}],c&&[b.imageCenter,x],u&&[b.imageContain,l&&{width:"100%",height:"auto"},!l&&{width:"auto",height:"100%"},x],h&&[b.imageCover,l&&{width:"auto",height:"100%"},!l&&{width:"100%",height:"auto"},x],d&&[b.imageCenterCover,l&&{maxHeight:"100%"},!l&&{maxWidth:"100%"},x],p&&[b.imageNone,{width:"auto",height:"auto"}],v&&[!!n&&!r&&{height:"auto",width:"100%"},!n&&!!r&&{height:"100%",width:"auto"},!!n&&!!r&&{height:"100%",width:"100%"}],o&&a&&!s&&m.a.fadeIn400,l&&b.imageLandscape,!l&&b.imagePortrait,!o&&"is-notLoaded",a&&"is-fadeIn",f&&"is-error"]}},void 0,{scope:"Image"}),y=Object(u.a)(),b=function(e){function t(t){var n=e.call(this,t)||this;return n.onImageLoadingStateChange=function(e){n.props.imageProps&&n.props.imageProps.onLoadingStateChange&&n.props.imageProps.onLoadingStateChange(e),e===c.error&&n.setState({imageLoadError:!0})},n.state={imageLoadError:!1},n}return o.c(t,e),t.prototype.render=function(){var e=this.props,t=e.ariaLabel,n=e.className,i=e.styles,s=e.iconName,l=e.imageErrorAs,c="string"==typeof s&&0===s.length,u=this.props.iconType===r.image||this.props.iconType===r.Image,d=this._getIconContent(s),p=d.iconClassName,f=d.children,m=y(i,{className:n,iconClassName:p,isImage:u,isPlaceholder:c}),g=t?{"aria-label":t}:{role:"presentation","aria-hidden":!0},b=u?"div":"i",x=Object(h.d)(this.props,h.e),_=this.state.imageLoadError,w=o.a({},this.props.imageProps,{onLoadingStateChange:this.onImageLoadingStateChange}),M=_&&l||v;return a.createElement(b,o.a({"data-icon-name":s},x,g,{className:m.root}),u?a.createElement(M,o.a({},w)):f)},t.prototype._getIconContent=function(e){var t=Object(m.m)(e)||{subset:{className:void 0},code:void 0};return{children:t.code,iconClassName:t.subset.className}},t}(d.a);n.d(t,"a",function(){return x});var x=Object(i.a)(b,function(e){var t=e.className,n=e.iconClassName,r=e.isPlaceholder,i=e.isImage,o=e.styles;return{root:[i&&"ms-Icon-imageContainer",r&&"ms-Icon-placeHolder",{display:"inline-block"},r&&{width:"1em"},i&&{overflow:"hidden"},n,t,o&&o.root,o&&o.imageContainer]}},void 0,{scope:"Icon"})},function(e,t,n){var r;!function(i,o){var a={Identity:function(e){return e},True:function(){return!0},Blank:function(){}},s=typeof!0,l="number",c="string",u=typeof{},h="undefined",d="function",p={"":a.Identity},f={createLambda:function(e){if(null==e)return a.Identity;if(typeof e===c){var t=p[e];if(null!=t)return t;if(-1===e.indexOf("=>")){for(var n,r=new RegExp("[$]+","g"),i=0;null!=(n=r.exec(e));){var o=n[0].length;o>i&&(i=o)}for(var s=[],l=1;l<=i;l++){for(var u="",h=0;h<l;h++)u+="$";s.push(u)}var d=Array.prototype.join.call(s,",");return t=new Function(d,"return "+e),p[e]=t,t}var f=e.match(/^[(\s]*([^()]*?)[)\s]*=>(.*)/);return t=new Function(f[1],"return "+f[2]),p[e]=t,t}return e},isIEnumerable:function(e){if(typeof Enumerator!==h)try{return new Enumerator(e),!0}catch(e){}return!1},defineProperty:null!=Object.defineProperties?function(e,t,n){Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}:function(e,t,n){e[t]=n},compare:function(e,t){return e===t?0:e>t?1:-1},dispose:function(e){null!=e&&e.dispose()}},m=0,g=1,v=2,y=function(e,t,n){var r=new b,i=m;this.current=r.current,this.moveNext=function(){try{switch(i){case m:i=g,e();case g:return!!t.apply(r)||(this.dispose(),!1);case v:return!1}}catch(e){throw this.dispose(),e}},this.dispose=function(){if(i==g)try{n()}finally{i=v}}},b=function(){var e=null;this.current=function(){return e},this.yieldReturn=function(t){return e=t,!0},this.yieldBreak=function(){return!1}},x=function(e){this.getEnumerator=e};(x.Utils={}).createLambda=function(e){return f.createLambda(e)},x.Utils.createEnumerable=function(e){return new x(e)},x.Utils.createEnumerator=function(e,t,n){return new y(e,t,n)},x.Utils.extendTo=function(e){var t,n=e.prototype;for(var r in e===Array?(t=S.prototype,f.defineProperty(n,"getSource",function(){return this})):(t=x.prototype,f.defineProperty(n,"getEnumerator",function(){return x.from(this).getEnumerator()})),t){var i=t[r];n[r]!=i&&(null!=n[r]&&n[r+="ByLinq"]==i||i instanceof Function&&f.defineProperty(n,r,i))}},x.choice=function(){var e=arguments;return new x(function(){return new y(function(){e=e[0]instanceof Array?e[0]:null!=e[0].getEnumerator?e[0].toArray():e},function(){return this.yieldReturn(e[Math.floor(Math.random()*e.length)])},a.Blank)})},x.cycle=function(){var e=arguments;return new x(function(){var t=0;return new y(function(){e=e[0]instanceof Array?e[0]:null!=e[0].getEnumerator?e[0].toArray():e},function(){return t>=e.length&&(t=0),this.yieldReturn(e[t++])},a.Blank)})},x.empty=function(){return new x(function(){return new y(a.Blank,function(){return!1},a.Blank)})},x.from=function(e){if(null==e)return x.empty();if(e instanceof x)return e;if(typeof e==l||typeof e==s)return x.repeat(e,1);if(typeof e==c)return new x(function(){var t=0;return new y(a.Blank,function(){return t<e.length&&this.yieldReturn(e.charAt(t++))},a.Blank)});if(typeof e!=d){if(typeof e.length==l)return new S(e);if(!(e instanceof Object)&&f.isIEnumerable(e))return new x(function(){var t,n=!0;return new y(function(){t=new Enumerator(e)},function(){return n?n=!1:t.moveNext(),!t.atEnd()&&this.yieldReturn(t.item())},a.Blank)});if(typeof Windows===u&&typeof e.first===d)return new x(function(){var t,n=!0;return new y(function(){t=e.first()},function(){return n?n=!1:t.moveNext(),t.hasCurrent?this.yieldReturn(t.current):this.yieldBreak()},a.Blank)})}return new x(function(){var t=[],n=0;return new y(function(){for(var n in e){var r=e[n];r instanceof Function||!Object.prototype.hasOwnProperty.call(e,n)||t.push({key:n,value:r})}},function(){return n<t.length&&this.yieldReturn(t[n++])},a.Blank)})},x.make=function(e){return x.repeat(e,1)},x.matches=function(e,t,n){return null==n&&(n=""),t instanceof RegExp&&(n+=t.ignoreCase?"i":"",n+=t.multiline?"m":"",t=t.source),-1===n.indexOf("g")&&(n+="g"),new x(function(){var r;return new y(function(){r=new RegExp(t,n)},function(){var t=r.exec(e);return!!t&&this.yieldReturn(t)},a.Blank)})},x.range=function(e,t,n){return null==n&&(n=1),new x(function(){var r,i=0;return new y(function(){r=e-n},function(){return i++<t?this.yieldReturn(r+=n):this.yieldBreak()},a.Blank)})},x.rangeDown=function(e,t,n){return null==n&&(n=1),new x(function(){var r,i=0;return new y(function(){r=e+n},function(){return i++<t?this.yieldReturn(r-=n):this.yieldBreak()},a.Blank)})},x.rangeTo=function(e,t,n){return null==n&&(n=1),new x(e<t?function(){var r;return new y(function(){r=e-n},function(){var e=r+=n;return e<=t?this.yieldReturn(e):this.yieldBreak()},a.Blank)}:function(){var r;return new y(function(){r=e+n},function(){var e=r-=n;return e>=t?this.yieldReturn(e):this.yieldBreak()},a.Blank)})},x.repeat=function(e,t){return null!=t?x.repeat(e).take(t):new x(function(){return new y(a.Blank,function(){return this.yieldReturn(e)},a.Blank)})},x.repeatWithFinalize=function(e,t){return e=f.createLambda(e),t=f.createLambda(t),new x(function(){var n;return new y(function(){n=e()},function(){return this.yieldReturn(n)},function(){null!=n&&(t(n),n=null)})})},x.generate=function(e,t){return null!=t?x.generate(e).take(t):(e=f.createLambda(e),new x(function(){return new y(a.Blank,function(){return this.yieldReturn(e())},a.Blank)}))},x.toInfinity=function(e,t){return null==e&&(e=0),null==t&&(t=1),new x(function(){var n;return new y(function(){n=e-t},function(){return this.yieldReturn(n+=t)},a.Blank)})},x.toNegativeInfinity=function(e,t){return null==e&&(e=0),null==t&&(t=1),new x(function(){var n;return new y(function(){n=e+t},function(){return this.yieldReturn(n-=t)},a.Blank)})},x.unfold=function(e,t){return t=f.createLambda(t),new x(function(){var n,r=!0;return new y(a.Blank,function(){return r?(r=!1,n=e,this.yieldReturn(n)):(n=t(n),this.yieldReturn(n))},a.Blank)})},x.defer=function(e){return new x(function(){var t;return new y(function(){t=x.from(e()).getEnumerator()},function(){return t.moveNext()?this.yieldReturn(t.current()):this.yieldBreak()},function(){f.dispose(t)})})},x.prototype.traverseBreadthFirst=function(e,t){var n=this;return e=f.createLambda(e),t=f.createLambda(t),new x(function(){var r,i=0,o=[];return new y(function(){r=n.getEnumerator()},function(){for(;;){if(r.moveNext())return o.push(r.current()),this.yieldReturn(t(r.current(),i));var n=x.from(o).selectMany(function(t){return e(t)});if(!n.any())return!1;i++,o=[],f.dispose(r),r=n.getEnumerator()}},function(){f.dispose(r)})})},x.prototype.traverseDepthFirst=function(e,t){var n=this;return e=f.createLambda(e),t=f.createLambda(t),new x(function(){var r,i=[];return new y(function(){r=n.getEnumerator()},function(){for(;;){if(r.moveNext()){var n=t(r.current(),i.length);return i.push(r),r=x.from(e(r.current())).getEnumerator(),this.yieldReturn(n)}if(i.length<=0)return!1;f.dispose(r),r=i.pop()}},function(){try{f.dispose(r)}finally{x.from(i).forEach(function(e){e.dispose()})}})})},x.prototype.flatten=function(){var e=this;return new x(function(){var t,n=null;return new y(function(){t=e.getEnumerator()},function(){for(;;){if(null!=n){if(n.moveNext())return this.yieldReturn(n.current());n=null}if(t.moveNext()){if(t.current()instanceof Array){f.dispose(n),n=x.from(t.current()).selectMany(a.Identity).flatten().getEnumerator();continue}return this.yieldReturn(t.current())}return!1}},function(){try{f.dispose(t)}finally{f.dispose(n)}})})},x.prototype.pairwise=function(e){var t=this;return e=f.createLambda(e),new x(function(){var n;return new y(function(){(n=t.getEnumerator()).moveNext()},function(){var t=n.current();return!!n.moveNext()&&this.yieldReturn(e(t,n.current()))},function(){f.dispose(n)})})},x.prototype.scan=function(e,t){var n;null==t?(t=f.createLambda(e),n=!1):(t=f.createLambda(t),n=!0);var r=this;return new x(function(){var i,o,a=!0;return new y(function(){i=r.getEnumerator()},function(){if(a){if(a=!1,n)return this.yieldReturn(o=e);if(i.moveNext())return this.yieldReturn(o=i.current())}return!!i.moveNext()&&this.yieldReturn(o=t(o,i.current()))},function(){f.dispose(i)})})},x.prototype.select=function(e){if((e=f.createLambda(e)).length<=1)return new E(this,null,e);var t=this;return new x(function(){var n,r=0;return new y(function(){n=t.getEnumerator()},function(){return!!n.moveNext()&&this.yieldReturn(e(n.current(),r++))},function(){f.dispose(n)})})},x.prototype.selectMany=function(e,t){var n=this;return e=f.createLambda(e),null==t&&(t=function(e,t){return t}),t=f.createLambda(t),new x(function(){var r,i=void 0,o=0;return new y(function(){r=n.getEnumerator()},function(){if(void 0===i&&!r.moveNext())return!1;do{if(null==i){var n=e(r.current(),o++);i=x.from(n).getEnumerator()}if(i.moveNext())return this.yieldReturn(t(r.current(),i.current()));f.dispose(i),i=null}while(r.moveNext());return!1},function(){try{f.dispose(r)}finally{f.dispose(i)}})})},x.prototype.where=function(e){if((e=f.createLambda(e)).length<=1)return new C(this,e);var t=this;return new x(function(){var n,r=0;return new y(function(){n=t.getEnumerator()},function(){for(;n.moveNext();)if(e(n.current(),r++))return this.yieldReturn(n.current());return!1},function(){f.dispose(n)})})},x.prototype.choose=function(e){e=f.createLambda(e);var t=this;return new x(function(){var n,r=0;return new y(function(){n=t.getEnumerator()},function(){for(;n.moveNext();){var t=e(n.current(),r++);if(null!=t)return this.yieldReturn(t)}return this.yieldBreak()},function(){f.dispose(n)})})},x.prototype.ofType=function(e){var t;switch(e){case Number:t=l;break;case String:t=c;break;case Boolean:t=s;break;case Function:t=d;break;default:t=null}return null===t?this.where(function(t){return t instanceof e}):this.where(function(e){return typeof e===t})},x.prototype.zip=function(){var e=arguments,t=f.createLambda(arguments[arguments.length-1]),n=this;if(2==arguments.length){var r=arguments[0];return new x(function(){var e,i,o=0;return new y(function(){e=n.getEnumerator(),i=x.from(r).getEnumerator()},function(){return!(!e.moveNext()||!i.moveNext())&&this.yieldReturn(t(e.current(),i.current(),o++))},function(){try{f.dispose(e)}finally{f.dispose(i)}})})}return new x(function(){var r,i=0;return new y(function(){var t=x.make(n).concat(x.from(e).takeExceptLast().select(x.from)).select(function(e){return e.getEnumerator()}).toArray();r=x.from(t)},function(){if(r.all(function(e){return e.moveNext()})){var e=r.select(function(e){return e.current()}).toArray();return e.push(i++),this.yieldReturn(t.apply(null,e))}return this.yieldBreak()},function(){x.from(r).forEach(f.dispose)})})},x.prototype.merge=function(){var e=arguments,t=this;return new x(function(){var n,r=-1;return new y(function(){n=x.make(t).concat(x.from(e).select(x.from)).select(function(e){return e.getEnumerator()}).toArray()},function(){for(;n.length>0;){r=r>=n.length-1?0:r+1;var e=n[r];if(e.moveNext())return this.yieldReturn(e.current());e.dispose(),n.splice(r--,1)}return this.yieldBreak()},function(){x.from(n).forEach(f.dispose)})})},x.prototype.join=function(e,t,n,r,i){t=f.createLambda(t),n=f.createLambda(n),r=f.createLambda(r),i=f.createLambda(i);var o=this;return new x(function(){var s,l,c=null,u=0;return new y(function(){s=o.getEnumerator(),l=x.from(e).toLookup(n,a.Identity,i)},function(){for(;;){if(null!=c){var e=c[u++];if(void 0!==e)return this.yieldReturn(r(s.current(),e));e=null,u=0}if(!s.moveNext())return!1;var n=t(s.current());c=l.get(n).toArray()}},function(){f.dispose(s)})})},x.prototype.groupJoin=function(e,t,n,r,i){t=f.createLambda(t),n=f.createLambda(n),r=f.createLambda(r),i=f.createLambda(i);var o=this;return new x(function(){var s=o.getEnumerator(),l=null;return new y(function(){s=o.getEnumerator(),l=x.from(e).toLookup(n,a.Identity,i)},function(){if(s.moveNext()){var e=l.get(t(s.current()));return this.yieldReturn(r(s.current(),e))}return!1},function(){f.dispose(s)})})},x.prototype.all=function(e){e=f.createLambda(e);var t=!0;return this.forEach(function(n){if(!e(n))return t=!1,!1}),t},x.prototype.any=function(e){e=f.createLambda(e);var t=this.getEnumerator();try{if(0==arguments.length)return t.moveNext();for(;t.moveNext();)if(e(t.current()))return!0;return!1}finally{f.dispose(t)}},x.prototype.isEmpty=function(){return!this.any()},x.prototype.concat=function(){var e=this;if(1==arguments.length){var t=arguments[0];return new x(function(){var n,r;return new y(function(){n=e.getEnumerator()},function(){if(null==r){if(n.moveNext())return this.yieldReturn(n.current());r=x.from(t).getEnumerator()}return!!r.moveNext()&&this.yieldReturn(r.current())},function(){try{f.dispose(n)}finally{f.dispose(r)}})})}var n=arguments;return new x(function(){var t;return new y(function(){t=x.make(e).concat(x.from(n).select(x.from)).select(function(e){return e.getEnumerator()}).toArray()},function(){for(;t.length>0;){var e=t[0];if(e.moveNext())return this.yieldReturn(e.current());e.dispose(),t.splice(0,1)}return this.yieldBreak()},function(){x.from(t).forEach(f.dispose)})})},x.prototype.insert=function(e,t){var n=this;return new x(function(){var r,i,o=0,a=!1;return new y(function(){r=n.getEnumerator(),i=x.from(t).getEnumerator()},function(){return o==e&&i.moveNext()?(a=!0,this.yieldReturn(i.current())):r.moveNext()?(o++,this.yieldReturn(r.current())):!(a||!i.moveNext())&&this.yieldReturn(i.current())},function(){try{f.dispose(r)}finally{f.dispose(i)}})})},x.prototype.alternate=function(e){var t=this;return new x(function(){var n,r,i,o;return new y(function(){i=e instanceof Array||null!=e.getEnumerator?x.from(x.from(e).toArray()):x.make(e),(r=t.getEnumerator()).moveNext()&&(n=r.current())},function(){for(;;){if(null!=o){if(o.moveNext())return this.yieldReturn(o.current());o=null}if(null!=n||!r.moveNext()){if(null!=n){var e=n;return n=null,this.yieldReturn(e)}return this.yieldBreak()}n=r.current(),o=i.getEnumerator()}},function(){try{f.dispose(r)}finally{f.dispose(o)}})})},x.prototype.contains=function(e,t){t=f.createLambda(t);var n=this.getEnumerator();try{for(;n.moveNext();)if(t(n.current())===e)return!0;return!1}finally{f.dispose(n)}},x.prototype.defaultIfEmpty=function(e){var t=this;return void 0===e&&(e=null),new x(function(){var n,r=!0;return new y(function(){n=t.getEnumerator()},function(){return n.moveNext()?(r=!1,this.yieldReturn(n.current())):!!r&&(r=!1,this.yieldReturn(e))},function(){f.dispose(n)})})},x.prototype.distinct=function(e){return this.except(x.empty(),e)},x.prototype.distinctUntilChanged=function(e){e=f.createLambda(e);var t=this;return new x(function(){var n,r,i;return new y(function(){n=t.getEnumerator()},function(){for(;n.moveNext();){var t=e(n.current());if(i)return i=!1,r=t,this.yieldReturn(n.current());if(r!==t)return r=t,this.yieldReturn(n.current())}return this.yieldBreak()},function(){f.dispose(n)})})},x.prototype.except=function(e,t){t=f.createLambda(t);var n=this;return new x(function(){var r,i;return new y(function(){r=n.getEnumerator(),i=new T(t),x.from(e).forEach(function(e){i.add(e)})},function(){for(;r.moveNext();){var e=r.current();if(!i.contains(e))return i.add(e),this.yieldReturn(e)}return!1},function(){f.dispose(r)})})},x.prototype.intersect=function(e,t){t=f.createLambda(t);var n=this;return new x(function(){var r,i,o;return new y(function(){r=n.getEnumerator(),i=new T(t),x.from(e).forEach(function(e){i.add(e)}),o=new T(t)},function(){for(;r.moveNext();){var e=r.current();if(!o.contains(e)&&i.contains(e))return o.add(e),this.yieldReturn(e)}return!1},function(){f.dispose(r)})})},x.prototype.sequenceEqual=function(e,t){t=f.createLambda(t);var n=this.getEnumerator();try{var r=x.from(e).getEnumerator();try{for(;n.moveNext();)if(!r.moveNext()||t(n.current())!==t(r.current()))return!1;return!r.moveNext()}finally{f.dispose(r)}}finally{f.dispose(n)}},x.prototype.union=function(e,t){t=f.createLambda(t);var n=this;return new x(function(){var r,i,o;return new y(function(){r=n.getEnumerator(),o=new T(t)},function(){var t;if(void 0===i){for(;r.moveNext();)if(t=r.current(),!o.contains(t))return o.add(t),this.yieldReturn(t);i=x.from(e).getEnumerator()}for(;i.moveNext();)if(t=i.current(),!o.contains(t))return o.add(t),this.yieldReturn(t);return!1},function(){try{f.dispose(r)}finally{f.dispose(i)}})})},x.prototype.orderBy=function(e){return new _(this,e,!1)},x.prototype.orderByDescending=function(e){return new _(this,e,!0)},x.prototype.reverse=function(){var e=this;return new x(function(){var t,n;return new y(function(){t=e.toArray(),n=t.length},function(){return n>0&&this.yieldReturn(t[--n])},a.Blank)})},x.prototype.shuffle=function(){var e=this;return new x(function(){var t;return new y(function(){t=e.toArray()},function(){if(t.length>0){var e=Math.floor(Math.random()*t.length);return this.yieldReturn(t.splice(e,1)[0])}return!1},a.Blank)})},x.prototype.weightedSample=function(e){e=f.createLambda(e);var t=this;return new x(function(){var n,r=0;return new y(function(){n=t.choose(function(t){var n=e(t);return n<=0?null:{value:t,bound:r+=n}}).toArray()},function(){if(n.length>0){for(var e=Math.floor(Math.random()*r)+1,t=-1,i=n.length;i-t>1;){var o=Math.floor((t+i)/2);n[o].bound>=e?i=o:t=o}return this.yieldReturn(n[i].value)}return this.yieldBreak()},a.Blank)})},x.prototype.groupBy=function(e,t,n,r){var i=this;return e=f.createLambda(e),t=f.createLambda(t),null!=n&&(n=f.createLambda(n)),r=f.createLambda(r),new x(function(){var o;return new y(function(){o=i.toLookup(e,t,r).toEnumerable().getEnumerator()},function(){for(;o.moveNext();)return null==n?this.yieldReturn(o.current()):this.yieldReturn(n(o.current().key(),o.current()));return!1},function(){f.dispose(o)})})},x.prototype.partitionBy=function(e,t,n,r){var i,o=this;return e=f.createLambda(e),t=f.createLambda(t),r=f.createLambda(r),null==n?(i=!1,n=function(e,t){return new P(e,t)}):(i=!0,n=f.createLambda(n)),new x(function(){var a,s,l,c=[];return new y(function(){(a=o.getEnumerator()).moveNext()&&(s=e(a.current()),l=r(s),c.push(t(a.current())))},function(){for(var o;1==(o=a.moveNext())&&l===r(e(a.current()));)c.push(t(a.current()));if(c.length>0){var u=n(s,i?x.from(c):c);return o?(s=e(a.current()),l=r(s),c=[t(a.current())]):c=[],this.yieldReturn(u)}return!1},function(){f.dispose(a)})})},x.prototype.buffer=function(e){var t=this;return new x(function(){var n;return new y(function(){n=t.getEnumerator()},function(){for(var t=[],r=0;n.moveNext();)if(t.push(n.current()),++r>=e)return this.yieldReturn(t);return t.length>0&&this.yieldReturn(t)},function(){f.dispose(n)})})},x.prototype.aggregate=function(e,t,n){return(n=f.createLambda(n))(this.scan(e,t,n).last())},x.prototype.average=function(e){e=f.createLambda(e);var t=0,n=0;return this.forEach(function(r){t+=e(r),++n}),t/n},x.prototype.count=function(e){e=null==e?a.True:f.createLambda(e);var t=0;return this.forEach(function(n,r){e(n,r)&&++t}),t},x.prototype.max=function(e){return null==e&&(e=a.Identity),this.select(e).aggregate(function(e,t){return e>t?e:t})},x.prototype.min=function(e){return null==e&&(e=a.Identity),this.select(e).aggregate(function(e,t){return e<t?e:t})},x.prototype.maxBy=function(e){return e=f.createLambda(e),this.aggregate(function(t,n){return e(t)>e(n)?t:n})},x.prototype.minBy=function(e){return e=f.createLambda(e),this.aggregate(function(t,n){return e(t)<e(n)?t:n})},x.prototype.sum=function(e){return null==e&&(e=a.Identity),this.select(e).aggregate(0,function(e,t){return e+t})},x.prototype.elementAt=function(e){var t,n=!1;if(this.forEach(function(r,i){if(i==e)return t=r,n=!0,!1}),!n)throw new Error("index is less than 0 or greater than or equal to the number of elements in source.");return t},x.prototype.elementAtOrDefault=function(e,t){var n;void 0===t&&(t=null);var r=!1;return this.forEach(function(t,i){if(i==e)return n=t,r=!0,!1}),r?n:t},x.prototype.first=function(e){if(null!=e)return this.where(e).first();var t,n=!1;if(this.forEach(function(e){return t=e,n=!0,!1}),!n)throw new Error("first:No element satisfies the condition.");return t},x.prototype.firstOrDefault=function(e,t){if(void 0!==e){if(typeof e===d||typeof f.createLambda(e)===d)return this.where(e).firstOrDefault(void 0,t);t=e}var n,r=!1;return this.forEach(function(e){return n=e,r=!0,!1}),r?n:t},x.prototype.last=function(e){if(null!=e)return this.where(e).last();var t,n=!1;if(this.forEach(function(e){n=!0,t=e}),!n)throw new Error("last:No element satisfies the condition.");return t},x.prototype.lastOrDefault=function(e,t){if(void 0!==e){if(typeof e===d||typeof f.createLambda(e)===d)return this.where(e).lastOrDefault(void 0,t);t=e}var n,r=!1;return this.forEach(function(e){r=!0,n=e}),r?n:t},x.prototype.single=function(e){if(null!=e)return this.where(e).single();var t,n=!1;if(this.forEach(function(e){if(n)throw new Error("single:sequence contains more than one element.");n=!0,t=e}),!n)throw new Error("single:No element satisfies the condition.");return t},x.prototype.singleOrDefault=function(e,t){if(void 0===t&&(t=null),null!=e)return this.where(e).singleOrDefault(null,t);var n,r=!1;return this.forEach(function(e){if(r)throw new Error("single:sequence contains more than one element.");r=!0,n=e}),r?n:t},x.prototype.skip=function(e){var t=this;return new x(function(){var n,r=0;return new y(function(){for(n=t.getEnumerator();r++<e&&n.moveNext(););},function(){return!!n.moveNext()&&this.yieldReturn(n.current())},function(){f.dispose(n)})})},x.prototype.skipWhile=function(e){e=f.createLambda(e);var t=this;return new x(function(){var n,r=0,i=!1;return new y(function(){n=t.getEnumerator()},function(){for(;!i;){if(!n.moveNext())return!1;if(!e(n.current(),r++))return i=!0,this.yieldReturn(n.current())}return!!n.moveNext()&&this.yieldReturn(n.current())},function(){f.dispose(n)})})},x.prototype.take=function(e){var t=this;return new x(function(){var n,r=0;return new y(function(){n=t.getEnumerator()},function(){return!!(r++<e&&n.moveNext())&&this.yieldReturn(n.current())},function(){f.dispose(n)})})},x.prototype.takeWhile=function(e){e=f.createLambda(e);var t=this;return new x(function(){var n,r=0;return new y(function(){n=t.getEnumerator()},function(){return!(!n.moveNext()||!e(n.current(),r++))&&this.yieldReturn(n.current())},function(){f.dispose(n)})})},x.prototype.takeExceptLast=function(e){null==e&&(e=1);var t=this;return new x(function(){if(e<=0)return t.getEnumerator();var n,r=[];return new y(function(){n=t.getEnumerator()},function(){for(;n.moveNext();){if(r.length==e)return r.push(n.current()),this.yieldReturn(r.shift());r.push(n.current())}return!1},function(){f.dispose(n)})})},x.prototype.takeFromLast=function(e){if(e<=0||null==e)return x.empty();var t=this;return new x(function(){var n,r,i=[];return new y(function(){n=t.getEnumerator()},function(){for(;n.moveNext();)i.length==e&&i.shift(),i.push(n.current());return null==r&&(r=x.from(i).getEnumerator()),!!r.moveNext()&&this.yieldReturn(r.current())},function(){f.dispose(r)})})},x.prototype.indexOf=function(e){var t=null;return typeof e===d?this.forEach(function(n,r){if(e(n,r))return t=r,!1}):this.forEach(function(n,r){if(n===e)return t=r,!1}),null!==t?t:-1},x.prototype.lastIndexOf=function(e){var t=-1;return typeof e===d?this.forEach(function(n,r){e(n,r)&&(t=r)}):this.forEach(function(n,r){n===e&&(t=r)}),t},x.prototype.cast=function(){return this},x.prototype.asEnumerable=function(){return x.from(this)},x.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},x.prototype.toLookup=function(e,t,n){e=f.createLambda(e),t=f.createLambda(t),n=f.createLambda(n);var r=new T(n);return this.forEach(function(n){var i=e(n),o=t(n),a=r.get(i);void 0!==a?a.push(o):r.add(i,[o])}),new L(r)},x.prototype.toObject=function(e,t){e=f.createLambda(e),t=f.createLambda(t);var n={};return this.forEach(function(r){n[e(r)]=t(r)}),n},x.prototype.toDictionary=function(e,t,n){e=f.createLambda(e),t=f.createLambda(t),n=f.createLambda(n);var r=new T(n);return this.forEach(function(n){r.add(e(n),t(n))}),r},x.prototype.toJSONString=function(e,t){if(typeof JSON===h||null==JSON.stringify)throw new Error("toJSONString can't find JSON.stringify. This works native JSON support Browser or include json2.js");return JSON.stringify(this.toArray(),e,t)},x.prototype.toJoinedString=function(e,t){return null==e&&(e=""),null==t&&(t=a.Identity),this.select(t).toArray().join(e)},x.prototype.doAction=function(e){var t=this;return e=f.createLambda(e),new x(function(){var n,r=0;return new y(function(){n=t.getEnumerator()},function(){return!!n.moveNext()&&(e(n.current(),r++),this.yieldReturn(n.current()))},function(){f.dispose(n)})})},x.prototype.forEach=function(e){e=f.createLambda(e);var t=0,n=this.getEnumerator();try{for(;n.moveNext()&&!1!==e(n.current(),t++););}finally{f.dispose(n)}},x.prototype.write=function(e,t){null==e&&(e=""),t=f.createLambda(t);var n=!0;this.forEach(function(r){n?n=!1:document.write(e),document.write(t(r))})},x.prototype.writeLine=function(e){e=f.createLambda(e),this.forEach(function(t){document.writeln(e(t)+"<br />")})},x.prototype.force=function(){var e=this.getEnumerator();try{for(;e.moveNext(););}finally{f.dispose(e)}},x.prototype.letBind=function(e){e=f.createLambda(e);var t=this;return new x(function(){var n;return new y(function(){n=x.from(e(t)).getEnumerator()},function(){return!!n.moveNext()&&this.yieldReturn(n.current())},function(){f.dispose(n)})})},x.prototype.share=function(){var e,t=this,n=!1;return new M(function(){return new y(function(){null==e&&(e=t.getEnumerator())},function(){if(n)throw new Error("enumerator is disposed");return!!e.moveNext()&&this.yieldReturn(e.current())},a.Blank)},function(){n=!0,f.dispose(e)})},x.prototype.memoize=function(){var e,t,n=this,r=!1;return new M(function(){var i=-1;return new y(function(){null==t&&(t=n.getEnumerator(),e=[])},function(){if(r)throw new Error("enumerator is disposed");return i++,e.length<=i?!!t.moveNext()&&this.yieldReturn(e[i]=t.current()):this.yieldReturn(e[i])},a.Blank)},function(){r=!0,f.dispose(t),e=null})},x.prototype.catchError=function(e){e=f.createLambda(e);var t=this;return new x(function(){var n;return new y(function(){n=t.getEnumerator()},function(){try{return!!n.moveNext()&&this.yieldReturn(n.current())}catch(t){return e(t),!1}},function(){f.dispose(n)})})},x.prototype.finallyAction=function(e){e=f.createLambda(e);var t=this;return new x(function(){var n;return new y(function(){n=t.getEnumerator()},function(){return!!n.moveNext()&&this.yieldReturn(n.current())},function(){try{f.dispose(n)}finally{e()}})})},x.prototype.log=function(e){return e=f.createLambda(e),this.doAction(function(t){typeof console!==h&&console.log(e(t))})},x.prototype.trace=function(e,t){return null==e&&(e="Trace"),t=f.createLambda(t),this.doAction(function(n){typeof console!==h&&console.log(e,t(n))})};var _=function(e,t,n,r){this.source=e,this.keySelector=f.createLambda(t),this.descending=n,this.parent=r};_.prototype=new x,_.prototype.createOrderedEnumerable=function(e,t){return new _(this.source,e,t,this)},_.prototype.thenBy=function(e){return this.createOrderedEnumerable(e,!1)},_.prototype.thenByDescending=function(e){return this.createOrderedEnumerable(e,!0)},_.prototype.getEnumerator=function(){var e,t,n=this,r=0;return new y(function(){e=[],t=[],n.source.forEach(function(n,r){e.push(n),t.push(r)});var r=w.create(n,null);r.GenerateKeys(e),t.sort(function(e,t){return r.compare(e,t)})},function(){return r<t.length&&this.yieldReturn(e[t[r++]])},a.Blank)};var w=function(e,t,n){this.keySelector=e,this.descending=t,this.child=n,this.keys=null};w.create=function(e,t){var n=new w(e.keySelector,e.descending,t);return null!=e.parent?w.create(e.parent,n):n},w.prototype.GenerateKeys=function(e){for(var t=e.length,n=this.keySelector,r=new Array(t),i=0;i<t;i++)r[i]=n(e[i]);this.keys=r,null!=this.child&&this.child.GenerateKeys(e)},w.prototype.compare=function(e,t){var n=f.compare(this.keys[e],this.keys[t]);return 0==n?null!=this.child?this.child.compare(e,t):f.compare(e,t):this.descending?-n:n};var M=function(e,t){this.dispose=t,x.call(this,e)};M.prototype=new x;var S=function(e){this.getSource=function(){return e}};S.prototype=new x,S.prototype.any=function(e){return null==e?this.getSource().length>0:x.prototype.any.apply(this,arguments)},S.prototype.count=function(e){return null==e?this.getSource().length:x.prototype.count.apply(this,arguments)},S.prototype.elementAt=function(e){var t=this.getSource();return 0<=e&&e<t.length?t[e]:x.prototype.elementAt.apply(this,arguments)},S.prototype.elementAtOrDefault=function(e,t){void 0===t&&(t=null);var n=this.getSource();return 0<=e&&e<n.length?n[e]:t},S.prototype.first=function(e){var t=this.getSource();return null==e&&t.length>0?t[0]:x.prototype.first.apply(this,arguments)},S.prototype.firstOrDefault=function(e,t){if(void 0!==e)return x.prototype.firstOrDefault.apply(this,arguments);t=e;var n=this.getSource();return n.length>0?n[0]:t},S.prototype.last=function(e){var t=this.getSource();return null==e&&t.length>0?t[t.length-1]:x.prototype.last.apply(this,arguments)},S.prototype.lastOrDefault=function(e,t){if(void 0!==e)return x.prototype.lastOrDefault.apply(this,arguments);t=e;var n=this.getSource();return n.length>0?n[n.length-1]:t},S.prototype.skip=function(e){var t=this.getSource();return new x(function(){var n;return new y(function(){n=e<0?0:e},function(){return n<t.length&&this.yieldReturn(t[n++])},a.Blank)})},S.prototype.takeExceptLast=function(e){return null==e&&(e=1),this.take(this.getSource().length-e)},S.prototype.takeFromLast=function(e){return this.skip(this.getSource().length-e)},S.prototype.reverse=function(){var e=this.getSource();return new x(function(){var t;return new y(function(){t=e.length},function(){return t>0&&this.yieldReturn(e[--t])},a.Blank)})},S.prototype.sequenceEqual=function(e,t){return(!(e instanceof S||e instanceof Array)||null!=t||x.from(e).count()==this.count())&&x.prototype.sequenceEqual.apply(this,arguments)},S.prototype.toJoinedString=function(e,t){var n=this.getSource();return null==t&&n instanceof Array?(null==e&&(e=""),n.join(e)):x.prototype.toJoinedString.apply(this,arguments)},S.prototype.getEnumerator=function(){var e=this.getSource(),t=-1;return{current:function(){return e[t]},moveNext:function(){return++t<e.length},dispose:a.Blank}};var C=function(e,t){this.prevSource=e,this.prevPredicate=t};C.prototype=new x,C.prototype.where=function(e){if((e=f.createLambda(e)).length<=1){var t=this.prevPredicate;return new C(this.prevSource,function(n){return t(n)&&e(n)})}return x.prototype.where.call(this,e)},C.prototype.select=function(e){return(e=f.createLambda(e)).length<=1?new E(this.prevSource,this.prevPredicate,e):x.prototype.select.call(this,e)},C.prototype.getEnumerator=function(){var e,t=this.prevPredicate,n=this.prevSource;return new y(function(){e=n.getEnumerator()},function(){for(;e.moveNext();)if(t(e.current()))return this.yieldReturn(e.current());return!1},function(){f.dispose(e)})};var E=function(e,t,n){this.prevSource=e,this.prevPredicate=t,this.prevSelector=n};E.prototype=new x,E.prototype.where=function(e){return(e=f.createLambda(e)).length<=1?new C(this,e):x.prototype.where.call(this,e)},E.prototype.select=function(e){if((e=f.createLambda(e)).length<=1){var t=this.prevSelector;return new E(this.prevSource,this.prevPredicate,function(n){return e(t(n))})}return x.prototype.select.call(this,e)},E.prototype.getEnumerator=function(){var e,t=this.prevPredicate,n=this.prevSelector,r=this.prevSource;return new y(function(){e=r.getEnumerator()},function(){for(;e.moveNext();)if(null==t||t(e.current()))return this.yieldReturn(n(e.current()));return!1},function(){f.dispose(e)})};var T=function(){var e=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t=function(e){return null===e?"null":void 0===e?"undefined":typeof e.toString===d?e.toString():Object.prototype.toString.call(e)},n=function(e,t){this.key=e,this.value=t,this.prev=null,this.next=null},r=function(){this.first=null,this.last=null};r.prototype={addLast:function(e){null!=this.last?(this.last.next=e,e.prev=this.last,this.last=e):this.first=this.last=e},replace:function(e,t){null!=e.prev?(e.prev.next=t,t.prev=e.prev):this.first=t,null!=e.next?(e.next.prev=t,t.next=e.next):this.last=t},remove:function(e){null!=e.prev?e.prev.next=e.next:this.first=e.next,null!=e.next?e.next.prev=e.prev:this.last=e.prev}};var i=function(e){this.countField=0,this.entryList=new r,this.buckets={},this.compareSelector=null==e?a.Identity:e};return i.prototype={add:function(r,i){var o=this.compareSelector(r),a=t(o),s=new n(r,i);if(e(this.buckets,a)){for(var l=this.buckets[a],c=0;c<l.length;c++)if(this.compareSelector(l[c].key)===o)return this.entryList.replace(l[c],s),void(l[c]=s);l.push(s)}else this.buckets[a]=[s];this.countField++,this.entryList.addLast(s)},get:function(n){var r=this.compareSelector(n),i=t(r);if(e(this.buckets,i))for(var o=this.buckets[i],a=0;a<o.length;a++){var s=o[a];if(this.compareSelector(s.key)===r)return s.value}},set:function(r,i){var o=this.compareSelector(r),a=t(o);if(e(this.buckets,a))for(var s=this.buckets[a],l=0;l<s.length;l++)if(this.compareSelector(s[l].key)===o){var c=new n(r,i);return this.entryList.replace(s[l],c),s[l]=c,!0}return!1},contains:function(n){var r=this.compareSelector(n),i=t(r);if(!e(this.buckets,i))return!1;for(var o=this.buckets[i],a=0;a<o.length;a++)if(this.compareSelector(o[a].key)===r)return!0;return!1},clear:function(){this.countField=0,this.buckets={},this.entryList=new r},remove:function(n){var r=this.compareSelector(n),i=t(r);if(e(this.buckets,i))for(var o=this.buckets[i],a=0;a<o.length;a++)if(this.compareSelector(o[a].key)===r)return this.entryList.remove(o[a]),o.splice(a,1),0==o.length&&delete this.buckets[i],void this.countField--},count:function(){return this.countField},toEnumerable:function(){var e=this;return new x(function(){var t;return new y(function(){t=e.entryList.first},function(){if(null!=t){var e={key:t.key,value:t.value};return t=t.next,this.yieldReturn(e)}return!1},a.Blank)})}},i}(),L=function(e){this.count=function(){return e.count()},this.get=function(t){return x.from(e.get(t))},this.contains=function(t){return e.contains(t)},this.toEnumerable=function(){return e.toEnumerable().select(function(e){return new P(e.key,e.value)})}},P=function(e,t){this.key=function(){return e},S.call(this,t)};P.prototype=new S,"function"===d&&n(106)?void 0===(r=function(){return x}.apply(t,[]))||(e.exports=r):typeof e!==h&&e.exports?e.exports=x:i.Enumerable=x}(this)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(0),l=n(20),c=n(21),u=n(43),h=n(64),d=n(73),p=n(37),f=n(62);!function(e){e[e.R=1]="R",e[e.G=2]="G",e[e.B=4]="B",e[e.A=8]="A"}(a=t.ColorMaskFlag||(t.ColorMaskFlag={})),t.ColorMaskFlagAll=a.R|a.G|a.B|a.A;var m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={included_channels:n.props.node.included_channels},n}return i(t,e),t.prototype.updateState=function(e){e.updateColorChannels(),this.setState({included_channels:e.included_channels}),null!=this.textureNodeRenderer&&this.textureNodeRenderer.updateState(e)},t.prototype.render=function(){var e=this;return s.createElement(p.TextureNodeRenderer,{ref:function(t){return e.textureNodeRenderer=t},assetClicked:this.props.assetClicked,assetChanged:this.props.assetChanged,onTitleHover:this.props.onTitleHover,channelMouseDown:this.props.channelMouseDown,channelMouseUp:this.props.channelMouseUp,node:this.props.node})},t}(s.Component);t.ColorChannelNodeRenderer=m;var g=function(e){function n(n){var r=e.call(this,n)||this;return r.nodeType="ColorChannelNode",r.included_channels=n.included_channels||[t.ColorMaskFlagAll],r.addChannel({name:"input_sampler",attributes:[{name:"value",type:"sampler2d"}],direction:c.NodeGraphChannelDirection.Inbound}),r.createIncludedChannels(),r}return i(n,e),n.prototype.serialize=function(){return o({},e.prototype.serialize.call(this),{included_channels:f.from(this.included_channels).select(function(e){return Number(e)}).toArray()})},n.prototype.updateColorChannels=function(){this.removeChannel("_channel_sampler",c.NodeGraphChannelDirection.Outbound),this.createIncludedChannels()},n.prototype.interface=function(e){var t=this;return s.createElement(m,{ref:function(n){return e.registerNodeReference(l.NodeGraphNamespace.getNodeNamespace(t),n)},assetClicked:function(t){return e.onAssetClicked(t)},assetChanged:function(t,n){return e.onAssetChanged(t,n)},onTitleHover:function(t,n,r){return e.onEntityHover(t,n,r)},channelMouseDown:function(t,n,r){return e.onChannelDown(t,n,r)},channelMouseUp:function(t,n,r){return e.onChannelUp(t,n,r)},key:this.id,node:this})},n.prototype.createIncludedChannels=function(){for(var e=[],t=0;t<this.included_channels.length;++t){var n=this.included_channels[t],r=d.enumFlagsToString(a,n).replaceAll("|",""),i=r.toLowerCase()+"_channel_sampler";-1==e.indexOf(r)?(this.addChannel({name:i,attributes:[{name:"value",type:"sampler2d",expression:"#"+this.id+"_"+r+"ChannelSampler"}],direction:c.NodeGraphChannelDirection.Outbound}),e.push(r)):this.included_channels.splice(t,1)}},n.prototype.copyPixelsWithMask=function(e,t,n){if(e.data.size!=t.data.size)throw"Texture size of source does not match size of target";for(var r=n&a.R?255:0,i=n&a.G?255:0,o=n&a.B?255:0,s=n&a.A?255:0,l=t.data,c=0;c<t.data.length;c+=4)l[c]=e.data[c]&r|0,l[c+1]=e.data[c+1]&i|0,l[c+2]=e.data[c+2]&o|0,l[c+3]=e.data[c+3]&s|0},n.prototype.renderToCanvas=function(t){e.prototype.renderToCanvas.call(this,t);var n=this.getChannelAttribute("input_sampler","value",c.NodeGraphChannelDirection.Inbound),r=this.nodeGraph.getSourceOfTargetAttribute(n);if(null!=r){var i=u.NodeGraphExpression.evaluate(this.nodeGraph,r.expression);if(null!=i&&h.NodeGraphValidator.validateType(i,n.type))for(var o=i,s=o.getContext("2d").getImageData(0,0,o.width,o.height),l=null,p=null,f=null,m=0;m<this.included_channels.length;++m){var g=this.included_channels[m],v=d.enumFlagsToString(a,g).replaceAll("|","");(l=null==l?t:document.createElement("canvas")).id=this.id+"_"+v+"ChannelSampler",l.width=this.width,l.height=this.height,f=(p=l.getContext("2d")).getImageData(0,0,l.width,l.height),this.copyPixelsWithMask(s,f,g),p.putImageData(f,0,0),this.nodeGraph.registerEntity(l)}}},n}(p.TextureNode);t.ColorChannelNode=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.validateType=function(e,t){switch(t){case"sampler2d":return e instanceof HTMLCanvasElement}return!1},e}();t.NodeGraphValidator=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(42),l=n(21),c=n(20),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hoveringLink:!1,sourceCoordinate:null,targetCoordinate:n.props.targetCoordinate||{x:0,y:0}},n}return i(t,e),t.prototype.deferredUpdate=function(){var e=document.getElementById(this.props.nodeGraph.id+"_LinksDisplay"),t=document.getElementById(this.props.sourceChannel);if(null==e)return null;var n=e.getBoundingClientRect(),r=null;null!=this.props.targetChannel?r=document.getElementById(this.props.targetChannel).getBoundingClientRect():null!=this.props.targetCoordinate&&(r={left:n.left+this.props.targetCoordinate.x,top:n.top+this.props.targetCoordinate.y,right:n.left+this.props.targetCoordinate.x+10,bottom:n.top+this.props.targetCoordinate.y+10});if(null==t||null==r)return a.createElement("path",{id:this.props.id+"_Path"});var i=t.getBoundingClientRect(),s=i.right-i.left,l=i.bottom-i.top,c=(r.right,r.left,r.bottom-r.top),u=(0|i.left)+s-n.left,h=(0|i.top)+.5*l-n.top,d=(0|r.left)-n.left,p=(0|r.top)+.5*c-n.top;this.setState(o({},this.state,{sourceCoordinate:{x:u,y:h},targetCoordinate:{x:d,y:p}}))},t.prototype.componentDidMount=function(){var e=this;null!=this.updateInterval&&clearInterval(this.updateInterval),this.updateInterval=setInterval(function(){return e.deferredUpdate()},10)},t.prototype.componentWillUnmount=function(){null!=this.updateInterval&&clearInterval(this.updateInterval)},t.prototype.onEnterLink=function(e){this.state.hoveringLink||null==this.props.onLinkHover||(this.props.onLinkHover("link",e,!0),this.setState({hoveringLink:!0}))},t.prototype.onLeaveLink=function(e){this.state.hoveringLink&&null!=this.props.onLinkHover&&(this.props.onLinkHover("link",e,!1),this.setState({hoveringLink:!1}))},t.prototype.render=function(){var e=this;if(null==this.state.sourceCoordinate)return a.createElement("path",{id:this.props.id+"_Path",className:"nodeGraphLink"});var t="M"+this.state.sourceCoordinate.x+","+this.state.sourceCoordinate.y+" C"+(this.state.sourceCoordinate.x+64)+","+this.state.sourceCoordinate.y+" "+(this.state.targetCoordinate.x-64)+","+this.state.targetCoordinate.y+" "+this.state.targetCoordinate.x+","+this.state.targetCoordinate.y;return a.createElement("path",{onMouseEnter:function(t){return e.onEnterLink(e.props.id)},onMouseLeave:function(t){return e.onLeaveLink(e.props.id)},id:this.props.id+"_Path",d:t,className:"nodeGraphLink "+(null!=this.props.targetCoordinate?"dashed":null)})},t}(a.Component);t.NodeGraphLinkRenderer=u;var h=function(){function e(e){if(null==e||null==e.sourceExpression||null==e.targetExpression)throw new ReferenceError("sourceExpression and targetExpression are required options");this.id=e.id||s(),this.nodeGraph=e.nodeGraph,this.sourceExpression=e.sourceExpression,this.targetExpression=e.targetExpression}return e.prototype.interface=function(e){var t=this.nodeGraph.getAssetByNamespace(this.sourceExpression),n=this.nodeGraph.getAssetByNamespace(this.targetExpression);if(null!=t&&t.object instanceof l.NodeGraphChannel&&null!=n&&n.object instanceof l.NodeGraphChannel){var r=c.NodeGraphNamespace.getChannelNamespace(t.object),i=c.NodeGraphNamespace.getChannelNamespace(n.object);return a.createElement(u,{key:this.id,onLinkHover:function(t,n,r){return e.onEntityHover(t,n,r)},nodeGraph:this.nodeGraph,id:this.id,sourceChannel:r,targetChannel:i})}return null},e.prototype.updateState=function(e){},e.prototype.serialize=function(){return{id:this.id,sourceExpression:this.sourceExpression,targetExpression:this.targetExpression}},e}();t.NodeGraphLink=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(36);t.PrimitiveNode=r.PrimitiveNode;var i=n(81);t.NoiseNode=i.NoiseNode;var o=n(82);t.TransformNode=o.TransformNode;var a=n(83);t.TileNode=a.TileNode;var s=n(37);t.TextureNode=s.TextureNode;var l=n(63);t.ColorChannelNode=l.ColorChannelNode;var c=n(84);t.OutboundNode=c.OutboundNode,t.NodeLibraryMetadata={OutboundNode:{icon:"CircleRing",description:""},ColorChannelNode:{icon:"ColorSolid",description:""},TileNode:{icon:"PictureTile",description:""},TransformNode:{icon:"PanoIndicator",description:""},NoiseNode:{icon:"Fingerprint",description:""}}},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(22),i=n(53);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(i.a)(e),o=n.classes,a=n.objects;return a.length&&o.push(Object(r.c)(a)),o.join(" ")}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(53),i=n(32),o=n(22);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={subComponentStyles:{}},a={},s=e[0];if(!s&&e.length<=1)return{subComponentStyles:{}};var l=s;l=i.a.apply(void 0,e);var c=[];for(var u in l)if(l.hasOwnProperty(u)){if("subComponentStyles"===u){n.subComponentStyles=l.subComponentStyles||{};continue}var h=l[u],d=Object(r.a)(h),p=d.classes,f=d.objects,m=Object(o.d)({displayName:u},f);c.push(m),m&&(a[u]=m.className,n[u]=p.concat([m.className]).join(" "))}for(var g=0,v=c;g<v.length;g++){(m=v[g])&&Object(o.a)(m,a)}return n}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(42);n(103),n(105),n(73);var o=n(74),a=n(20),s=n(63),l=n(65),c=n(66),u=n(85),h=function(){function e(e){this.guidRegex=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,e=e||{},this.id=i(),this.links=[],this.nodes=[],this.groups=e.groups||[],this.entityRegistry={},this.addLinks(e.links),this.addNodes(e.nodes)}return e.prototype.removeLinkTo=function(e){for(var t=null,n=0;n<this.links.length;++n){if(this.links[n].targetExpression===e){t=n;break}}null!=t&&this.links.splice(t,1)},e.prototype.addLinks=function(e){if(null==e)throw"Cannot add null to links";for(var t=0;t<e.length;++t){var n=e[t];if(null==n)throw"Cannot add null to links";n.nodeGraph=this,this.links.push(n)}},e.prototype.addNodes=function(e){if(null==e)throw"Cannot add null to nodes";for(var t=0;t<e.length;++t){var n=e[t];if(null==n)throw"Cannot add null to nodes";n.nodeGraph=this,console.debug("addNode:",n),this.registerEntity(n),this.nodes.push(n)}},e.serialize=function(e){for(var t={links:[],nodes:[],groups:[]},n=0;n<e.links.length;++n)t.links.push(e.links[n].serialize());for(n=0;n<e.nodes.length;++n)t.nodes.push(e.nodes[n].serialize());for(n=0;n<e.groups.length;++n)t.groups.push(e.groups[n].serialize());return t},e.deserialize=function(t){var n=JSON.parse(atob(t)),r=[],i=[],o=[];if(null!=n.links)for(var a=0;a<n.links.length;++a)r.push(new l.NodeGraphLink({id:n.links[a].id,sourceExpression:n.links[a].sourceExpression,targetExpression:n.links[a].targetExpression}));if(null!=n.nodes)for(a=0;a<n.nodes.length;++a){var s=n.nodes[a];i.push(new c[s.nodeType](s))}if(null!=n.groups)for(a=0;a<n.groups.length;++a){var h=n.groups[a];o.push(new u.NodeGraphGroup(h))}return new e({links:r,nodes:i,groups:o})},e.prototype.removeLink=function(e){if(null==e)throw"Cannot remove link with null id";for(var t=-1,n=0;n<this.links.length;++n){if(this.links[n].id===e){t=n;break}}t>=0&&this.links.splice(t,1)},e.prototype.removeNode=function(e){if(null==e)throw"Cannot remove node with null id";for(var t=[],n=-1,r=0;r<this.nodes.length;++r){var i=this.nodes[r];if(i.id===e){n=r,t=i.getInboundLinkPaths();break}}for(;t.length>0;){var o=t.pop();this.removeLinkTo(o)}n>=0&&this.nodes.splice(n,1)},e.prototype.registerEntity=function(e){this.entityRegistry.hasOwnProperty(e.id)&&delete this.entityRegistry[e.id],this.entityRegistry[e.id]=e},e.prototype.getNodeById=function(e){return console.debug("getNodeById:",this.entityRegistry),this.entityRegistry[e]},e.prototype.getAssetByNamespace=function(e){var t=e.split("/"),n=null;for(console.debug("assetByNamespace:",e);t.length>0;){var r=t.shift();if(""!=r.trim())if("~"==r)n=null;else if(this.guidRegex.test(r))n=this.getNodeById(r);else if("@"==r[0]){var i=r.substr(1);if(null==n||null==n.attributes)return null;n=n.attributes[i]}else null!=n&&n.hasOwnProperty(r)&&(n=n[r])}return n},e.prototype.getSourceOfTargetAttribute=function(e){for(var t=a.NodeGraphNamespace.getAttributeNamespace(e),n=0;n<this.links.length;++n){if(this.links[n].targetExpression==t)return this.getAssetByNamespace(this.links[n].sourceExpression)}return null},e}();t.NodeGraph=h,t.NodeGraphAssembly=new o.ObjectInspectorAssembly("NodeGraph",{IVector2:{x:"number",y:"number"},"@enum;NodeGraphDataType:string":{string:"string",number:"number",boolean:"boolean",vec2:"vec2",sampler2d:"sampler2d"},"@flags;ColorMaskFlag:number":{R:"1",G:"2",B:"4",A:"8"},"NodeGraphExpression:string":{},NodeGraphAttribute:{name:"@key;string",type:"NodeGraphDataType",expression:"nullable<string>",read_only:"boolean"},PrimitiveNode:{name:"string",id:"readonly<string>",coordinate:"IVector2",attributes:"dictionary<NodeGraphAttribute>"},"NoiseNode:PrimitiveNode":{seed:"number"},"OutboundNode:PrimitiveNode":{},"ColorChannelNode:PrimitiveNode":{included_channels:"array<ColorMaskFlag>"},NodeTransform:{scale:"IVector2",offset:"IVector2"},TileProperties:{repeat:"IVector2"},"TransformNode:PrimitiveNode":{transform:"NodeTransform"},"TileNode:PrimitiveNode":{tile_properties:"TileProperties"}},function(e){switch(e){case"ColorMaskFlag":return s.ColorMaskFlagAll;case"NodeGraphAttribute":return{name:"newAttribute1",type:"string",expression:null,read_only:!1}}},function(e,t,n,i,a,s){switch(a){case"IVector2":return r.createElement(o.ObjectInspectorRenderer,{key:t,path:t,label:n,onChange:e.props.onChange,instance:e.props.instance,propertyName:i,target:e.getTarget()[i],type:a,assembly:e.props.assembly})}return null})},function(e,t,n){"use strict";function r(e,t){for(var n=Object.keys(e),r=[],i=0;i<n.length;++i){var o=n[i];if(e.hasOwnProperty(o)){var a=e[o];t&e[a]&&r.push(a)}}return r.join("|")}Object.defineProperty(t,"__esModule",{value:!0}),t.enumFlagsToString=r,Number.prototype.enumFlagsToString=function(e){return r(e,this)}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(62);n(107);var l=n(127),c=n(38),u=n(87),h=n(131),d=n(90),p=n(86),f=n(109),m=n(44),g=n(110);l.initializeIcons();var v=function(){function e(e,t,n){this.propertyName=e,this.propertyDisplayName=s.from(e.split("_")).selectMany(function(e){return e.split("-")}).selectMany(function(e){return e.split(".")}).select(function(e){return""+e.charAt(0).toUpperCase()+e.substr(1)}).toArray().join(""),this.propertyType=t,this.propertyClassType=n,this.decorators=[]}return e.prototype.isKey=function(){return this.hasDecorator(e.STR_KEY_DECORATOR)},e.prototype.hasDecorator=function(e){return this.decorators.indexOf(e)>=0},e.prototype.addDecorator=function(e){this.decorators.push(e)},e.prototype.getName=function(){return this.propertyName},e.prototype.getDisplayName=function(){return this.propertyDisplayName},e.prototype.getValue=function(e){return e[this.getName()]},e.prototype.setConstantValue=function(e){this.constantValue=e},e.prototype.hasConstantValue=function(){return null!=this.constantValue},e.prototype.getConstantValue=function(){return this.constantValue},e.prototype.getReflectedType=function(){return this.propertyClassType},e.prototype.getType=function(){return this.propertyType},e.STR_KEY_DECORATOR="key",e}();t.ObjectSchemaProperty=v;var y=function(){function e(t,n,r){if(void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),null!=t){if(this.decorators=[],t.indexOf(";")>=0){var i=t.split(";"),o=i[0];t=i[1];o=o.substr(1),e.acceptedTypeDecorators.indexOf(o)>=0&&this.decorators.push(o)}var a=t.split(":"),s=(t=a[0],a[1]);this.typeName=t,this.typeSchema=n,this.executingAssembly=r,null!=s&&(this.inheritedType=this.executingAssembly.getType(s))}}return e.prototype.getEnumKeyByValue=function(e){var t=this.getProperties();return s.from(t).where(function(t){return e==t.getConstantValue()}).select(function(e){return e.getName()}).firstOrDefault()},e.prototype.getFlagFromEnumValues=function(e){for(var t=0,n=0;n<e.length;++n)t|=Number(e[n]);return t},e.prototype.getEnumValuesInFlag=function(e){var t=this.getProperties();return s.from(t).where(function(t){return(e&Number(t.getConstantValue()))>0}).select(function(e){return e.getConstantValue()}).toArray()},e.prototype.getEnumKeysInFlag=function(e){var t=this.getProperties();return s.from(t).where(function(t){return(e&Number(t.getConstantValue()))>0}).select(function(e){return e.getName()}).toArray()},e.prototype.hasDecorator=function(e){return this.decorators.indexOf(e)>=0},e.prototype.isEnum=function(){return this.hasDecorator("enum")||this.isFlags()},e.prototype.isFlags=function(){return this.hasDecorator("flags")},e.prototype.getName=function(){return this.typeName},e.prototype.setGenericType=function(e){this.genericType=e},e.prototype.hasInheritedType=function(){return null!=this.inheritedType},e.prototype.getInheritedType=function(){return this.inheritedType},e.prototype.getExecutingAssembly=function(){return this.executingAssembly},e.prototype.getGenericType=function(){return this.genericType},e.prototype.getProperties=function(){var t=[],n={};if(this.hasInheritedType()){var r=this.getInheritedType().typeSchema;for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])}for(var o in this.typeSchema)this.typeSchema.hasOwnProperty(o)&&(n[o]=this.typeSchema[o]);for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],l=null;if(this.isEnum())(l=new v(a,this.inheritedType,this)).setConstantValue(s),t.push(l);else{var c=null;if(s.indexOf(";")>=0){var u=s.split(";"),h=u[0];s=u[1];h=h.substr(1),e.acceptedPropertyDecorators.indexOf(h)>=0&&(c=this.executingAssembly.getType(s),(l=new v(a,c,this)).addDecorator(h))}else c=this.executingAssembly.getType(s),l=new v(a,c,this);t.push(l)}}return t},e.acceptedTypeDecorators=["enum","flags"],e.acceptedPropertyDecorators=[v.STR_KEY_DECORATOR],e}();t.ObjectSchema=y,t.JavascriptAssembly={number:{},string:{},boolean:{}};var b=function(){function e(e,n,r,i){this.name=e;var o=Object.assign(t.JavascriptAssembly,n);for(var a in this.types={},this.activator=r,this.onRenderType=i,o)if(o.hasOwnProperty(a)){var s=new y(a,o[a],this);this.types[s.getName()]=s}}return e.prototype.activate=function(e){var t=this.activator(e);if(null!=t)switch(e){case"number":return 0;case"string":return"";case"boolean":return!1}return t},e.prototype.getName=function(){return this.name},e.prototype.getTypes=function(){return this.types},e.prototype.getTypeInterface=function(e,t,n,r,i,o){return this.onRenderType(e,t,n,r,i,o)},e.prototype.getType=function(t){if(null==t||""==t.trim())return null;for(var n=null,r=0;r<e.builtInGenerics.length;++r){var i=e.builtInGenerics[r];if(0==t.indexOf(i+"<")){var o=t.substr(i.length+1,t.length-(i.length+2)),a=this.getType(o);return(n=new y(i,{},this)).setGenericType(a),n}}return this.types[t]},e.builtInGenerics=["array","readonly","nullable","dictionary"],e}();t.ObjectInspectorAssembly=b;var x=function(e){function t(t){var n=e.call(this,t)||this,r=n.initializeValues(n.props);return n.state={expandedKeys:[],values:r},n}return i(t,e),t.prototype.getValueExpression=function(e,t){var n=this.props.assembly.getType(t);if(n.hasInheritedType()&&(t=n.getInheritedType().getName()),null==e)return"null";switch(t){case"string":return"`"+e+"`";case"number":return parseInt(e);case"boolean":return"true"===e||!0===e?"true":"false"}return"null"},t.prototype.setInstanceValueByPath=function(e,t,n,r){var i=r+" = "+this.getValueExpression(e,t)+"; return _;",o=new Function("_",i)(n);return this.props.onChange(),this.invalidated=!0,o},t.prototype.toggleNullable=function(e,t,n){var r=t+"_null";this.state.values[r]=e,e?this.setInstanceValueByPath(null,n,this.props.instance,t):this.setInstanceValueByPath(this.state.values[t],n,this.props.instance,t),this.setState(o({},this.state))},t.prototype.initializeValues=function(e){var t={},n=e.assembly.getType(e.type);if(null!=n)if(n.isFlags())t[e.path]=this.getTarget(e);else for(var r=n.getProperties(),i=0;i<r.length;++i){var o=r[i],a=(e.path||"_")+"."+o.getName(),s=o.getValue(this.getTarget(e));t[a]=s}return null!=e.path&&null!=e.propertyName&&null!=this.getTarget(e)&&("nullable"===e.type&&(t[e.path+"."+e.propertyName+"_null"]=null==this.getTarget(e)[e.propertyName]),t[e.path+"."+e.propertyName]=this.getTarget(e)[e.propertyName]),t},t.prototype.componentWillReceiveProps=function(e){var t=this.initializeValues(e);this.setState({expandedKeys:this.state.expandedKeys,values:t})},t.prototype.onChangeValue=function(e,t,n){this.setInstanceValueByPath(e,n,this.props.instance,t),this.state.values[t]=e,this.setState(o({},this.state))},t.prototype.shouldComponentUpdate=function(e,t){var n=this;if(this.invalidated)return this.invalidated=!1,!0;if(e.instance!==this.props.instance)return!0;if(t.values===this.state.values)for(var r in t.values){if(t.values[r]===this.state.values[r])return!0}return t.expandedKeys.length!==this.state.expandedKeys.length||!s.from(t.expandedKeys).all(function(e){return n.state.expandedKeys.indexOf(e)>=0})},t.prototype.getTarget=function(e){return void 0===e&&(e=null),(e=e||this.props).target||e.instance},t.prototype.renderInspectorOfType=function(e,n,r,i){var o=this,s=null==e?this.props.path:(this.props.path||"_")+"."+e,l=this.state.values[s+"_null"]||!1,m=!1,v=null;if("readonly"===r)l=!0,n=n.getGenericType(),r=n.getName();else if("nullable"===r)m=!0,n=n.getGenericType(),r=n.getName();else{if("array"===r)return n=n.getGenericType(),r=n.getName(),a.createElement(f.ExpansionPanel,{key:s,expanded:this.isExpanded(s),onChange:function(){return o.toggleExpanded(s)},title:i},a.createElement(w,{key:s,path:s,onChange:this.props.onChange,label:i,instance:this.props.instance,propertyName:e,target:this.getTarget()[e],type:r,assembly:this.props.assembly}));if("dictionary"===r)return n=n.getGenericType(),r=n.getName(),a.createElement(f.ExpansionPanel,{key:s,expanded:this.isExpanded(s),onChange:function(){return o.toggleExpanded(s)},title:i},a.createElement(_,{key:s,path:s,label:i,onChange:this.props.onChange,instance:this.props.instance,propertyName:e,target:this.getTarget()[e],type:r,assembly:this.props.assembly}));if(n.isEnum()){var y=!1,b=this.state.values[s];n.isFlags()&&(y=!0,b=n.getEnumValuesInFlag(b));var x=n.getProperties().map(function(e){return{key:e.getConstantValue(),text:e.getName()}});console.log("options:",x,"selectedValue:",b),v=a.createElement(p.ComboBox,{multiSelect:y,disabled:l,key:s,defaultSelectedKey:b,options:x,onChange:function(e,t,i,a){if(null!=t){if(y){var l=b.indexOf(t.key);l>=0?b.splice(l,1):b.push(t.key)}return o.onChangeValue(y?n.getFlagFromEnumValues(b):t.text,s,r)}}})}}if(null==v)switch(r){case"string":v=a.createElement(u.TextField,{id:s,style:{width:"100%"},name:s,key:s,disabled:l,value:this.state.values[s],onChange:function(e,t){return o.onChangeValue(t,s,r)}});break;case"number":v=a.createElement(g.NumberField,{id:s,style:{width:"100%"},name:s,key:s,disabled:l,value:String(this.state.values[s]),onChange:function(e,t){return o.onChangeValue(parseInt(t),s,r)}});break;case"boolean":v=a.createElement(d.Checkbox,{id:s,disabled:l,key:s,name:s,checked:this.state.values[s],value:s,onChange:function(e,t){return o.onChangeValue(t,s,r)}});break;default:if(null==e)return a.createElement("span",null,"NULL");var M=this.props.assembly.getTypeInterface(this,s,i,e,r,l);if(null==M)return a.createElement(f.ExpansionPanel,{key:s,expanded:this.isExpanded(s),onChange:function(){return o.toggleExpanded(s)},title:i},a.createElement(t,{key:s,path:s,label:i,onChange:this.props.onChange,instance:this.props.instance,propertyName:e,target:this.getTarget()[e],type:r,assembly:this.props.assembly}));v=M}var S=i||e,C=!this.props.hidePropertyName&&null!=(i||e),E=s+"_null";return a.createElement("table",{className:"propertyTable",key:s,style:{width:"100%"}},a.createElement("tbody",null,a.createElement("tr",null,C?a.createElement("td",{className:"keyColumn",style:{width:"15%"}},a.createElement(c.Label,{htmlFor:s},S)):null,m?[a.createElement("td",{colSpan:C?1:2,style:{textAlign:"center"},key:0},v),a.createElement("td",{key:1},a.createElement(h.Toggle,{id:s,checked:this.state.values[E],onChange:function(e,t){return o.toggleNullable(t,s,r)}}))]:a.createElement("td",{colSpan:C?2:3,style:{textAlign:"center"}},v))))},t.prototype.toggleExpanded=function(e){if(this.isExpanded(e)){var t=this.state.expandedKeys.indexOf(e);(n=s.from(this.state.expandedKeys).toArray()).splice(t,1),this.setState({values:this.state.values,expandedKeys:n})}else{var n;(n=s.from(this.state.expandedKeys).toArray()).push(e),this.setState({values:this.state.values,expandedKeys:n})}},t.prototype.isExpanded=function(e){return this.state.expandedKeys.indexOf(e)>=0},t.prototype.render=function(){var e=this.props.schema||this.props.assembly.getType(this.props.type),t=[];if(null!=e&&!e.isEnum())for(var n=e.getProperties(),r=0;r<n.length;++r){var i=n[r];t.push(this.renderInspectorOfType(i.getName(),i.getType(),i.getType().getName(),i.getDisplayName()))}return 0==t.length?(console.log("log:",this.props.type,this.props.schema,e),this.renderInspectorOfType(this.props.propertyName,e,e.getName(),this.props.label)):null==this.props.path?a.createElement("div",null,t):t},t}(a.Component);t.ObjectInspectorRenderer=x;var _=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t.prototype.render=function(){var e=this,t=this.props.assembly.getType(this.props.type),n=s.from(t.getProperties()).where(function(e){return!e.isKey()}).toArray(),r=[];for(var i in this.props.target)this.props.target.hasOwnProperty(i)&&function(t){var i=e.props.path+"['"+t+"']";r.push(a.createElement("tr",{key:i},a.createElement("td",{className:"keyColumn"},t),n.map(function(n){return a.createElement("td",{key:n.getName()},a.createElement(x,{key:t,onChange:e.props.onChange,instance:e.props.instance,label:n.getDisplayName(),propertyName:n.getName(),type:n.getType().getName(),path:i,hidePropertyName:!0,target:e.props.target[t],schema:n.getType(),assembly:e.props.assembly}))})))}(i);return a.createElement("table",{className:"inspectorTable"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{className:"keyColumn"},"Key"),n.map(function(e){return a.createElement("th",{key:e.getName()},e.getDisplayName())}))),a.createElement("tbody",null,r))},t}(x);t.ObjectInspectorDictionaryRenderer=_;var w=function(e){function t(t){var n=e.call(this,t)||this;return n.state={elements:n.props.target},n}return i(t,e),t.prototype.addElement=function(){this.props.target.push(this.props.assembly.activate(this.props.type)),this.props.onChange(),this.setState({elements:this.props.target})},t.prototype.removeElement=function(e){this.state.elements.splice(e,1),this.props.onChange(),this.setState({elements:this.props.target})},t.prototype.render=function(){for(var e,t,n=this,r=[],i=0;i<this.state.elements.length;++i)e=i,t=void 0,t=n.props.path+"["+e+"]",r.push(a.createElement("tr",{key:t},a.createElement("td",{className:"keyColumn"},a.createElement(m.IconButton,{iconProps:{iconName:"Up"},title:"Move up",ariaLabel:"Move up"}),a.createElement(m.IconButton,{iconProps:{iconName:"Down"},title:"Move down",ariaLabel:"Move down"}),a.createElement(m.IconButton,{iconProps:{iconName:"Delete"},title:"Remove",ariaLabel:"Remove"})),a.createElement("td",null,a.createElement(x,{key:t,path:t,onChange:n.props.onChange,hidePropertyName:!0,instance:n.props.instance,propertyIndex:e,target:n.props.target[e],type:n.props.type,assembly:n.props.assembly}))));return a.createElement("table",{className:"inspectorTable"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{className:"keyColumn",style:{width:"200px"}},a.createElement(m.DefaultButton,{iconProps:{iconName:"Add"},onClick:function(e){return n.addElement()}})),a.createElement("th",null,this.props.type))),a.createElement("tbody",null,r))},t}(a.Component);t.ObjectInspectorArrayRenderer=w},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],u=!1,h=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!u){var e=s(d);u=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(10),i=n(22);function o(e){r.a.getInstance().insertRule("@font-face{"+Object(i.b)(e)+"}",!0)}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(10),i=n(22);function o(e){var t=r.a.getInstance(),n=t.getClassName(),o=[];for(var a in e)e.hasOwnProperty(a)&&o.push(a,"{",Object(i.b)(e[a]),"}");var s=o.join("");return t.insertRule("@keyframes "+n+"{"+s+"}",!0),t.cacheClassName(n,s,[],["keyframes",s]),n}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=n(31).a},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(1),i=n(0),o=n(11),a=n(9),s=n(6),l=n(7),c=n(35),u=n(24),h=n(58),d=n(135),p=n(19),f=n(34),m="data-no-horizontal-wrap",g={},v=["text","number","password","email","tel","url","search"],y=!1,b=function(e){function t(t){var n=e.call(this,t)||this;return n._root=i.createRef(),n._onFocus=function(e){var t=n.props,r=t.onActiveElementChanged,i=t.doNotAllowFocusEventToPropagate,o=t.onFocusNotification;if(o&&o(),n._isImmediateDescendantOfZone(e.target))n._activeElement=e.target,n._setFocusAlignment(n._activeElement);else for(var l=e.target;l&&l!==n._root.current;){if(Object(a.j)(l)&&n._isImmediateDescendantOfZone(l)){n._activeElement=l;break}l=Object(s.e)(l,y)}r&&r(n._activeElement,e),i&&e.stopPropagation()},n._onMouseDown=function(e){if(!n.props.disabled){for(var t=e.target,r=[];t&&t!==n._root.current;)r.push(t),t=Object(s.e)(t,y);for(;r.length&&((t=r.pop())&&Object(a.j)(t)&&n._setActiveElement(t,!0),!Object(a.i)(t)););}},n._onKeyDown=function(e){var t=n.props,r=t.direction,i=t.disabled,s=t.isInnerZoneKeystroke;if(!i&&!(document.activeElement===n._root.current&&n._isInnerZone||(n.props.onKeyDown&&n.props.onKeyDown(e),e.isDefaultPrevented()))){if(s&&s(e)&&n._isImmediateDescendantOfZone(e.target)){var u=n._getFirstInnerZone();if(u){if(!u.focus(!0))return}else{if(!Object(a.h)(e.target))return;if(!n.focusElement(Object(a.f)(e.target,e.target.firstChild,!0)))return}}else{if(e.altKey)return;switch(e.which){case l.a.space:if(n._tryInvokeClickForFocusable(e.target))break;return;case l.a.left:if(r!==o.a.vertical&&n._moveFocusLeft())break;return;case l.a.right:if(r!==o.a.vertical&&n._moveFocusRight())break;return;case l.a.up:if(r!==o.a.horizontal&&n._moveFocusUp())break;return;case l.a.down:if(r!==o.a.horizontal&&n._moveFocusDown())break;return;case l.a.tab:if(n.props.allowTabKey||n.props.handleTabKey===o.b.all||n.props.handleTabKey===o.b.inputOnly&&n._isElementInput(e.target)){var h=!1;if(n._processingTabKey=!0,r!==o.a.vertical&&n._shouldWrapFocus(n._activeElement,m)){if(r===o.a.horizontal||r===o.a.bidirectional){h=(Object(c.a)()?!e.shiftKey:e.shiftKey)?n._moveFocusLeft():n._moveFocusRight()}}else h=e.shiftKey?n._moveFocusUp():n._moveFocusDown();if(n._processingTabKey=!1,h)break}return;case l.a.home:if(n._isElementInput(e.target)&&!n._shouldInputLoseFocus(e.target,!1))return!1;var d=n._root.current&&n._root.current.firstChild;if(n._root.current&&d&&n.focusElement(Object(a.f)(n._root.current,d,!0)))break;return;case l.a.end:if(n._isElementInput(e.target)&&!n._shouldInputLoseFocus(e.target,!0))return!1;var p=n._root.current&&n._root.current.lastChild;if(n._root.current&&n.focusElement(Object(a.g)(n._root.current,p,!0,!0,!0)))break;return;case l.a.enter:if(n._tryInvokeClickForFocusable(e.target))break;return;default:return}}e.preventDefault(),e.stopPropagation()}},n._warnDeprecations({rootProps:void 0,allowTabKey:"handleTabKey"}),n._id=Object(u.c)("FocusZone"),n._focusAlignment={left:0,top:0},n._processingTabKey=!1,n}return r.c(t,e),t.prototype.componentDidMount=function(){if(g[this._id]=this,this._root.current){for(var e=this._root.current.ownerDocument.defaultView,t=Object(s.e)(this._root.current,y);t&&t!==document.body&&1===t.nodeType;){if(Object(a.i)(t)){this._isInnerZone=!0;break}t=Object(s.e)(t,y)}this._isInnerZone||this._events.on(e,"keydown",this._onKeyDownCapture,!0),this._updateTabIndexes(),this.props.defaultActiveElement&&(this._activeElement=Object(s.d)().querySelector(this.props.defaultActiveElement),this.focus())}},t.prototype.componentWillUnmount=function(){delete g[this._id]},t.prototype.render=function(){var e=this.props,t=e.rootProps,n=e.ariaDescribedBy,o=e.ariaLabelledBy,a=e.className,s=Object(h.d)(this.props,h.e),l=this.props.elementType||"div";return i.createElement(l,r.a({role:"presentation"},s,t,{className:Object(d.a)("ms-FocusZone",a),ref:this._root,"data-focuszone-id":this._id,"aria-labelledby":o,"aria-describedby":n,onKeyDown:this._onKeyDown,onFocus:this._onFocus,onMouseDownCapture:this._onMouseDown}),this.props.children)},t.prototype.focus=function(e){if(void 0===e&&(e=!1),this._root.current){if(!e&&"true"===this._root.current.getAttribute("data-is-focusable")&&this._isInnerZone){var t=this._getOwnerZone(this._root.current);if(t!==this._root.current){var n=g[t.getAttribute("data-focuszone-id")];return!!n&&n.focusElement(this._root.current)}return!1}if(!e&&this._activeElement&&Object(s.a)(this._root.current,this._activeElement)&&Object(a.j)(this._activeElement))return this._activeElement.focus(),!0;var r=this._root.current.firstChild;return this.focusElement(Object(a.f)(this._root.current,r,!0))}return!1},t.prototype.focusElement=function(e){var t=this.props.onBeforeFocus;return!(t&&!t(e))&&(!!e&&(this._setActiveElement(e),this._activeElement&&this._activeElement.focus(),!0))},t.prototype._onKeyDownCapture=function(e){e.which===l.a.tab&&this._updateTabIndexes()},t.prototype._setActiveElement=function(e,t){var n=this._activeElement;this._activeElement=e,n&&(Object(a.i)(n)&&this._updateTabIndexes(n),n.tabIndex=-1),this._activeElement&&(this._focusAlignment&&!t||this._setFocusAlignment(e,!0,!0),this._activeElement.tabIndex=0)},t.prototype._tryInvokeClickForFocusable=function(e){if(e===this._root.current)return!1;do{if("BUTTON"===e.tagName||"A"===e.tagName||"INPUT"===e.tagName||"TEXTAREA"===e.tagName)return!1;if(this._isImmediateDescendantOfZone(e)&&"true"===e.getAttribute("data-is-focusable")&&"true"!==e.getAttribute("data-disable-click-on-enter"))return p.a.raise(e,"click",null,!0),!0;e=Object(s.e)(e,y)}while(e!==this._root.current);return!1},t.prototype._getFirstInnerZone=function(e){if(!(e=e||this._activeElement||this._root.current))return null;if(Object(a.i)(e))return g[e.getAttribute("data-focuszone-id")];for(var t=e.firstElementChild;t;){if(Object(a.i)(t))return g[t.getAttribute("data-focuszone-id")];var n=this._getFirstInnerZone(t);if(n)return n;t=t.nextElementSibling}return null},t.prototype._moveFocus=function(e,t,n,r){void 0===r&&(r=!0);var i=this._activeElement,s=-1,l=void 0,c=!1,u=this.props.direction===o.a.bidirectional;if(!i||!this._root.current)return!1;if(this._isElementInput(i)&&!this._shouldInputLoseFocus(i,e))return!1;var h=u?i.getBoundingClientRect():null;do{if(i=e?Object(a.f)(this._root.current,i):Object(a.g)(this._root.current,i),!u){l=i;break}if(i){var d=t(h,i.getBoundingClientRect());if(-1===d&&-1===s){l=i;break}if(d>-1&&(-1===s||d<s)&&(s=d,l=i),s>=0&&d<0)break}}while(i);if(l&&l!==this._activeElement)c=!0,this.focusElement(l);else if(this.props.isCircularNavigation&&r)return e?this.focusElement(Object(a.f)(this._root.current,this._root.current.firstElementChild,!0)):this.focusElement(Object(a.g)(this._root.current,this._root.current.lastElementChild,!0,!0,!0));return c},t.prototype._moveFocusDown=function(){var e=this,t=-1,n=this._focusAlignment.left;return!!this._moveFocus(!0,function(r,i){var o=-1,a=Math.floor(i.top),s=Math.floor(r.bottom);return a<s?e._shouldWrapFocus(e._activeElement,"data-no-vertical-wrap")?999999999:-999999999:((-1===t&&a>=s||a===t)&&(t=a,o=n>=i.left&&n<=i.left+i.width?0:Math.abs(i.left+i.width/2-n)),o)})&&(this._setFocusAlignment(this._activeElement,!1,!0),!0)},t.prototype._moveFocusUp=function(){var e=this,t=-1,n=this._focusAlignment.left;return!!this._moveFocus(!1,function(r,i){var o=-1,a=Math.floor(i.bottom),s=Math.floor(i.top),l=Math.floor(r.top);return a>l?e._shouldWrapFocus(e._activeElement,"data-no-vertical-wrap")?999999999:-999999999:((-1===t&&a<=l||s===t)&&(t=s,o=n>=i.left&&n<=i.left+i.width?0:Math.abs(i.left+i.width/2-n)),o)})&&(this._setFocusAlignment(this._activeElement,!1,!0),!0)},t.prototype._moveFocusLeft=function(){var e=this,t=this._shouldWrapFocus(this._activeElement,m);return!!this._moveFocus(Object(c.a)(),function(n,r){var i=-1;return(Object(c.a)()?r.top.toFixed(3)<n.bottom.toFixed(3):r.bottom.toFixed(3)>n.top.toFixed(3))&&r.right<=n.right&&e.props.direction!==o.a.vertical?i=n.right-r.right:t||(i=-999999999),i},void 0,t)&&(this._setFocusAlignment(this._activeElement,!0,!1),!0)},t.prototype._moveFocusRight=function(){var e=this,t=this._shouldWrapFocus(this._activeElement,m);return!!this._moveFocus(!Object(c.a)(),function(n,r){var i=-1;return(Object(c.a)()?r.bottom.toFixed(3)>n.top.toFixed(3):r.top.toFixed(3)<n.bottom.toFixed(3))&&r.left>=n.left&&e.props.direction!==o.a.vertical?i=r.left-n.left:t||(i=-999999999),i},void 0,t)&&(this._setFocusAlignment(this._activeElement,!0,!1),!0)},t.prototype._setFocusAlignment=function(e,t,n){if(this.props.direction===o.a.bidirectional&&(!this._focusAlignment||t||n)){var r=e.getBoundingClientRect(),i=r.left+r.width/2,a=r.top+r.height/2;this._focusAlignment||(this._focusAlignment={left:i,top:a}),t&&(this._focusAlignment.left=i),n&&(this._focusAlignment.top=a)}},t.prototype._isImmediateDescendantOfZone=function(e){return this._getOwnerZone(e)===this._root.current},t.prototype._getOwnerZone=function(e){for(var t=Object(s.e)(e,y);t&&t!==this._root.current&&t!==document.body;){if(Object(a.i)(t))return t;t=Object(s.e)(t,y)}return this._root.current},t.prototype._updateTabIndexes=function(e){!e&&this._root.current&&(this._defaultFocusElement=null,e=this._root.current,this._activeElement&&!Object(s.a)(e,this._activeElement)&&(this._activeElement=null)),this._activeElement&&!Object(a.j)(this._activeElement)&&(this._activeElement=null);for(var t=e&&e.children,n=0;t&&n<t.length;n++){var r=t[n];Object(a.i)(r)?"true"===r.getAttribute("data-is-focusable")&&(this._isInnerZone||(this._activeElement||this._defaultFocusElement)&&this._activeElement!==r?"-1"!==r.getAttribute("tabindex")&&r.setAttribute("tabindex","-1"):(this._defaultFocusElement=r,"0"!==r.getAttribute("tabindex")&&r.setAttribute("tabindex","0"))):(r.getAttribute&&"false"===r.getAttribute("data-is-focusable")&&r.setAttribute("tabindex","-1"),Object(a.j)(r)?this.props.disabled?r.setAttribute("tabindex","-1"):this._isInnerZone||(this._activeElement||this._defaultFocusElement)&&this._activeElement!==r?"-1"!==r.getAttribute("tabindex")&&r.setAttribute("tabindex","-1"):(this._defaultFocusElement=r,"0"!==r.getAttribute("tabindex")&&r.setAttribute("tabindex","0")):"svg"===r.tagName&&"false"!==r.getAttribute("focusable")&&r.setAttribute("focusable","false")),this._updateTabIndexes(r)}},t.prototype._isElementInput=function(e){return!(!e||!e.tagName||"input"!==e.tagName.toLowerCase()&&"textarea"!==e.tagName.toLowerCase())},t.prototype._shouldInputLoseFocus=function(e,t){if(!this._processingTabKey&&e&&e.type&&v.indexOf(e.type.toLowerCase())>-1){var n=e.selectionStart,r=n!==e.selectionEnd,i=e.value;if(r||n>0&&!t||n!==i.length&&t||this.props.handleTabKey&&(!this.props.shouldInputLoseFocusOnArrowKey||!this.props.shouldInputLoseFocusOnArrowKey(e)))return!1}return!0},t.prototype._shouldWrapFocus=function(e,t){return!this.props.checkForNoWrap||Object(a.k)(e,t)},t.defaultProps={isCircularNavigation:!1,direction:o.a.bidirectional},t}(f.a)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(37),l=n(111),c=n(20),u=n(21),h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={width:n.props.node.width,height:n.props.node.height,seed:n.props.node.seed},n}return i(t,e),t.prototype.updateState=function(e){var t={width:e.width,height:e.height,seed:e.seed};e.generateNoiseData(),this.setState(t),null!=this.textureNodeRenderer&&this.textureNodeRenderer.updateState(e)},t.prototype.regenerateNoise=function(){this.props.node.generateNoiseData(),this.setState(o({},this.state,{seed:this.state.seed+1}))},t.prototype.render=function(){var e=this;return a.createElement(s.TextureNodeRenderer,{ref:function(t){return e.textureNodeRenderer=t},assetClicked:this.props.assetClicked,assetChanged:this.props.assetChanged,onTitleHover:this.props.onTitleHover,channelMouseDown:this.props.channelMouseDown,channelMouseUp:this.props.channelMouseUp,node:this.props.node})},t}(a.Component);t.NoiseNodeRenderer=h;var d=function(e){function t(t){var n=e.call(this,t)||this;return n.nodeType="NoiseNode",n.seed=t.seed||0,n.addChannel({name:"noise_sampler",attributes:[{name:"value",type:"sampler2d",expression:"#"+n.id+"_NoiseSampler"}],direction:u.NodeGraphChannelDirection.Outbound}),n.generateNoiseData(),n}return i(t,e),t.prototype.serialize=function(){return o({},e.prototype.serialize.call(this),{seed:this.seed})},t.prototype.generateNoiseData=function(){var e=new l.default(this.seed);this.noiseData=new Float32Array(this.width*this.height);for(var t=0;t<this.noiseData.length;++t)this.noiseData[t]=e.next(0,1)},t.prototype.interface=function(e){var t=this;return a.createElement(h,{ref:function(n){return e.registerNodeReference(c.NodeGraphNamespace.getNodeNamespace(t),n)},assetClicked:function(t){return e.onAssetClicked(t)},assetChanged:function(t,n){return e.onAssetChanged(t,n)},onTitleHover:function(t,n,r){return e.onEntityHover(t,n,r)},channelMouseDown:function(t,n,r){return e.onChannelDown(t,n,r)},channelMouseUp:function(t,n,r){return e.onChannelUp(t,n,r)},key:this.id,node:this})},t.prototype.renderToCanvas=function(t){e.prototype.renderToCanvas.call(this,t),t.id=this.id+"_NoiseSampler";for(var n=t.getContext("2d"),r=n.getImageData(0,0,this.width,this.height),i=0,o=0;o<this.noiseData.length;i+=4,o++)r.data[i]=255*this.noiseData[o]|0,r.data[i+1]=128+128*Math.cos(this.noiseData[o]*Math.PI),r.data[i+2]=128+128*Math.sin(this.noiseData[o]*Math.PI),r.data[i+3]=Math.atan(this.noiseData[o]*Math.PI)/Math.PI*2*255|0;n.putImageData(r,0,0)},t}(s.TextureNode);t.NoiseNode=d},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(37),s=n(0),l=n(21),c=n(43),u=n(64),h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={width:n.props.node.width,height:n.props.node.height,scale:n.props.node.transform.scale,offset:n.props.node.transform.offset},n}return i(t,e),t.prototype.updateState=function(e){var t={width:e.width,height:e.height,scale:e.transform.scale,offset:e.transform.offset};this.setState(t),null!=this.textureNodeRenderer&&this.textureNodeRenderer.updateState(e)},t.prototype.render=function(){var e=this;return s.createElement(a.TextureNodeRenderer,{ref:function(t){return e.textureNodeRenderer=t},assetClicked:this.props.assetClicked,assetChanged:this.props.assetChanged,onTitleHover:this.props.onTitleHover,channelMouseDown:this.props.channelMouseDown,channelMouseUp:this.props.channelMouseUp,node:this.props.node})},t}(s.Component);t.TransformNodeRenderer=h;var d=function(e){function t(t){var n=e.call(this,t)||this;return n.nodeType="TransformNode",n.transform=t.transform||{scale:{x:1,y:1},offset:{x:0,y:0}},n.addChannel({name:"input_sampler",attributes:[{name:"value",type:"sampler2d"}],direction:l.NodeGraphChannelDirection.Inbound}),n.addChannel({name:"transformed_sampler",attributes:[{name:"value",type:"sampler2d",expression:"#"+n.id+"_TransformedSampler"}],direction:l.NodeGraphChannelDirection.Outbound}),n}return i(t,e),t.prototype.serialize=function(){return o({},e.prototype.serialize.call(this),{transform:this.transform})},t.prototype.renderToCanvas=function(t){e.prototype.renderToCanvas.call(this,t),t.id=this.id+"_TransformedSampler";var n=this.getChannelAttribute("input_sampler","value",l.NodeGraphChannelDirection.Inbound),r=this.nodeGraph.getSourceOfTargetAttribute(n);if(null!=r){var i=c.NodeGraphExpression.evaluate(this.nodeGraph,r.expression);if(null!=i&&u.NodeGraphValidator.validateType(i,n.type)){var o=t.getContext("2d"),a=i,s=document.createElement("canvas");s.width=t.width,s.height=t.height,s.getContext("2d").drawImage(a,0,0),o.save(),o.scale(this.transform.scale.x,this.transform.scale.y),o.translate(this.transform.offset.x,this.transform.offset.y),o.drawImage(s,0,0),o.restore()}}},t}(a.TextureNode);t.TransformNode=d},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(37),s=n(0),l=n(64),c=n(43),u=n(21),h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={width:n.props.node.width,height:n.props.node.height,repeat:n.props.node.tile_properties.repeat},n}return i(t,e),t.prototype.updateState=function(e){var t={width:e.width,height:e.height,repeat:this.props.node.tile_properties.repeat};this.setState(t),null!=this.textureNodeRenderer&&this.textureNodeRenderer.updateState(e)},t.prototype.render=function(){var e=this;return s.createElement(a.TextureNodeRenderer,{ref:function(t){return e.textureNodeRenderer=t},assetClicked:this.props.assetClicked,assetChanged:this.props.assetChanged,onTitleHover:this.props.onTitleHover,channelMouseDown:this.props.channelMouseDown,channelMouseUp:this.props.channelMouseUp,node:this.props.node})},t}(s.Component);t.TileNodeRenderer=h;var d=function(e){function t(t){var n=e.call(this,t)||this;return n.nodeType="TileNode",n.tile_properties=t.tile_properties||{repeat:{x:1,y:1}},n.addChannel({name:"input_sampler",attributes:[{name:"value",type:"sampler2d"}],direction:u.NodeGraphChannelDirection.Inbound}),n.addChannel({name:"tiled_sampler",attributes:[{name:"value",type:"sampler2d",expression:"#"+n.id+"_TiledSampler"}],direction:u.NodeGraphChannelDirection.Outbound}),n}return i(t,e),t.prototype.serialize=function(){return o({},e.prototype.serialize.call(this),{tile_properties:this.tile_properties})},t.prototype.renderToCanvas=function(t){e.prototype.renderToCanvas.call(this,t),t.id=this.id+"_TiledSampler";var n=this.getChannelAttribute("input_sampler","value",u.NodeGraphChannelDirection.Inbound),r=this.nodeGraph.getSourceOfTargetAttribute(n);if(null!=r){var i=c.NodeGraphExpression.evaluate(this.nodeGraph,r.expression);if(null!=i&&l.NodeGraphValidator.validateType(i,n.type)){var o=t.getContext("2d"),a=i,s=document.createElement("canvas");s.width=t.width,s.height=t.height,s.getContext("2d").drawImage(a,0,0),o.save(),o.scale(1/this.tile_properties.repeat.x,1/this.tile_properties.repeat.y);for(var h=Math.ceil(this.tile_properties.repeat.x),d=Math.ceil(this.tile_properties.repeat.y),p=0;p<h;++p)for(var f=0;f<d;++f)o.drawImage(s,p*this.width,f*this.height);o.restore()}}},t}(a.TextureNode);t.TileNode=d},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(36),s=n(0),l=n(20),c=n(21),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return i(t,e),t.prototype.updateState=function(e){var t={width:e.width,height:e.height};this.setState(t),null!=this.primitiveNodeRenderer&&this.primitiveNodeRenderer.updateState(e)},t.prototype.render=function(){var e=this;return s.createElement(a.PrimitiveNodeRenderer,{ref:function(t){return e.primitiveNodeRenderer=t},assetClicked:this.props.assetClicked,assetChanged:this.props.assetChanged,onTitleHover:this.props.onTitleHover,channelMouseDown:this.props.channelMouseDown,channelMouseUp:this.props.channelMouseUp,node:this.props.node,channelLabels:c.NodeGraphChannelDirection.Inbound},this.props.children)},t}(s.Component);t.OutboundNodeRenderer=u;var h=function(e){function t(t){var n=e.call(this,t)||this;return n.nodeType="OutboundNode",n.addChannel({name:"color",attributes:[{name:"value",type:"sampler2d"}],direction:c.NodeGraphChannelDirection.Inbound}),n.addChannel({name:"roughness",attributes:[{name:"value",type:"sampler2d"}],direction:c.NodeGraphChannelDirection.Inbound}),n.addChannel({name:"ao",attributes:[{name:"value",type:"sampler2d"}],direction:c.NodeGraphChannelDirection.Inbound}),n.addChannel({name:"normal",attributes:[{name:"value",type:"sampler2d"}],direction:c.NodeGraphChannelDirection.Inbound}),n.addChannel({name:"bump",attributes:[{name:"value",type:"sampler2d"}],direction:c.NodeGraphChannelDirection.Inbound}),n.addChannel({name:"displacement",attributes:[{name:"value",type:"sampler2d"}],direction:c.NodeGraphChannelDirection.Inbound}),n.addChannel({name:"metalness",attributes:[{name:"value",type:"sampler2d"}],direction:c.NodeGraphChannelDirection.Inbound}),n}return i(t,e),t.prototype.serialize=function(){return o({},e.prototype.serialize.call(this),{width:this.width,height:this.height})},t.prototype.interface=function(e){var t=this;return s.createElement(u,{ref:function(n){return e.registerNodeReference(l.NodeGraphNamespace.getNodeNamespace(t),n)},assetClicked:function(t){return e.onAssetClicked(t)},assetChanged:function(t,n){return e.onAssetChanged(t,n)},onTitleHover:function(t,n,r){return e.onEntityHover(t,n,r)},channelMouseDown:function(t,n,r){return e.onChannelDown(t,n,r)},channelMouseUp:function(t,n,r){return e.onChannelUp(t,n,r)},key:this.id,node:this})},t}(a.PrimitiveNode);t.OutboundNode=h},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(42),s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={name:n.props.group.name,color:n.props.group.color,coordinate:n.props.group.coordinate,width:n.props.group.width,height:n.props.group.height},n}return i(t,e),t.prototype.updateState=function(e){var t={name:e.name,coordinate:e.coordinate,width:e.width,height:e.height};this.setState(t)},t.prototype.render=function(){return o.createElement("div",{key:this.props.group.id,className:"nodeGraphGroup",style:{left:this.state.coordinate.x,top:this.state.coordinate.y,width:this.state.width,height:this.state.height}},this.props.group.name||this.props.group.id)},t}(o.Component);t.NodeGraphGroupRenderer=s;var l=function(){function e(e){this.name=e.name,this.id=e.id||a(),this.color=e.color||0,this.coordinate=e.coordinate||{x:0,y:0},this.width=e.width||128,this.height=e.height||128}return e.prototype.interface=function(e){return o.createElement(s,{key:this.id,group:this})},e.prototype.serialize=function(){return{name:this.name,id:this.id,coordinate:this.coordinate,width:this.width,height:this.height}},e}();t.NodeGraphGroup=l},function(e,t,n){"use strict";var r;n.r(t),function(e){e[e.Normal=0]="Normal",e[e.Divider=1]="Divider",e[e.Header=2]="Header"}(r||(r={}));var i,o,a=n(1),s=n(0),l=n(79),c=n(52),u=n(151),h=n(89),d=n(136),p=n(88),f=n(24),m=n(9),g=n(6),v=n(135),y=n(7),b=n(149),x=n(150),_=n(58),w=n(59),M=n(148),S=n(34),C=n(5),E=function(e){function t(t){var n=e.call(this,t)||this;return n._inputElement=s.createRef(),n._autoFillEnabled=!0,n._onCompositionStart=function(e){n._autoFillEnabled=!1},n._onCompositionEnd=function(e){var t=n._getCurrentInputValue();n._tryEnableAutofill(t,n.value,!1,!0);var r="ko"===e.nativeEvent.locale;n._async.setTimeout(function(){var e=r?n.value:t;n._updateValue(e)},0)},n._onClick=function(){n._value&&""!==n._value&&n._autoFillEnabled&&(n._autoFillEnabled=!1)},n._onKeyDown=function(e){if(n.props.onKeyDown&&n.props.onKeyDown(e),!e.nativeEvent.isComposing)switch(e.which){case y.a.backspace:n._autoFillEnabled=!1;break;case y.a.left:case y.a.right:n._autoFillEnabled&&(n._value=n.state.displayValue,n._autoFillEnabled=!1);break;default:n._autoFillEnabled||-1!==n.props.enableAutofillOnKeyPress.indexOf(e.which)&&(n._autoFillEnabled=!0)}},n._onInputChanged=function(e){var t=n._getCurrentInputValue(e);n._tryEnableAutofill(t,n._value,e.nativeEvent.isComposing),n._updateValue(t)},n._onChanged=function(){},n._updateValue=function(e){(e||e!==n._value)&&(n._value=n.props.onInputChange?n.props.onInputChange(e):e,n.setState({displayValue:n._getDisplayValue(n._value,n.props.suggestedDisplayValue)},function(){return n._notifyInputChange(n._value)}))},n._value=t.defaultVisibleValue||"",n.state={displayValue:t.defaultVisibleValue||""},n}return a.c(t,e),Object.defineProperty(t.prototype,"cursorLocation",{get:function(){if(this._inputElement.current){var e=this._inputElement.current;return"forward"!==e.selectionDirection?e.selectionEnd:e.selectionStart}return-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isValueSelected",{get:function(){return Boolean(this.inputElement&&this.inputElement.selectionStart!==this.inputElement.selectionEnd)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionStart",{get:function(){return this._inputElement.current?this._inputElement.current.selectionStart:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionEnd",{get:function(){return this._inputElement.current?this._inputElement.current.selectionEnd:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._inputElement.current},enumerable:!0,configurable:!0}),t.prototype.componentWillReceiveProps=function(e){var t;this.props.updateValueInWillReceiveProps&&(t=this.props.updateValueInWillReceiveProps()),"string"==typeof(t=this._getDisplayValue(t||this._value,e.suggestedDisplayValue))&&this.setState({displayValue:t})},t.prototype.componentDidUpdate=function(){var e=this._value,t=this.props,n=t.suggestedDisplayValue,r=t.shouldSelectFullInputValueInComponentDidUpdate,i=0;if(!t.preventValueSelection&&this._autoFillEnabled&&e&&n&&this._doesTextStartWith(n,e)){var o=!1;if(r&&(o=r()),o&&this._inputElement.current)this._inputElement.current.setSelectionRange(0,n.length,"backward");else{for(;i<e.length&&e[i].toLocaleLowerCase()===n[i].toLocaleLowerCase();)i++;i>0&&this._inputElement.current&&this._inputElement.current.setSelectionRange(i,n.length,"backward")}}},t.prototype.render=function(){var e=this.state.displayValue,t=Object(_.d)(this.props,_.g);return s.createElement("input",a.a({},t,{ref:this._inputElement,value:e,autoCapitalize:"off",autoComplete:"off",onCompositionStart:this._onCompositionStart,onCompositionEnd:this._onCompositionEnd,onChange:this._onChanged,onInput:this._onInputChanged,onKeyDown:this._onKeyDown,onClick:this.props.onClick?this.props.onClick:this._onClick,"data-lpignore":!0}))},t.prototype.focus=function(){this._inputElement.current&&this._inputElement.current.focus()},t.prototype.clear=function(){this._autoFillEnabled=!0,this._updateValue(""),this._inputElement.current&&this._inputElement.current.setSelectionRange(0,0)},t.prototype._getCurrentInputValue=function(e){return e&&e.target&&e.target.value?e.target.value:this.inputElement&&this.inputElement.value?this.inputElement.value:""},t.prototype._tryEnableAutofill=function(e,t,n,r){!n&&e&&this._inputElement.current&&this._inputElement.current.selectionStart===e.length&&!this._autoFillEnabled&&(e.length>t.length||r)&&(this._autoFillEnabled=!0)},t.prototype._notifyInputChange=function(e){this.props.onInputValueChange&&this.props.onInputValueChange(e)},t.prototype._getDisplayValue=function(e,t){var n=e;return t&&e&&this._doesTextStartWith(t,n)&&this._autoFillEnabled&&(n=t),n},t.prototype._doesTextStartWith=function(e,t){return!(!e||!t)&&0===e.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())},t.defaultProps={enableAutofillOnKeyPress:[y.a.down,y.a.up]},t}(S.a),T=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}a.c(t,e)}(E),n(25)),L=n(3),P=Object(T.a)(function(e,t,n,r,i,o,a,s){return{container:Object(L.r)("ms-ComboBox-container",t,e.container),label:Object(L.r)(e.label,r&&e.labelDisabled),root:Object(L.r)("ms-ComboBox",s?e.rootError:n&&"is-open",i&&"is-required",e.root,!a&&e.rootDisallowFreeForm,s?e.rootError:!r&&o&&e.rootFocused,!r&&{selectors:{":hover":s?e.rootError:!n&&!o&&e.rootHovered,":active":s?e.rootError:e.rootPressed,":focus":s?e.rootError:e.rootFocused}},r&&["is-disabled",e.rootDisabled]),input:Object(L.r)("ms-ComboBox-Input",e.input,r&&e.inputDisabled),errorMessage:Object(L.r)(e.errorMessage),callout:Object(L.r)("ms-ComboBox-callout",e.callout),optionsContainerWrapper:Object(L.r)("ms-ComboBox-optionsContainerWrapper",e.optionsContainerWrapper),optionsContainer:Object(L.r)("ms-ComboBox-optionsContainer",e.optionsContainer),header:Object(L.r)("ms-ComboBox-header",e.header),divider:Object(L.r)("ms-ComboBox-divider",e.divider)}}),k=Object(T.a)(function(e){return{optionText:Object(L.r)("ms-ComboBox-optionText",e.optionText),root:Object(L.r)("ms-ComboBox-option",e.root,{selectors:{":hover":e.rootHovered,":focus":e.rootFocused,":active":e.rootPressed}}),optionTextWrapper:Object(L.r)(e.optionTextWrapper)}}),A=Object(T.a)(function(e){var t,n=e.semanticColors;return{backgroundColor:n.disabledBackground,borderColor:n.disabledBackground,color:n.disabledText,cursor:"default",selectors:(t={},t[L.f]={borderColor:"GrayText",color:"GrayText"},t)}}),I=Object(T.a)(function(e){return{selectors:(t={},t[L.f]={backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText",MsHighContrastAdjust:"none"},t)};var t}),O=Object(T.a)(function(e,t,n,r){var i,o=e.semanticColors,a=e.palette,s=o.menuItemBackgroundHovered,l=o.bodyText,c=a.black,u=o.disabledText,h=o.bodyBackground,d={root:[e.fonts.medium,{backgroundColor:r?s:"transparent",boxSizing:"border-box",cursor:"pointer",display:"block",width:"100%",height:"auto",minHeight:"32px",lineHeight:"20px",padding:"5px 16px",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:"transparent",wordWrap:"break-word",overflowWrap:"break-word",textAlign:"left",selectors:(i={},i[L.f]={borderColor:"Background"},i)}],rootHovered:{backgroundColor:s,color:l},rootFocused:{backgroundColor:s},rootChecked:[{backgroundColor:s,color:c},Object(L.k)(e,void 0,void 0,void 0,void 0,void 0,!1),I(e)],rootDisabled:{backgroundColor:h,color:u,cursor:"default",selectors:{"& .ms-Button-flexContainer":{justifyContent:"flex-start"}}},optionText:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",minWidth:"0px",maxWidth:"100%",wordWrap:"break-word",overflowWrap:"break-word",margin:"1px",display:"inline-block"},optionTextWrapper:{maxWidth:"100%"}};return Object(L.i)(d,t,n)}),R=Object(T.a)(function(e,t){var n,r=e.semanticColors,i=r.bodySubtext,o=r.buttonTextChecked,a=r.listItemBackgroundHovered,s=r.listItemBackgroundChecked,l=r.listItemBackgroundCheckedHovered,c={root:{color:i,fontSize:L.d.small,position:"absolute",top:"-1px",right:"-1px",height:"32px",lineHeight:"30px",width:"32px",textAlign:"center",cursor:"default",selectors:(n={},n[L.f]={backgroundColor:"ButtonFace",borderColor:"ButtonText",color:"ButtonText",MsHighContrastAdjust:"none"},n)},icon:{fontSize:L.d.small},rootHovered:{backgroundColor:a,color:o,cursor:"pointer"},rootPressed:{backgroundColor:s,color:o},rootChecked:{backgroundColor:s,color:o},rootCheckedHovered:{backgroundColor:l,color:o},rootDisabled:A(e)};return Object(L.i)(c,t)}),D=Object(T.a)(function(e,t,n){var r,i,o,a,s=e.semanticColors,l=e.fonts,c=e.palette,u=s.bodyBackground,h=s.bodyText,d=s.inputBorder,p=s.inputBorderHovered,f=s.inputFocusBorderAlt,m=s.errorText,g=c.neutralLight,v=s.menuHeader,y=s.bodyDivider,b={color:"HighlightText",borderColor:"Highlight",backgroundColor:"Window",borderWidth:"2px",MsHighContrastAdjust:"none",paddingLeft:"11px",paddingTop:"0",paddingBottom:"0",selectors:{".ms-ComboBox-CaretDown-button":{right:"-2px",top:"-2px"}}},x={container:{},label:{},labelDisabled:{},root:[e.fonts.medium,{boxShadow:"none",marginLeft:"0",paddingTop:"1px",paddingBottom:"1px",paddingRight:"32px",paddingLeft:"12px",color:h,position:"relative",outline:"0",userSelect:"none",backgroundColor:u,borderWidth:"1px",borderStyle:"solid",borderColor:d,cursor:"text",display:"block",height:"32px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",boxSizing:"border-box",selectors:{".ms-Label":{display:"inline-block",marginBottom:"8px"},input:{selectors:{"::-ms-clear":{display:"none"}}},"&.is-open":{borderColor:f,selectors:(r={},r[L.f]=b,r)}}}],rootHovered:{borderColor:p,selectors:(i={},i[L.f]={color:"HighlightText",borderColor:"Highlight",backgroundColor:"Window",MsHighContrastAdjust:"none"},i)},rootPressed:{borderColor:f,selectors:(o={},o[L.f]=b,o)},rootFocused:{borderColor:f,selectors:(a={},a[L.f]=b,a)},rootDisabled:A(e),rootError:{borderColor:m,marginBottom:"5px"},rootDisallowFreeForm:{},input:{backgroundColor:u,color:h,boxSizing:"border-box",width:"100%",height:"28px",borderStyle:"none",outline:"none",font:"inherit",textOverflow:"ellipsis",padding:"0"},inputDisabled:A(e),errorMessage:{color:m},callout:{boxShadow:"0 0px 5px 0px rgba(0, 0, 0, 0.4)",borderWidth:"1px",borderStyle:"solid",borderColor:g},optionsContainerWrapper:{width:n},optionsContainer:{display:"block"},header:[l.medium,{fontWeight:L.e.semibold,color:v,backgroundColor:"none",borderStyle:"none",height:"32px",lineHeight:"32px",cursor:"default",padding:"0px 16px",userSelect:"none",textAlign:"left"}],divider:{borderWidth:"1px",borderStyle:"solid",borderColor:y}};return Object(L.i)(x,t)});!function(e){e[e.backward=-1]="backward",e[e.none=0]="none",e[e.forward=1]="forward"}(i||(i={})),function(e){e[e.clearAll=-2]="clearAll",e[e.default=-1]="default"}(o||(o={}));var N=250,B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.c(t,e),t.prototype.render=function(){return this.props.render()},t.prototype.shouldComponentUpdate=function(e){return!Object(f.d)(a.a({},this.props,{render:void 0}),a.a({},e,{render:void 0}))},t}(s.Component),F=function(e){function t(t){var n=e.call(this,t)||this;n._root=s.createRef(),n._autofill=s.createRef(),n._comboBoxWrapper=s.createRef(),n._comboBoxMenu=s.createRef(),n._selectedElement=s.createRef(),n.focus=function(e,t){n._autofill.current&&(t?Object(m.b)(n._autofill.current):n._autofill.current.focus(),e&&n.setState({isOpen:!0}))},n.dismissMenu=function(){n.state.isOpen&&n.setState({isOpen:!1})},n._onUpdateValueInAutofillWillReceiveProps=function(){var e=n._autofill.current;if(!e)return null;if(null===e.value||void 0===e.value)return null;var t=n._normalizeToString(n._currentVisibleValue);return e.value!==t?t||"​":e.value},n._onShouldSelectFullInputValueInAutofillComponentDidUpdate=function(){return n._currentVisibleValue===n.state.suggestedDisplayValue},n._getVisibleValue=function(){var e=n.props,t=e.text,r=e.value,i=e.allowFreeform,o=e.autoComplete,a=n.state,s=a.selectedIndices,l=a.currentPendingValueValidIndex,c=a.currentOptions,u=a.currentPendingValue,h=a.suggestedDisplayValue,d=a.isOpen,p=a.focused,f=n._indexWithinBounds(c,l);if((!d||!f)&&t&&null==u)return t;if((!d||!f)&&r&&null==u)return r;var m=[];if(n.props.multiSelect)if(p){var g=-1;"on"===o&&f&&(g=l),m.push(null!=u?u:n._indexWithinBounds(c,g)?c[g].text:"")}else for(var v=0;s&&v<s.length;v++){g=s[v];m.push(n._indexWithinBounds(c,g)?c[g].text:n._normalizeToString(h))}else{g=n._getFirstSelectedIndex();i?("on"===o&&f&&(g=l),m.push(null!=u?u:n._indexWithinBounds(c,g)?c[g].text:"")):f&&"on"===o?(g=l,m.push(n._normalizeToString(u))):m.push(n._indexWithinBounds(c,g)?c[g].text:n._normalizeToString(h))}var y="";for(v=0;v<m.length;v++)v>0&&(y+=", "),y+=m[v];return y},n._onInputChange=function(e){n.props.disabled?n._handleInputWhenDisabled(null):n.props.allowFreeform?n._processInputChangeWithFreeform(e):n._processInputChangeWithoutFreeform(e)},n._select=function(){n._autofill.current&&n._autofill.current.inputElement&&n._autofill.current.inputElement.select(),n.state.focused||n.setState({focused:!0})},n._onResolveOptions=function(){if(n.props.onResolveOptions){var e=n.props.onResolveOptions(a.a({},n.state.currentOptions));if(Array.isArray(e))n.setState({currentOptions:e});else if(e&&e.then){var t=n._currentPromise=e;t.then(function(e){t===n._currentPromise&&n.setState({currentOptions:e})})}}},n._onBlur=function(e){var t=e.relatedTarget;if(null===e.relatedTarget&&(t=document.activeElement),t&&(n._root.current&&n._root.current.contains(t)||n._comboBoxMenu.current&&(n._comboBoxMenu.current.contains(t)||Object(g.c)(n._comboBoxMenu.current,function(e){return e===t}))))return e.preventDefault(),void e.stopPropagation();n.state.focused&&(n.setState({focused:!1}),n.props.multiSelect||n._submitPendingValue(e))},n._onRenderContainer=function(e){var t=e.onRenderList,r=e.calloutProps,i=e.dropdownWidth,o=e.dropdownMaxWidth,l=e.onRenderLowerContent,c=void 0===l?n._onRenderLowerContent:l,h=e.useComboBoxAsMenuWidth,d=h&&n._comboBoxWrapper.current?n._comboBoxWrapper.current.clientWidth+2:void 0;return s.createElement(u.a,a.a({isBeakVisible:!1,gapSpace:0,doNotLayer:!1,directionalHint:C.a.bottomLeftEdge,directionalHintFixed:!1},r,{onLayerMounted:n._onLayerMounted,className:Object(v.a)(n._classNames.callout,r?r.className:void 0),target:n._comboBoxWrapper.current,onDismiss:n._onDismiss,onScroll:n._onScroll,setInitialFocus:!1,calloutWidth:h&&n._comboBoxWrapper.current?d&&d:i,calloutMaxWidth:o||d}),s.createElement("div",{className:n._classNames.optionsContainerWrapper,ref:n._comboBoxMenu},t(a.a({},e),n._onRenderList)),c(n.props,n._onRenderLowerContent))},n._onLayerMounted=function(){n._gotMouseMove=!1,n.props.calloutProps&&n.props.calloutProps.onLayerMounted&&n.props.calloutProps.onLayerMounted()},n._onRenderList=function(e){var t=e.onRenderItem,r=e.options,i=n._id;return s.createElement("div",{id:i+"-list",className:n._classNames.optionsContainer,"aria-labelledby":i+"-label",role:"listbox"},r.map(function(e){return t(e,n._onRenderItem)}))},n._onRenderItem=function(e){switch(e.itemType){case r.Divider:return n._renderSeparator(e);case r.Header:return n._renderHeader(e);default:return n._renderOption(e)}},n._onRenderLowerContent=function(){return null},n._renderOption=function(e){var t=n.props.onRenderOption,r=void 0===t?n._onRenderOptionContent:t,i=n._id,o=n._isOptionSelected(e.index),a=n._getCurrentOptionStyles(e),c=k(n._getCurrentOptionStyles(e)),u=function(){return a},d=n._getPreviewText(e);return s.createElement(B,{key:e.key,index:e.index,disabled:e.disabled,isSelected:o,text:e.text,render:function(){return n.props.multiSelect?s.createElement(h.a,{id:i+"-list"+e.index,ariaLabel:n._getPreviewText(e),key:e.key,"data-index":e.index,styles:u,className:"ms-ComboBox-option","data-is-focusable":!0,onChange:n._onItemClick(e),label:e.text,role:"option","aria-selected":o?"true":"false",checked:o,title:d},r(e,n._onRenderOptionContent)):s.createElement(l.a,{id:i+"-list"+e.index,key:e.key,"data-index":e.index,styles:n._getCurrentOptionStyles(e),checked:o,className:"ms-ComboBox-option",onClick:n._onItemClick(e),onMouseEnter:n._onOptionMouseEnter.bind(n,e.index),onMouseMove:n._onOptionMouseMove.bind(n,e.index),onMouseLeave:n._onOptionMouseLeave,role:"option","aria-selected":o?"true":"false",ariaLabel:n._getPreviewText(e),disabled:e.disabled,title:d}," ",s.createElement("span",{className:c.optionTextWrapper,ref:o?n._selectedElement:void 0},r(e,n._onRenderOptionContent)))}})},n._onScroll=function(){n._isScrollIdle||void 0===n._scrollIdleTimeoutId?n._isScrollIdle=!1:(n._async.clearTimeout(n._scrollIdleTimeoutId),n._scrollIdleTimeoutId=void 0),n._scrollIdleTimeoutId=n._async.setTimeout(function(){n._isScrollIdle=!0},N)},n._onRenderOptionContent=function(e){var t=k(n._getCurrentOptionStyles(e));return s.createElement("span",{className:t.optionText},e.text)},n._onDismiss=function(){n._setOpenStateAndFocusOnClose(!1,!1),n._resetSelectedIndex()},n._onAfterClearPendingInfo=function(){n._processingClearPendingInfo=!1},n._onInputKeyDown=function(e){var t=n.props,r=t.disabled,a=t.allowFreeform,s=t.autoComplete,l=n.state,c=l.isOpen,u=l.currentOptions,h=l.currentPendingValueValidIndexOnHover;if(n._lastKeyDownWasAltOrMeta=n._isAltOrMeta(e),r)n._handleInputWhenDisabled(e);else{var d=n._getPendingSelectedIndex(!1);switch(e.which){case y.a.enter:n._autofill.current&&n._autofill.current.inputElement&&n._autofill.current.inputElement.select(),n._submitPendingValue(e),n.props.multiSelect&&c?n.setState({currentPendingValueValidIndex:d}):(c||(!a||void 0===n.state.currentPendingValue||null===n.state.currentPendingValue||n.state.currentPendingValue.length<=0)&&n.state.currentPendingValueValidIndex<0)&&n.setState({isOpen:!c});break;case y.a.tab:return n.props.multiSelect||n._submitPendingValue(e),void(c&&n._setOpenStateAndFocusOnClose(!c,!1));case y.a.escape:if(n._resetSelectedIndex(),!c)return;n.setState({isOpen:!1});break;case y.a.up:if(h===o.clearAll&&(d=n.state.currentOptions.length),e.altKey||e.metaKey){if(c){n._setOpenStateAndFocusOnClose(!c,!0);break}return}n._setPendingInfoFromIndexAndDirection(d,i.backward);break;case y.a.down:e.altKey||e.metaKey?n._setOpenStateAndFocusOnClose(!0,!0):(h===o.clearAll&&(d=-1),n._setPendingInfoFromIndexAndDirection(d,i.forward));break;case y.a.home:case y.a.end:if(a)return;d=-1;var p=i.forward;e.which===y.a.end&&(d=u.length,p=i.backward),n._setPendingInfoFromIndexAndDirection(d,p);break;case y.a.space:if(!a&&"off"===s)break;default:if(e.which>=112&&e.which<=123)return;if(e.keyCode===y.a.alt||"Meta"===e.key)return;if(!a&&"on"===s){n._onInputChange(String.fromCharCode(e.which));break}return}e.stopPropagation(),e.preventDefault()}},n._onInputKeyUp=function(e){var t=n.props,r=t.disabled,i=t.allowFreeform,o=t.autoComplete,a=n.state.isOpen,s=n._lastKeyDownWasAltOrMeta&&n._isAltOrMeta(e);n._lastKeyDownWasAltOrMeta=!1;var l=s&&!(Object(b.a)()||Object(x.a)());if(r)n._handleInputWhenDisabled(e);else{switch(e.which){case y.a.space:if(!i&&"off"===o)return void n._setOpenStateAndFocusOnClose(!a,!!a);break;default:return void(l&&a&&n._setOpenStateAndFocusOnClose(!a,!0))}e.stopPropagation(),e.preventDefault()}},n._onOptionMouseLeave=function(){n._shouldIgnoreMouseEvent()||n.setState({currentPendingValueValidIndexOnHover:o.clearAll})},n._onComboBoxClick=function(){var e=n.props.disabled,t=n.state.isOpen;e||(n._setOpenStateAndFocusOnClose(!t,!1),n.setState({focused:!0}))},n._onAutofillClick=function(){n.props.allowFreeform?n.focus(n.state.isOpen||n._processingTouch):n._onComboBoxClick()},n._onTouchStart=function(){!n._comboBoxWrapper.current||"onpointerdown"in n._comboBoxWrapper||n._handleTouchAndPointerEvent()},n._onPointerDown=function(e){"touch"===e.pointerType&&(n._handleTouchAndPointerEvent(),e.preventDefault(),e.stopImmediatePropagation())},n._warnMutuallyExclusive({defaultSelectedKey:"selectedKey",text:"defaultSelectedKey",value:"defaultSelectedKey",selectedKey:"value",dropdownWidth:"useComboBoxAsMenuWidth"}),n._warnDeprecations({value:"text",onChanged:"onChange"}),n._id=t.id||Object(f.c)("ComboBox");var c=n._buildDefaultSelectedKeys(t.defaultSelectedKey,t.selectedKey);n._isScrollIdle=!0,n._processingTouch=!1,n._gotMouseMove=!1,n._processingClearPendingInfo=!1;var d=n._getSelectedIndices(t.options,c);return n.state={isOpen:!1,selectedIndices:d,focused:!1,suggestedDisplayValue:void 0,currentOptions:n.props.options,currentPendingValueValidIndex:-1,currentPendingValue:void 0,currentPendingValueValidIndexOnHover:o.default},n}return a.c(t,e),t.prototype.componentDidMount=function(){this._comboBoxWrapper.current&&(this._events.on(this._comboBoxWrapper.current,"focus",this._onResolveOptions,!0),"onpointerdown"in this._comboBoxWrapper.current&&this._events.on(this._comboBoxWrapper.current,"pointerdown",this._onPointerDown,!0))},t.prototype.componentWillReceiveProps=function(e){if(e.selectedKey!==this.props.selectedKey||e.text!==this.props.text||e.value!==this.props.value||e.options!==this.props.options){var t=this._buildSelectedKeys(e.selectedKey),n=this._getSelectedIndices(e.options,t);this.setState({selectedIndices:n,currentOptions:e.options})}},t.prototype.componentDidUpdate=function(e,t){var n=this,r=this.props,i=r.allowFreeform,o=r.text,a=r.value,s=r.onMenuOpen,l=r.onMenuDismissed,c=this.state,u=c.isOpen,h=c.focused,d=c.selectedIndices,p=c.currentPendingValueValidIndex;!u||t.isOpen&&t.currentPendingValueValidIndex===p||this._async.setTimeout(function(){return n._scrollIntoView()},0),h&&(u||t.isOpen&&!u&&this._focusInputAfterClose&&this._autofill.current&&document.activeElement!==this._autofill.current.inputElement)&&this.focus(void 0,!0),this._focusInputAfterClose&&(t.isOpen&&!u||h&&(!u&&!this.props.multiSelect&&t.selectedIndices&&d&&t.selectedIndices[0]!==d[0]||!i||o!==e.text||a!==e.value))&&this._select(),this._notifyPendingValueChanged(t),u&&!t.isOpen&&s&&s(),!u&&t.isOpen&&l&&l()},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this._events.off(this._comboBoxWrapper.current)},t.prototype.render=function(){var e=this,t=this._id,n=this.props,r=n.className,i=n.label,o=n.disabled,l=n.ariaLabel,u=n.required,h=n.errorMessage,f=n.onRenderContainer,m=void 0===f?this._onRenderContainer:f,g=n.onRenderList,v=void 0===g?this._onRenderList:g,y=n.onRenderItem,b=void 0===y?this._onRenderItem:y,x=n.onRenderOption,w=void 0===x?this._onRenderOptionContent:x,M=n.allowFreeform,S=n.buttonIconProps,C=n.isButtonAriaHidden,T=void 0===C||C,L=n.styles,k=n.theme,A=n.title,I=n.keytipProps,O=n.placeholder,R=this.state,N=R.isOpen,B=R.focused,F=R.suggestedDisplayValue;this._currentVisibleValue=this._getVisibleValue();var j=Object(_.d)(this.props,_.c,["onChange","value"]),H=!!(h&&h.length>0);return this._classNames=this.props.getClassNames?this.props.getClassNames(k,!!N,!!o,!!u,!!B,!!M,!!H,r):P(D(k,L),r,!!N,!!o,!!u,!!B,!!M,!!H),s.createElement("div",a.a({},j,{ref:this._root,className:this._classNames.container}),i&&s.createElement(p.a,{id:t+"-label",disabled:o,required:u,htmlFor:t+"-input",className:this._classNames.label},i),s.createElement(d.a,{keytipProps:I,disabled:o},function(n){return s.createElement("div",{"data-ktp-target":n["data-ktp-target"],ref:e._comboBoxWrapper,id:t+"wrapper",className:e._classNames.root},s.createElement(E,{"data-ktp-execute-target":n["data-ktp-execute-target"],"data-is-interactable":!o,componentRef:e._autofill,id:t+"-input",className:e._classNames.input,type:"text",onFocus:e._select,onBlur:e._onBlur,onKeyDown:e._onInputKeyDown,onKeyUp:e._onInputKeyUp,onClick:e._onAutofillClick,onTouchStart:e._onTouchStart,onInputValueChange:e._onInputChange,"aria-expanded":N,"aria-autocomplete":e._getAriaAutoCompleteValue(),role:"combobox",readOnly:o||!M,"aria-labelledby":i&&t+"-label","aria-label":l&&!i?l:void 0,"aria-describedby":n["aria-describedby"],"aria-activedescendant":e._getAriaActiveDescentValue(),"aria-disabled":o,"aria-owns":N?t+"-list":void 0,spellCheck:!1,defaultVisibleValue:e._currentVisibleValue,suggestedDisplayValue:F,updateValueInWillReceiveProps:e._onUpdateValueInAutofillWillReceiveProps,shouldSelectFullInputValueInComponentDidUpdate:e._onShouldSelectFullInputValueInAutofillComponentDidUpdate,title:A,preventValueSelection:!B,placeholder:O}),s.createElement(c.a,{className:"ms-ComboBox-CaretDown-button",styles:e._getCaretButtonStyles(),role:"presentation","aria-hidden":T,"data-is-focusable":!1,tabIndex:-1,onClick:e._onComboBoxClick,iconProps:S,disabled:o,checked:N}))}),N&&m(a.a({},this.props,{onRenderList:v,onRenderItem:b,onRenderOption:w,options:this.state.currentOptions.map(function(e,t){return a.a({},e,{index:t})})}),this._onRenderContainer),h&&s.createElement("div",{className:this._classNames.errorMessage},h))},t.prototype._indexWithinBounds=function(e,t){return!!e&&(t>=0&&t<e.length)},t.prototype._processInputChangeWithFreeform=function(e){var t=this,n=this.state.currentOptions,i=-1;if(""===(e=this._removeZeroWidthSpaces(e)))return 1===(s=n.map(function(e,t){return a.a({},e,{index:t})}).filter(function(e){return e.itemType!==r.Header&&e.itemType!==r.Divider}).filter(function(n){return t._getPreviewText(n)===e})).length&&(i=s[0].index),void this._setPendingInfo(e,i,e);var o=e;e=e.toLocaleLowerCase();var s,l="";if("on"===this.props.autoComplete){if((s=n.map(function(e,t){return a.a({},e,{index:t})}).filter(function(e){return e.itemType!==r.Header&&e.itemType!==r.Divider}).filter(function(n){return 0===t._getPreviewText(n).toLocaleLowerCase().indexOf(e)})).length>0){var c=this._getPreviewText(s[0]);l=c.toLocaleLowerCase()!==e?c:"",i=s[0].index}}else 1===(s=n.map(function(e,t){return a.a({},e,{index:t})}).filter(function(e){return e.itemType!==r.Header&&e.itemType!==r.Divider}).filter(function(n){return t._getPreviewText(n).toLocaleLowerCase()===e})).length&&(i=s[0].index);this._setPendingInfo(o,i,l)},t.prototype._processInputChangeWithoutFreeform=function(e){var t=this,n=this.state,i=n.currentPendingValue,o=n.currentPendingValueValidIndex,s=n.currentOptions;if(e=this._removeZeroWidthSpaces(e),"on"===this.props.autoComplete&&""!==e){void 0!==this._lastReadOnlyAutoCompleteChangeTimeoutId&&(this._async.clearTimeout(this._lastReadOnlyAutoCompleteChangeTimeoutId),this._lastReadOnlyAutoCompleteChangeTimeoutId=void 0,e=this._normalizeToString(i)+e);var l=e;e=e.toLocaleLowerCase();var c=s.map(function(e,t){return a.a({},e,{index:t})}).filter(function(e){return e.itemType!==r.Header&&e.itemType!==r.Divider}).filter(function(t){return 0===t.text.toLocaleLowerCase().indexOf(e)});return c.length>0&&this._setPendingInfo(l,c[0].index,this._getPreviewText(c[0])),void(this._lastReadOnlyAutoCompleteChangeTimeoutId=this._async.setTimeout(function(){t._lastReadOnlyAutoCompleteChangeTimeoutId=void 0},1e3))}var u=o>=0?o:this._getFirstSelectedIndex();this._setPendingInfoFromIndex(u)},t.prototype._getFirstSelectedIndex=function(){return this.state.selectedIndices&&this.state.selectedIndices.length>0?this.state.selectedIndices[0]:-1},t.prototype._getNextSelectableIndex=function(e,t){var n=this.state.currentOptions,o=e+t;if(o=Math.max(0,Math.min(n.length-1,o)),!this._indexWithinBounds(n,o))return-1;var a=n[o];if(a.itemType===r.Header||a.itemType===r.Divider){if(t===i.none||!(o>0&&t<i.none||o>=0&&o<n.length&&t>i.none))return e;o=this._getNextSelectableIndex(o,t)}return o},t.prototype._setSelectedIndex=function(e,t,n){void 0===n&&(n=i.none);var r=this.props,o=r.onChange,a=r.onChanged,s=r.onPendingValueChanged,l=this.state.currentOptions,c=this.state.selectedIndices;if(c||(c=[]),e=this._getNextSelectableIndex(e,n),this._indexWithinBounds(l,e)&&(this.props.multiSelect||c.length<1||1===c.length&&c[0]!==e)){var u=l[e];if(!u)return;this.props.multiSelect?(u.selected=void 0!==u.selected?!u.selected:c.indexOf(e)<0,u.selected&&c.indexOf(e)<0?c.push(e):!u.selected&&c.indexOf(e)>=0&&(c=c.filter(function(t){return t!==e}))):c[0]=e,this.setState({selectedIndices:c}),this._hasPendingValue&&s&&(s(),this._hasPendingValue=!1),o&&o(t,u,e,void 0),a&&a(u,e,void 0,t),this._clearPendingInfo()}},t.prototype._submitPendingValue=function(e){var t=this.props,n=t.onChange,r=t.onChanged,i=t.allowFreeform,o=t.autoComplete,a=this.state,s=a.currentPendingValue,l=a.currentPendingValueValidIndex,c=a.currentOptions,u=a.currentPendingValueValidIndexOnHover,h=this.state.selectedIndices;if(!this._processingClearPendingInfo){if(i){if(null==s)return void(u>=0&&(this._setSelectedIndex(u,e),this._clearPendingInfo()));if(this._indexWithinBounds(c,l)){var d=this._getPreviewText(c[l]).toLocaleLowerCase();if(s.toLocaleLowerCase()===d||o&&0===d.indexOf(s.toLocaleLowerCase())&&this._autofill.current&&this._autofill.current.isValueSelected&&s.length+(this._autofill.current.selectionEnd-this._autofill.current.selectionStart)===d.length||this._autofill.current&&this._autofill.current.inputElement&&this._autofill.current.inputElement.value.toLocaleLowerCase()===d)return this._setSelectedIndex(l,e),void this._clearPendingInfo()}if(n||r)n&&n(e,void 0,void 0,s),r&&r(void 0,void 0,s,e);else{var p={key:s||Object(f.c)(),text:this._normalizeToString(s)},m=c.concat([p]);h&&(this.props.multiSelect||(h=[]),h.push(m.length-1)),this.setState({currentOptions:m,selectedIndices:h})}}else l>=0?this._setSelectedIndex(l,e):u>=0&&this._setSelectedIndex(u,e);this._clearPendingInfo()}},t.prototype._renderSeparator=function(e){var t=e.index,n=e.key;return t&&t>0?s.createElement("div",{role:"separator",key:n,className:this._classNames.divider}):null},t.prototype._renderHeader=function(e){var t=this.props.onRenderOption,n=void 0===t?this._onRenderOptionContent:t;return s.createElement("div",{key:e.key,className:this._classNames.header},n(e,this._onRenderOptionContent))},t.prototype._isOptionSelected=function(e){if(this.state.currentPendingValueValidIndexOnHover===o.clearAll)return!1;if(!this.props.multiSelect&&this._getPendingSelectedIndex(!0)===e)return!0;var t=-1;return this.props.multiSelect&&void 0!==e&&this.state.selectedIndices&&(t=this.state.selectedIndices.indexOf(e)),t>=0},t.prototype._getPendingSelectedIndex=function(e){var t=this.state,n=t.currentPendingValueValidIndexOnHover,r=t.currentPendingValueValidIndex,i=t.currentPendingValue;return n>=0?n:r>=0||e&&null!=i?r:this.props.multiSelect?0:this._getFirstSelectedIndex()},t.prototype._scrollIntoView=function(){var e=this.props,t=e.onScrollToItem,n=e.scrollSelectedToTop,r=this.state,i=r.currentPendingValueValidIndex,o=r.currentPendingValue;if(t)t(i>=0||""!==o?i:this._getFirstSelectedIndex());else if(this._selectedElement.current&&this._selectedElement.current.offsetParent)if(n)this._selectedElement.current.offsetParent.scrollIntoView(!0);else{var a=!0;if(this._comboBoxMenu.current&&this._comboBoxMenu.current.offsetParent){var s=this._comboBoxMenu.current.offsetParent.getBoundingClientRect(),l=this._selectedElement.current.offsetParent.getBoundingClientRect();if(s.top<=l.top&&s.top+s.height>=l.top+l.height)return;s.top+s.height<=l.top+l.height&&(a=!1)}this._selectedElement.current.offsetParent.scrollIntoView(a)}},t.prototype._onItemClick=function(e){var t=this,n=this.props.onItemClick,r=e.index;return function(i){n&&n(i,e,r),t._setSelectedIndex(r,i),t.props.multiSelect||t.setState({isOpen:!1})}},t.prototype._getSelectedIndices=function(e,t){var n=[];if(void 0===e||void 0===t)return n;for(var r=function(t){var r=Object(w.d)(e,function(e){return e.selected||e.key===t});r>-1&&n.push(r)},i=0,o=t;i<o.length;i++){r(o[i])}return n},t.prototype._resetSelectedIndex=function(){var e=this.state.currentOptions;this._clearPendingInfo();var t=this._getFirstSelectedIndex();t>0&&t<e.length?this.setState({suggestedDisplayValue:e[t].text}):(this.props.text||this.props.value)&&this.setState({suggestedDisplayValue:this.props.text||this.props.value})},t.prototype._clearPendingInfo=function(){this._processingClearPendingInfo=!0,this.setState({currentPendingValue:void 0,currentPendingValueValidIndex:-1,suggestedDisplayValue:void 0,currentPendingValueValidIndexOnHover:o.default},this._onAfterClearPendingInfo)},t.prototype._setPendingInfo=function(e,t,n){void 0===t&&(t=-1),this._processingClearPendingInfo||this.setState({currentPendingValue:e&&this._removeZeroWidthSpaces(e),currentPendingValueValidIndex:t,suggestedDisplayValue:n,currentPendingValueValidIndexOnHover:o.default})},t.prototype._setPendingInfoFromIndex=function(e){var t=this.state.currentOptions;if(e>=0&&e<t.length){var n=t[e];this._setPendingInfo(this._getPreviewText(n),e,this._getPreviewText(n))}else this._clearPendingInfo()},t.prototype._setPendingInfoFromIndexAndDirection=function(e,t){var n=this.state.currentOptions;t===i.forward&&e>=n.length-1?e=-1:t===i.backward&&e<=0&&(e=n.length);var r=this._getNextSelectableIndex(e,t);e===r?t===i.forward?e=this._getNextSelectableIndex(-1,t):t===i.backward&&(e=this._getNextSelectableIndex(n.length,t)):e=r,this._indexWithinBounds(n,e)&&this._setPendingInfoFromIndex(e)},t.prototype._notifyPendingValueChanged=function(e){var t=this.props.onPendingValueChanged;if(t){var n=this.state,r=n.currentPendingValue,i=n.currentOptions,o=n.currentPendingValueValidIndex,a=n.currentPendingValueValidIndexOnHover,s=void 0,l=void 0;a!==e.currentPendingValueValidIndexOnHover&&this._indexWithinBounds(i,a)?s=a:o!==e.currentPendingValueValidIndex&&this._indexWithinBounds(i,o)?s=o:r!==e.currentPendingValue&&""!==r&&(l=r),(void 0!==s||void 0!==l||this._hasPendingValue)&&(t(void 0!==s?i[s]:void 0,s,l),this._hasPendingValue=void 0!==s||void 0!==l)}},t.prototype._setOpenStateAndFocusOnClose=function(e,t){this._focusInputAfterClose=t,this.setState({isOpen:e})},t.prototype._isAltOrMeta=function(e){return e.which===y.a.alt||"Meta"===e.key},t.prototype._onOptionMouseEnter=function(e){this._shouldIgnoreMouseEvent()||this.setState({currentPendingValueValidIndexOnHover:e})},t.prototype._onOptionMouseMove=function(e){this._gotMouseMove=!0,this._isScrollIdle&&this.state.currentPendingValueValidIndexOnHover!==e&&this.setState({currentPendingValueValidIndexOnHover:e})},t.prototype._shouldIgnoreMouseEvent=function(){return!this._isScrollIdle||!this._gotMouseMove},t.prototype._handleInputWhenDisabled=function(e){this.props.disabled&&(this.state.isOpen&&this.setState({isOpen:!1}),null!==e&&e.which!==y.a.tab&&e.which!==y.a.escape&&(e.which<112||e.which>123)&&(e.stopPropagation(),e.preventDefault()))},t.prototype._handleTouchAndPointerEvent=function(){var e=this;void 0!==this._lastTouchTimeoutId&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout(function(){e._processingTouch=!1,e._lastTouchTimeoutId=void 0},500)},t.prototype._getCaretButtonStyles=function(){var e=this.props.caretDownButtonStyles;return R(this.props.theme,e)},t.prototype._getCurrentOptionStyles=function(e){var t=this.props.comboBoxOptionStyles,n=e.styles;return O(this.props.theme,t,n,this._isPendingOption(e))},t.prototype._getAriaActiveDescentValue=function(){var e=this.state.isOpen&&this.state.selectedIndices&&this.state.selectedIndices.length>=0?this._id+"-list"+this.state.selectedIndices[0]:void 0;return this.state.isOpen&&this.state.focused&&-1!==this.state.currentPendingValueValidIndex&&(e=this._id+"-list"+this.state.currentPendingValueValidIndex),e},t.prototype._getAriaAutoCompleteValue=function(){return!this.props.disabled&&"on"===this.props.autoComplete?this.props.allowFreeform?"inline":"both":"none"},t.prototype._isPendingOption=function(e){return e&&e.index===this.state.currentPendingValueValidIndex},t.prototype._buildDefaultSelectedKeys=function(e,t){var n=this._buildSelectedKeys(e);return n.length?n:this._buildSelectedKeys(t)},t.prototype._buildSelectedKeys=function(e){return void 0===e?[]:e instanceof Array?e:[e]},t.prototype._getPreviewText=function(e){return e.useAriaLabelAsText&&e.ariaLabel?e.ariaLabel:e.text},t.prototype._normalizeToString=function(e){return e||""},t.prototype._removeZeroWidthSpaces=function(e){return e.replace(RegExp("​","g"),"")},t.defaultProps={options:[],allowFreeform:!1,autoComplete:"on",buttonIconProps:{iconName:"ChevronDown"}},t=a.b([Object(M.a)("ComboBox",["theme","styles"],!0)],t)}(S.a),j=n(147),H=0,z=1,U=2,G=3,V=16,W=100,q=500,K=200,X=500,Y={top:-1,bottom:-1,left:-1,right:-1,width:0,height:0},Z=function(e){return e.getBoundingClientRect()},J=Z,Q=Z,$=function(e){function t(t){var n=e.call(this,t)||this;return n._root=s.createRef(),n._surface=s.createRef(),n._onRenderPage=function(e,t){var r=n.props,i=r.onRenderCell,o=r.role,l=e.page,c=l.items,u=l.startIndex,h=a.d(e,["page"]),d=void 0===o?"listitem":"presentation",p=(c||[]).map(function(e,t){var r=u+t,o=n.props.getKey?n.props.getKey(e,r):e&&e.key;return null==o&&(o=r),s.createElement("div",{role:d,className:Object(v.a)("ms-List-cell"),key:o,"data-list-index":r,"data-automationid":"ListCell"},i&&i(e,r,n.state.isScrolling))});return s.createElement("div",a.a({},h),p)},n.state={pages:[],isScrolling:!1},n._estimatedPageHeight=0,n._totalEstimates=0,n._requiredWindowsAhead=0,n._requiredWindowsBehind=0,n._measureVersion=0,n._onAsyncScroll=n._async.debounce(n._onAsyncScroll,W,{leading:!1,maxWait:q}),n._onAsyncIdle=n._async.debounce(n._onAsyncIdle,K,{leading:!1}),n._onAsyncResize=n._async.debounce(n._onAsyncResize,V,{leading:!1}),n._onScrollingDone=n._async.debounce(n._onScrollingDone,X,{leading:!1}),n._cachedPageHeights={},n._estimatedPageHeight=0,n._focusedIndex=-1,n._pageCache={},n}return a.c(t,e),t.prototype.scrollToIndex=function(e,t,n){void 0===n&&(n=H);for(var r=this.props.startIndex,i=r+this._getRenderCount(),o=this._allowedRect,a=0,s=1,l=r;l<i;l+=s){var c=this._getPageSpecification(l,o),u=c.height;if(s=c.itemCount,l<=e&&l+s>e){if(t){for(var h=Q(this._scrollElement),d={top:this._scrollElement.scrollTop,bottom:this._scrollElement.scrollTop+h.height},p=e-l,f=0;f<p;++f)a+=t(l+f);var m=a+t(e);switch(n){case z:return void(this._scrollElement.scrollTop=a);case U:return void(this._scrollElement.scrollTop=m-h.height);case G:return void(this._scrollElement.scrollTop=(a+m-h.height)/2)}if(a>=d.top&&m<=d.bottom)return;a<d.top||m>d.bottom&&(a=m-h.height)}return void(this._scrollElement.scrollTop=a)}a+=u}},t.prototype.getStartItemIndexInView=function(e){for(var t=0,n=this.state.pages||[];t<n.length;t++){var r=n[t];if(!r.isSpacer&&(this._scrollTop||0)>=r.top&&(this._scrollTop||0)<=r.top+r.height){if(!e){var i=Math.floor(r.height/r.itemCount);return r.startIndex+Math.floor((this._scrollTop-r.top)/i)}for(var o=0,a=r.startIndex;a<r.startIndex+r.itemCount;a++){i=e(a);if(r.top+o<=this._scrollTop&&this._scrollTop<r.top+o+i)return a;o+=i}}}return 0},t.prototype.componentDidMount=function(){this._updatePages(),this._measureVersion++,this._scrollElement=Object(j.a)(this._root.current),this._events.on(window,"resize",this._onAsyncResize),this._root.current&&this._events.on(this._root.current,"focus",this._onFocus,!0),this._scrollElement&&(this._events.on(this._scrollElement,"scroll",this._onScroll),this._events.on(this._scrollElement,"scroll",this._onAsyncScroll))},t.prototype.componentWillReceiveProps=function(e){e.items===this.props.items&&e.renderCount===this.props.renderCount&&e.startIndex===this.props.startIndex||(this._resetRequiredWindows(),this._requiredRect=null,this._measureVersion++,this._invalidatePageCache(),this._updatePages(e))},t.prototype.shouldComponentUpdate=function(e,t){var n=this.state.pages,r=t.pages,i=!1;if(!t.isScrolling&&this.state.isScrolling)return!0;if(e.items===this.props.items&&n.length===r.length)for(var o=0;o<n.length;o++){var a=n[o],s=r[o];if(a.key!==s.key||a.itemCount!==s.itemCount){i=!0;break}}else i=!0;return i},t.prototype.forceUpdate=function(){this._invalidatePageCache(),this._updateRenderRects(this.props,!0),this._updatePages(),this._measureVersion++,e.prototype.forceUpdate.call(this)},t.prototype.render=function(){for(var e=this.props,t=e.className,n=e.role,r=this.state.pages,i=void 0===r?[]:r,o=[],l=Object(_.d)(this.props,_.c),c=0,u=i;c<u.length;c++){var h=u[c];o.push(this._renderPage(h))}return s.createElement("div",a.a({ref:this._root},l,{role:void 0===n?"list":n,className:Object(v.a)("ms-List",t)}),s.createElement("div",{ref:this._surface,className:Object(v.a)("ms-List-surface"),role:"presentation"},o))},t.prototype._shouldVirtualize=function(e){void 0===e&&(e=this.props);var t=e.onShouldVirtualize;return!t||t(e)},t.prototype._invalidatePageCache=function(){this._pageCache={}},t.prototype._renderPage=function(e){var t,n=this.props.usePageCache;if(n&&(t=this._pageCache[e.key])&&t.pageElement)return t.pageElement;var r=this._getPageStyle(e),i=this.props.onRenderPage,o=(void 0===i?this._onRenderPage:i)({page:e,className:Object(v.a)("ms-List-page"),key:e.key,ref:e.key,style:r,role:"presentation"},this._onRenderPage);return n&&0===e.startIndex&&(this._pageCache[e.key]={page:e,pageElement:o}),o},t.prototype._getPageStyle=function(e){var t=this.props.getPageStyle;return a.a({},t?t(e):{},e.items?{}:{height:e.height})},t.prototype._onFocus=function(e){for(var t=e.target;t!==this._surface.current;){var n=t.getAttribute("data-list-index");if(n){this._focusedIndex=Number(n);break}t=Object(g.e)(t)}},t.prototype._onScroll=function(){this.state.isScrolling||this.setState({isScrolling:!0}),this._resetRequiredWindows(),this._onScrollingDone()},t.prototype._resetRequiredWindows=function(){this._requiredWindowsAhead=0,this._requiredWindowsBehind=0},t.prototype._onAsyncScroll=function(){var e,t;this._updateRenderRects(),this._materializedRect&&(e=this._requiredRect,t=this._materializedRect,e.top>=t.top&&e.left>=t.left&&e.bottom<=t.bottom&&e.right<=t.right)||this._updatePages()},t.prototype._onAsyncIdle=function(){var e=this.props,t=e.renderedWindowsAhead,n=e.renderedWindowsBehind,r=this._requiredWindowsAhead,i=this._requiredWindowsBehind,o=Math.min(t,r+1),a=Math.min(n,i+1);o===r&&a===i||(this._requiredWindowsAhead=o,this._requiredWindowsBehind=a,this._updateRenderRects(),this._updatePages()),(t>o||n>a)&&this._onAsyncIdle()},t.prototype._onScrollingDone=function(){this.setState({isScrolling:!1})},t.prototype._onAsyncResize=function(){this.forceUpdate()},t.prototype._updatePages=function(e){var t=this;void 0===e&&(e=this.props),this._requiredRect||this._updateRenderRects(e);var n=this._buildPages(e),r=this.state.pages;this._notifyPageChanges(r,n.pages),this.setState(n,function(){e.getPageHeight?t._onAsyncIdle():t._updatePageMeasurements(n.pages)?(t._materializedRect=null,t._hasCompletedFirstRender?t._onAsyncScroll():(t._hasCompletedFirstRender=!0,t._updatePages(e))):t._onAsyncIdle();e.onPagesUpdated&&e.onPagesUpdated(t.state.pages)})},t.prototype._notifyPageChanges=function(e,t,n){void 0===n&&(n=this.props);var r=n.onPageAdded,i=n.onPageRemoved;if(r||i){for(var o={},a=0,s=e;a<s.length;a++){(u=s[a]).items&&(o[u.startIndex]=u)}for(var l=0,c=t;l<c.length;l++){var u;(u=c[l]).items&&(o[u.startIndex]?delete o[u.startIndex]:this._onPageAdded(u))}for(var h in o)o.hasOwnProperty(h)&&this._onPageRemoved(o[h])}},t.prototype._updatePageMeasurements=function(e){var t=!1;if(!this._shouldVirtualize())return t;for(var n=0;n<e.length;n++){var r=e[n];r.items&&(t=this._measurePage(r)||t)}return t},t.prototype._measurePage=function(e){var t=!1,n=this.refs[e.key],r=this._cachedPageHeights[e.startIndex];if(n&&this._shouldVirtualize()&&(!r||r.measureVersion!==this._measureVersion)){var i={width:n.clientWidth,height:n.clientHeight};(i.height||i.width)&&(t=e.height!==i.height,e.height=i.height,this._cachedPageHeights[e.startIndex]={height:i.height,measureVersion:this._measureVersion},this._estimatedPageHeight=Math.round((this._estimatedPageHeight*this._totalEstimates+i.height)/(this._totalEstimates+1)),this._totalEstimates++)}return t},t.prototype._onPageAdded=function(e){var t=this.props.onPageAdded;t&&t(e)},t.prototype._onPageRemoved=function(e){var t=this.props.onPageRemoved;t&&t(e)},t.prototype._buildPages=function(e){var t=e.renderCount,n=e.items,r=e.startIndex,i=e.getPageHeight;t=this._getRenderCount(e);for(var o=a.a({},Y),s=[],l=1,c=0,u=null,h=this._focusedIndex,d=r+t,p=this._shouldVirtualize(e),f=0===this._estimatedPageHeight&&!i,m=this._allowedRect,g=function(e){var t=v._getPageSpecification(e,m),i=t.height,a=t.data,g=t.key;l=t.itemCount;var y,b,x=c+i-1,_=Object(w.d)(v.state.pages,function(t){return!!t.items&&t.startIndex===e})>-1,M=!m||x>=m.top&&c<=m.bottom,S=!v._requiredRect||x>=v._requiredRect.top&&c<=v._requiredRect.bottom;if(!f&&(S||M&&_)||!p||h>=e&&h<e+l||e===r){u&&(s.push(u),u=null);var C=Math.min(l,d-e),E=v._createPage(g,n.slice(e,e+C),e,void 0,void 0,a);E.top=c,E.height=i,s.push(E),S&&v._allowedRect&&(y=o,b={top:c,bottom:x,height:i,left:m.left,right:m.right,width:m.width},y.top=b.top<y.top||-1===y.top?b.top:y.top,y.left=b.left<y.left||-1===y.left?b.left:y.left,y.bottom=b.bottom>y.bottom||-1===y.bottom?b.bottom:y.bottom,y.right=b.right>y.right||-1===y.right?b.right:y.right,y.width=y.right-y.left+1,y.height=y.bottom-y.top+1)}else u||(u=v._createPage("spacer-"+e,void 0,e,0,void 0,a,!0)),u.height=(u.height||0)+(x-c)+1,u.itemCount+=l;if(c+=x-c+1,f&&p)return"break"},v=this,y=r;y<d;y+=l){if("break"===g(y))break}return u&&(u.key="spacer-end",s.push(u)),this._materializedRect=o,{pages:s,measureVersion:this._measureVersion}},t.prototype._getPageSpecification=function(e,t){var n=this.props.getPageSpecification;if(n){var r=n(e,t),i=r.itemCount,o=void 0===i?this._getItemCountForPage(e,t):i,a=r.height;return{itemCount:o,height:void 0===a?this._getPageHeight(e,o,t):a,data:r.data,key:r.key}}return{itemCount:o=this._getItemCountForPage(e,t),height:this._getPageHeight(e,o,t)}},t.prototype._getPageHeight=function(e,t,n){if(this.props.getPageHeight)return this.props.getPageHeight(e,n);var r=this._cachedPageHeights[e];return r?r.height:this._estimatedPageHeight||30},t.prototype._getItemCountForPage=function(e,t){var n=this.props.getItemCountForPage?this.props.getItemCountForPage(e,t):10;return n||10},t.prototype._createPage=function(e,t,n,r,i,o,a){void 0===n&&(n=-1),void 0===r&&(r=t?t.length:0),void 0===i&&(i={}),void 0===o&&(o=void 0),e=e||"page-"+n;var s=this._pageCache[e];if(s&&s.page)return s.page;if(t)for(var l=0;l<t.length;l++)t[l]=t[l]||void 0;return{key:e,startIndex:n,itemCount:r,items:t,style:i||{},top:0,height:0,data:o,isSpacer:a||!1}},t.prototype._getRenderCount=function(e){var t=e||this.props,n=t.items,r=t.startIndex,i=t.renderCount;return void 0===i?n?n.length-r:0:i},t.prototype._updateRenderRects=function(e,t){var n=(e=e||this.props).renderedWindowsAhead,r=e.renderedWindowsBehind,i=this.state.pages;if(this._shouldVirtualize(e)){var o=this._surfaceRect,a=this._scrollElement&&this._scrollElement.scrollHeight,s=this._scrollElement?this._scrollElement.scrollTop:0;this._surface.current&&(t||!i||!this._surfaceRect||!a||a!==this._scrollHeight||Math.abs(this._scrollTop-s)>this._estimatedPageHeight/3)&&(o=this._surfaceRect=J(this._surface.current),this._scrollTop=s),!t&&a&&a===this._scrollHeight||this._measureVersion++,this._scrollHeight=a;var l=Math.max(0,-o.top),c={top:l,left:o.left,bottom:l+window.innerHeight,right:o.right,width:o.width,height:window.innerHeight};this._requiredRect=ee(c,this._requiredWindowsBehind,this._requiredWindowsAhead),this._allowedRect=ee(c,r,n)}},t.defaultProps={startIndex:0,onRenderCell:function(e,t,n){return s.createElement("div",null,e&&e.name||"")},renderedWindowsAhead:2,renderedWindowsBehind:2},t}(S.a);function ee(e,t,n){var r=e.top-t*e.height,i=e.height+(t+n)*e.height;return{top:r,bottom:r+i,height:i,left:e.left,right:e.right,width:e.width}}var te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._comboBox=s.createRef(),t._list=s.createRef(),t._onRenderList=function(e){var n=e.onRenderItem;return s.createElement($,{componentRef:t._list,role:"listbox",items:e.options,onRenderCell:n?function(e){return n(e)}:function(){return null}})},t._onScrollToItem=function(e){t._list.current&&t._list.current.scrollToIndex(e)},t}return a.c(t,e),t.prototype.dismissMenu=function(){if(this._comboBox.current)return this._comboBox.current.dismissMenu()},t.prototype.focus=function(){return!!this._comboBox.current&&(this._comboBox.current.focus(),!0)},t.prototype.render=function(){return s.createElement(F,a.a({},this.props,{componentRef:this._comboBox,onRenderList:this._onRenderList,onScrollToItem:this._onScrollToItem}))},t}(S.a);n.d(t,"SelectableOptionMenuItemType",function(){return r}),n.d(t,"ComboBox",function(){return F}),n.d(t,"VirtualizedComboBox",function(){return te})},function(e,t,n){"use strict";n.r(t);var r=n(133),i=n(1),o=n(0),a=n(88),s=n(61),l=n(96),c=n(146),u=n(24),h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isRendered:!1},n}return i.c(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.delay;this._timeoutId=setTimeout(function(){e.setState({isRendered:!0})},t)},t.prototype.componentWillUnmount=function(){this._timeoutId&&clearTimeout(this._timeoutId)},t.prototype.render=function(){return this.state.isRendered?o.Children.only(this.props.children):null},t.defaultProps={delay:0},t}(o.Component),d=n(58),p=n(34),f=Object(l.a)(),m="",g=function(e){function t(t){var n=e.call(this,t)||this;return n._textElement=Object(c.a)(),n._onFocus=function(e){n.props.onFocus&&n.props.onFocus(e),n.setState({isFocused:!0}),n.props.validateOnFocusIn&&n._validate(n.state.value)},n._onBlur=function(e){n.props.onBlur&&n.props.onBlur(e),n.setState({isFocused:!1}),n.props.validateOnFocusOut&&n._validate(n.state.value)},n._onRenderLabel=function(e){var t=e.label,r=e.required,i=n._classNames.subComponentStyles?n._classNames.subComponentStyles.label:void 0;return t?o.createElement(a.a,{required:r,htmlFor:n._id,styles:i},e.label):null},n._onRenderDescription=function(e){return e.description?o.createElement("span",{className:n._classNames.description},e.description):null},n._onInputChange=function(e){e.persist();var t=e.target.value;if(t!==n._latestValue){n._latestValue=t,n.setState({value:t},function(){n._adjustInputHeight(),n.props.onChange&&n.props.onChange(e,t),n.props.onChanged&&n.props.onChanged(t)});var r=n.props,i=r.validateOnFocusIn,o=r.validateOnFocusOut;i||o||n._delayedValidate(t),n.props.onBeforeChange&&n.props.onBeforeChange(t)}},n._warnDeprecations({iconClass:"iconProps",addonString:"prefix",onRenderAddon:"onRenderPrefix",onChanged:"onChange"}),n._warnMutuallyExclusive({value:"defaultValue"}),n._id=t.id||Object(u.c)("TextField"),n._descriptionId=Object(u.c)("TextFieldDescription"),void 0!==t.value?n._latestValue=t.value:void 0!==t.defaultValue?n._latestValue=t.defaultValue:n._latestValue=m,n.state={value:n._latestValue,isFocused:!1,errorMessage:""},n._delayedValidate=n._async.debounce(n._validate,n.props.deferredValidationTime),n._lastValidation=0,n}return i.c(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.state.value},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this._isMounted=!0,this._adjustInputHeight(),this.props.validateOnLoad&&this._validate(this.state.value)},t.prototype.componentWillReceiveProps=function(e){var t=this.props.onBeforeChange;if(e.value!==this.state.value&&(void 0!==e.value||void 0!==this.props.value)){t&&t(e.value),this._id=e.id||this._id,this._setValue(e.value);var n=e.validateOnFocusIn,r=e.validateOnFocusOut;n||r||this._delayedValidate(e.value)}e.defaultValue!==this.props.defaultValue&&void 0===e.value&&this._setValue(e.defaultValue),!!e.multiline!=!!this.props.multiline&&this.state.isFocused&&(this._shouldResetFocusAfterRender=!0,this._selectionBeforeInputTypeChange=[this.selectionStart,this.selectionEnd])},t.prototype.componentDidUpdate=function(){if(this._shouldResetFocusAfterRender&&(this._shouldResetFocusAfterRender=!1,this.focus(),this._selectionBeforeInputTypeChange)){var e=this._selectionBeforeInputTypeChange,t=e[0],n=e[1];null!==t&&null!==n&&this.setSelectionRange(t,n)}},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.render=function(){var e=this.props,t=e.borderless,n=e.className,r=e.disabled,a=e.iconClass,l=e.iconProps,c=e.inputClassName,u=e.label,d=e.multiline,p=e.required,m=e.underlined,g=e.addonString,v=e.prefix,y=e.resizable,b=e.suffix,x=e.theme,_=e.styles,w=e.autoAdjustHeight,M=e.onRenderAddon,S=void 0===M?this._onRenderAddon:M,C=e.onRenderPrefix,E=void 0===C?this._onRenderPrefix:C,T=e.onRenderSuffix,L=void 0===T?this._onRenderSuffix:T,P=e.onRenderLabel,k=void 0===P?this._onRenderLabel:P,A=e.onRenderDescription,I=void 0===A?this._onRenderDescription:A,O=this.state.isFocused,R=this._errorMessage;return this._classNames=f(_,{theme:x,className:n,disabled:r,focused:O,required:p,multiline:d,hasLabel:!!u,hasErrorMessage:!!R,borderless:t,resizable:y,hasIcon:!!l,underlined:m,iconClass:a,inputClassName:c,autoAdjustHeight:w}),o.createElement("div",{className:this._classNames.root},o.createElement("div",{className:this._classNames.wrapper},k(this.props,this._onRenderLabel),o.createElement("div",{className:this._classNames.fieldGroup},(void 0!==g||this.props.onRenderAddon)&&o.createElement("div",{className:this._classNames.prefix},S(this.props,this._onRenderAddon)),(void 0!==v||this.props.onRenderPrefix)&&o.createElement("div",{className:this._classNames.prefix},E(this.props,this._onRenderPrefix)),d?this._renderTextArea():this._renderInput(),(a||l)&&o.createElement(s.a,i.a({className:this._classNames.icon},l)),(void 0!==b||this.props.onRenderSuffix)&&o.createElement("div",{className:this._classNames.suffix},L(this.props,this._onRenderSuffix)))),this._isDescriptionAvailable&&o.createElement("span",{id:this._descriptionId},I(this.props,this._onRenderDescription),R&&o.createElement("div",{role:"alert"},o.createElement(h,null,o.createElement("p",{className:this._classNames.errorMessage},o.createElement("span",{"data-automation-id":"error-message"},R))))))},t.prototype.focus=function(){this._textElement.current&&this._textElement.current.focus()},t.prototype.blur=function(){this._textElement.current&&this._textElement.current.blur()},t.prototype.select=function(){this._textElement.current&&this._textElement.current.select()},t.prototype.setSelectionStart=function(e){this._textElement.current&&(this._textElement.current.selectionStart=e)},t.prototype.setSelectionEnd=function(e){this._textElement.current&&(this._textElement.current.selectionEnd=e)},Object.defineProperty(t.prototype,"selectionStart",{get:function(){return this._textElement.current?this._textElement.current.selectionStart:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionEnd",{get:function(){return this._textElement.current?this._textElement.current.selectionEnd:-1},enumerable:!0,configurable:!0}),t.prototype.setSelectionRange=function(e,t){this._textElement.current&&this._textElement.current.setSelectionRange(e,t)},t.prototype._setValue=function(e){var t=this;this._latestValue=e,this.setState({value:e||m,errorMessage:""},function(){t._adjustInputHeight()})},t.prototype._onRenderAddon=function(e){var t=e.addonString;return o.createElement("span",{style:{paddingBottom:"1px"}},t)},t.prototype._onRenderPrefix=function(e){var t=e.prefix;return o.createElement("span",{style:{paddingBottom:"1px"}},t)},t.prototype._onRenderSuffix=function(e){var t=e.suffix;return o.createElement("span",{style:{paddingBottom:"1px"}},t)},Object.defineProperty(t.prototype,"_errorMessage",{get:function(){var e=this.state.errorMessage;return!e&&this.props.errorMessage&&(e=this.props.errorMessage),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_isDescriptionAvailable",{get:function(){var e=this.props;return!!(e.onRenderDescription||e.description||this._errorMessage)},enumerable:!0,configurable:!0}),t.prototype._renderTextArea=function(){var e=Object(d.d)(this.props,d.h,["defaultValue"]);return o.createElement("textarea",i.a({id:this._id},e,{ref:this._textElement,value:this.state.value,onInput:this._onInputChange,onChange:this._onInputChange,className:this._classNames.field,"aria-describedby":this._isDescriptionAvailable?this._descriptionId:this.props["aria-describedby"],"aria-invalid":!!this.state.errorMessage,"aria-label":this.props.ariaLabel,readOnly:this.props.readOnly,onFocus:this._onFocus,onBlur:this._onBlur}))},t.prototype._renderInput=function(){var e=Object(d.d)(this.props,d.g,["defaultValue"]);return o.createElement("input",i.a({type:"text",id:this._id},e,{ref:this._textElement,value:this.state.value,onInput:this._onInputChange,onChange:this._onInputChange,className:this._classNames.field,"aria-label":this.props.ariaLabel,"aria-describedby":this._isDescriptionAvailable?this._descriptionId:this.props["aria-describedby"],"aria-invalid":!!this.state.errorMessage,readOnly:this.props.readOnly,onFocus:this._onFocus,onBlur:this._onBlur}))},t.prototype._validate=function(e){var t=this,n=this.props,r=n.validateOnFocusIn,i=n.validateOnFocusOut;if(this._latestValidateValue!==e||r||i){this._latestValidateValue=e;var o=(0,this.props.onGetErrorMessage)(e||"");if(void 0!==o)if("string"==typeof o)this.setState({errorMessage:o}),this._notifyAfterValidate(e,o);else{var a=++this._lastValidation;o.then(function(n){t._isMounted&&a===t._lastValidation&&t.setState({errorMessage:n}),t._notifyAfterValidate(e,n)})}else this._notifyAfterValidate(e,"")}},t.prototype._notifyAfterValidate=function(e,t){this._isMounted&&e===this.state.value&&this.props.onNotifyValidationResult&&this.props.onNotifyValidationResult(t,e)},t.prototype._adjustInputHeight=function(){if(this._textElement.current&&this.props.autoAdjustHeight&&this.props.multiline){var e=this._textElement.current;e.style.height="",e.style.height=e.scrollHeight+"px"}},t.defaultProps={multiline:!1,resizable:!0,autoAdjustHeight:!1,underlined:!1,borderless:!1,onChange:function(){},onBeforeChange:function(){},onNotifyValidationResult:function(){},onGetErrorMessage:function(){},deferredValidationTime:200,errorMessage:"",validateOnFocusIn:!1,validateOnFocusOut:!1,validateOnLoad:!0},t}(p.a),v=n(3),y={root:"ms-TextField",description:"ms-TextField-description",errorMessage:"ms-TextField-errorMessage",field:"ms-TextField-field",fieldGroup:"ms-TextField-fieldGroup",prefix:"ms-TextField-prefix",suffix:"ms-TextField-suffix",wrapper:"ms-TextField-wrapper",multiline:"ms-TextField--multiline",borderless:"ms-TextField--borderless",underlined:"ms-TextField--underlined",unresizable:"ms-TextField--unresizable",required:"is-required",disabled:"is-disabled",active:"is-active"};var b=Object(r.a)(g,function(e){var t,n,r,i,o,a,s=e.theme,l=e.className,c=e.disabled,u=e.focused,h=e.required,d=e.multiline,p=e.hasLabel,f=e.borderless,m=e.underlined,g=e.hasIcon,b=e.resizable,x=e.hasErrorMessage,_=e.iconClass,w=e.inputClassName,M=e.autoAdjustHeight,S=s.semanticColors,C=s.palette,E=Object(v.l)(y,s),T={background:C.neutralLighter,color:C.neutralSecondary,display:"flex",alignItems:"center",padding:"0 10px",lineHeight:1,whiteSpace:"nowrap"};return{root:[E.root,h&&E.required,c&&E.disabled,u&&E.active,d&&E.multiline,f&&E.borderless,m&&E.underlined,v.s,{position:"relative",selectors:(t={},t[v.f]={borderWidth:2},t)},u&&{borderColor:S.inputFocusBorderAlt},m&&!u&&{border:"0px solid "+S.inputBorder},m&&!c&&!u&&{selectors:{":hover":{borderColor:S.inputBorderHovered}}},l],wrapper:[E.wrapper,m&&{display:"flex",borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"inherit",width:"100%"},x&&{borderColor:S.errorText,selectors:{"&:focus, &:hover":{borderColor:S.errorText}}},x&&m&&!c&&{borderBottom:"1px solid "+S.errorText,selectors:{":focus":{borderBottom:"1px solid "+S.errorText},":hover":{borderBottom:"1px solid "+S.errorText}}},m&&c&&{borderBottomColor:S.disabledBackground},m&&!c&&{selectors:{":hover":{selectors:(n={},n[v.f]={borderColor:"Highlight"},n)}}},m&&u&&{selectors:(r={},r[v.f]={borderColor:"Highlight"},r)}],fieldGroup:[E.fieldGroup,v.s,{border:"1px solid "+S.inputBorder,background:S.bodyBackground,height:32,display:"flex",flexDirection:"row",alignItems:"stretch",position:"relative",selectors:{":hover":{selectors:(i={},i[v.f]={borderColor:"Highlight"},i)}}},d&&{minHeight:"60px",height:"auto",display:"flex"},f&&{borderColor:"transparent",borderWidth:0},!u&&!c&&{selectors:{":hover":{borderColor:S.inputBorderHovered}}},u&&{borderColor:S.inputFocusBorderAlt,selectors:(o={},o[v.f]={borderWidth:2,borderColor:"Highlight"},o)},c&&{backgroundColor:S.disabledBackground,borderColor:S.disabledBackground},m&&{flex:"1 1 0px",borderWidth:0,textAlign:"left"},m&&c&&{backgroundColor:"transparent"},x&&{borderColor:S.errorText,selectors:{"&:focus, &:hover":{borderColor:S.errorText}}},x&&u&&{borderColor:S.errorText},!p&&h&&{selectors:{":after":{content:"'*'",color:S.errorText,position:"absolute",top:-5,right:-10}}}],field:[E.field,v.s,{fontSize:v.d.medium,borderRadius:0,border:"none",background:"none",backgroundColor:"transparent",color:S.bodyText,padding:"0 12px",width:"100%",minWidth:0,textOverflow:"ellipsis",outline:0,selectors:{"&:active, &:focus, &:hover":{outline:0},"::-ms-clear":{display:"none"},"::placeholder":{color:S.inputPlaceholderText,opacity:1},":-ms-input-placeholder":{color:S.inputPlaceholderText,opacity:1}}},d&&!b&&[E.unresizable,{resize:"none"}],d&&{minHeight:"inherit",lineHeight:17,flexGrow:1,paddingTop:6,overflow:"auto",width:"100%"},d&&M&&{overflow:"hidden"},g&&{paddingRight:24},d&&g&&{paddingRight:40},c&&{backgroundColor:"transparent",borderColor:"transparent"},m&&{textAlign:"left"},m&&c&&{backgroundColor:"transparent",color:S.disabledText},u&&{selectors:(a={},a[v.f]={padding:"0 11px 0 11px"},a)},w],icon:[d&&{paddingRight:24,paddingBottom:8,alignItems:"flex-end"},{pointerEvents:"none",position:"absolute",bottom:5,right:8,top:"auto",fontSize:16,lineHeight:18},_],description:[E.description,{color:S.bodySubtext,fontSize:v.d.xSmall}],errorMessage:[E.errorMessage,v.a.slideDownIn20,s.fonts.small,{color:S.errorText,margin:0,paddingTop:5,display:"flex",alignItems:"center"}],prefix:[E.prefix,T],suffix:[E.suffix,T],subComponentStyles:{label:function(e){var t=e.underlined,n=e.disabled;return function(){return{root:[t&&n&&{color:e.theme.palette.neutralTertiary},t&&{fontSize:v.d.medium,marginRight:8,paddingLeft:12,paddingRight:0,lineHeight:"22px",height:32}]}}}(e)}}},void 0,{scope:"TextField"}),x=n(7);function _(e,t,n){var r=n.value,i=!1;return{configurable:!0,get:function(){if(i||r&&this===r.prototype||this.hasOwnProperty(t))return r;var e=r&&r.bind(this);return i=!0,Object.defineProperty(this,t,{configurable:!0,writable:!0,enumerable:!0,value:e}),i=!1,e},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,enumerable:!0,value:e})}}}var w={9:/[0-9]/,a:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/};function M(e,t){if(void 0===t&&(t=w),!e)return[];for(var n=[],r=0,i=0;i+r<e.length;i++){var o=e.charAt(i+r);if("\\"===o)r++;else{var a=t[o];a&&n.push({displayIndex:i,format:a})}}return n}function S(e,t,n){var r=e;if(!r)return"";r=r.replace(/\\/g,"");var i=0;t.length>0&&(i=t[0].displayIndex-1);for(var o=0,a=t;o<a.length;o++){var s=a[o],l=" ";s.value?(l=s.value,s.displayIndex>i&&(i=s.displayIndex)):n&&(l=n),r=r.slice(0,s.displayIndex)+l+r.slice(s.displayIndex+1)}return n||(r=r.slice(0,i+1)),r}function C(e,t){for(var n=0;n<e.length;n++)if(e[n].displayIndex>=t)return e[n].displayIndex;return e[e.length-1].displayIndex}function E(e,t,n){for(var r=0;r<e.length;r++)if(e[r].displayIndex>=t){if(e[r].displayIndex>=t+n)break;e[r].value=void 0}return e}function T(e,t,n){for(var r=0,i=0,o=!1,a=0;a<e.length&&r<n.length;a++)if(e[a].displayIndex>=t)for(o=!0,i=e[a].displayIndex;r<n.length;){if(e[a].format.test(n.charAt(r))){e[a].value=n.charAt(r++),a+1<e.length?i=e[a+1].displayIndex:i++;break}r++}return o?i:t}var L=function(e){function t(t){var n=e.call(this,t)||this;return n._skipComponentRefResolution=!0,n._maskCharData=M(t.mask,t.maskFormat),t.value&&n.setValue(t.value),n._isFocused=!1,n._moveCursorOnMouseUp=!1,n.state={displayValue:S(t.mask,n._maskCharData,t.maskChar)},n}return i.c(t,e),t.prototype.componentWillReceiveProps=function(e){e.mask!==this.props.mask&&(this._maskCharData=M(e.mask,e.maskFormat),this.state={displayValue:S(e.mask,this._maskCharData,e.maskChar)})},t.prototype.componentDidUpdate=function(){void 0!==this.state.maskCursorPosition&&this._textField.setSelectionRange(this.state.maskCursorPosition,this.state.maskCursorPosition)},t.prototype.render=function(){return o.createElement(b,i.a({},this.props,{onFocus:this._onFocus,onBlur:this._onBlur,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onChange:this._onInputChange,onBeforeChange:this._onBeforeChange,onKeyDown:this._onKeyDown,onPaste:this._onPaste,value:this.state.displayValue,componentRef:this._resolveRef("_textField")}))},Object.defineProperty(t.prototype,"value",{get:function(){for(var e="",t=0;t<this._maskCharData.length;t++){if(!this._maskCharData[t].value)return;e+=this._maskCharData[t].value}return e},enumerable:!0,configurable:!0}),t.prototype.setValue=function(e){for(var t=0,n=0;t<e.length&&n<this._maskCharData.length;){var r=e[t];this._maskCharData[n].format.test(r)&&(this._maskCharData[n].value=r,n++),t++}},t.prototype.focus=function(){this._textField&&this._textField.focus()},t.prototype.blur=function(){this._textField&&this._textField.blur()},t.prototype.select=function(){this._textField&&this._textField.select()},t.prototype.setSelectionStart=function(e){this._textField&&this._textField.setSelectionStart(e)},t.prototype.setSelectionEnd=function(e){this._textField&&this._textField.setSelectionEnd(e)},t.prototype.setSelectionRange=function(e,t){this._textField&&this._textField.setSelectionRange(e,t)},Object.defineProperty(t.prototype,"selectionStart",{get:function(){return this._textField&&null!==this._textField.selectionStart?this._textField.selectionStart:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionEnd",{get:function(){return this._textField&&this._textField.selectionEnd?this._textField.selectionEnd:-1},enumerable:!0,configurable:!0}),t.prototype._onFocus=function(e){this.props.onFocus&&this.props.onFocus(e),this._isFocused=!0;for(var t=0;t<this._maskCharData.length;t++)if(!this._maskCharData[t].value){this.setState({maskCursorPosition:this._maskCharData[t].displayIndex});break}},t.prototype._onBlur=function(e){this.props.onBlur&&this.props.onBlur(e),this._isFocused=!1,this._moveCursorOnMouseUp=!0},t.prototype._onMouseDown=function(e){this.props.onMouseDown&&this.props.onMouseDown(e),this._isFocused||(this._moveCursorOnMouseUp=!0)},t.prototype._onMouseUp=function(e){if(this.props.onMouseUp&&this.props.onMouseUp(e),this._moveCursorOnMouseUp){this._moveCursorOnMouseUp=!1;for(var t=0;t<this._maskCharData.length;t++)if(!this._maskCharData[t].value){this.setState({maskCursorPosition:this._maskCharData[t].displayIndex});break}}},t.prototype._onBeforeChange=function(e){this.props.onBeforeChange&&this.props.onBeforeChange(e),null===this._changeSelectionData&&(this._changeSelectionData={changeType:"default",selectionStart:null!==this._textField.selectionStart?this._textField.selectionStart:-1,selectionEnd:null!==this._textField.selectionEnd?this._textField.selectionEnd:-1})},t.prototype._onInputChange=function(e,t){if(this._changeSelectionData){var n=this.state.displayValue,r=0,i=this._changeSelectionData,o=i.changeType,a=i.selectionStart,s=i.selectionEnd;if("textPasted"===o){var l=s-a,c=t.length+l-n.length,u=a,h=t.substr(u,c);l&&(this._maskCharData=E(this._maskCharData,a,l)),r=T(this._maskCharData,u,h)}else if("delete"===o||"backspace"===o){var d="delete"===o;(c=s-a)?(this._maskCharData=E(this._maskCharData,a,c),r=C(this._maskCharData,a)):d?(this._maskCharData=function(e,t){for(var n=0;n<e.length;n++)if(e[n].displayIndex>=t){e[n].value=void 0;break}return e}(this._maskCharData,a),r=C(this._maskCharData,a)):(this._maskCharData=function(e,t){for(var n=e.length-1;n>=0;n--)if(e[n].displayIndex<t){e[n].value=void 0;break}return e}(this._maskCharData,a),r=function(e,t){for(var n=e.length-1;n>=0;n--)if(e[n].displayIndex<t)return e[n].displayIndex;return e[0].displayIndex}(this._maskCharData,a))}else if(t.length>n.length){u=s-(c=t.length-n.length);var p=t.substr(u,c);r=T(this._maskCharData,u,p)}else if(t.length<=n.length){c=1;var f=n.length+c-t.length;u=s-c,p=t.substr(u,c);this._maskCharData=E(this._maskCharData,u,f),r=T(this._maskCharData,u,p)}this._changeSelectionData=null;var m=S(this.props.mask,this._maskCharData,this.props.maskChar);this.setState({displayValue:m,maskCursorPosition:r}),this.props.onChange&&this.props.onChange(e,m),this.props.onChanged&&this.props.onChanged(m)}},t.prototype._onKeyDown=function(e){if(this.props.onKeyDown&&this.props.onKeyDown(e),this._changeSelectionData=null,this._textField.value){var t=e.keyCode,n=e.ctrlKey,r=e.metaKey;if(n||r)return;if(t===x.a.backspace||t===x.a.del){var i=e.target.selectionStart,o=e.target.selectionEnd;if(!(t===x.a.backspace&&o&&o>0||t===x.a.del&&null!==i&&i<this._textField.value.length))return;this._changeSelectionData={changeType:t===x.a.backspace?"backspace":"delete",selectionStart:null!==i?i:-1,selectionEnd:null!==o?o:-1}}}},t.prototype._onPaste=function(e){this.props.onPaste&&this.props.onPaste(e);var t=e.target.selectionStart,n=e.target.selectionEnd;this._changeSelectionData={changeType:"textPasted",selectionStart:null!==t?t:-1,selectionEnd:null!==n?n:-1}},t.defaultProps={maskChar:"_",maskFormat:w},i.b([_],t.prototype,"_onFocus",null),i.b([_],t.prototype,"_onBlur",null),i.b([_],t.prototype,"_onMouseDown",null),i.b([_],t.prototype,"_onMouseUp",null),i.b([_],t.prototype,"_onBeforeChange",null),i.b([_],t.prototype,"_onInputChange",null),i.b([_],t.prototype,"_onKeyDown",null),i.b([_],t.prototype,"_onPaste",null),t}(p.a);n.d(t,"TextField",function(){return b}),n.d(t,"TextFieldBase",function(){return g}),n.d(t,"DEFAULT_MASK_CHAR",function(){return"_"}),n.d(t,"MaskedTextField",function(){return L})},function(e,t,n){"use strict";var r=n(133),i=n(47),o=n(3);n.d(t,"a",function(){return a});var a=Object(r.a)(i.a,function(e){var t,n=e.theme,r=e.className,i=e.disabled,a=e.required;return{root:["ms-Label",n.fonts.medium,{color:n.semanticColors.bodyText,boxSizing:"border-box",boxShadow:"none",margin:0,display:"block",padding:"5px 0",wordWrap:"break-word",overflowWrap:"break-word"},i&&{color:n.semanticColors.disabledBodyText,selectors:(t={},t[o.f]={color:"GrayText"},t)},a&&{selectors:{"::after":{content:"' *'",color:n.semanticColors.errorText,paddingRight:12}}},r]}},void 0,{scope:"Label"})},function(e,t,n){"use strict";var r=n(133),i=n(48),o=n(3);n.d(t,"a",function(){return a});var a=Object(r.a)(i.a,function(e){var t,n,r,i,a,s=e.className,l=e.theme,c=e.reversed,u=e.checked,h=e.disabled,d=e.isUsingCustomLabelRender,p=l.semanticColors,f=p.inputForegroundChecked,m=p.disabledBackground,g=p.inputBorder,v=p.smallInputBorder,y=p.inputBackgroundChecked,b=p.disabledBodySubtext,x=p.inputBorderHovered,_=p.inputBackgroundChecked,w=p.inputBackgroundCheckedHovered,M=p.inputBackgroundCheckedHovered,S=p.bodyText,C=p.disabledBodySubtext,E=p.bodyText,T=p.disabledText;return{root:["ms-Checkbox",c&&"reversed",u&&"is-checked",!h&&"is-enabled",h&&"is-disabled",Object(o.k)(l,-3),l.fonts.medium,{padding:"0",border:"none",background:"none",margin:"0",outline:"none",display:"block",cursor:"pointer"},!h&&[!u&&{selectors:{":hover .ms-Checkbox-checkbox":{borderColor:x,selectors:(t={},t[o.f]={borderColor:"Highlight"},t)},":focus .ms-Checkbox-checkbox":{borderColor:x},":hover .ms-Checkbox-checkmark":{color:g,opacity:"1",selectors:(n={},n[o.f]={color:"Highlight"},n)}}},u&&{selectors:(r={":hover .ms-Checkbox-checkbox":{background:w,borderColor:M},":focus .ms-Checkbox-checkbox":{background:w,borderColor:M}},r[o.f]={selectors:{":hover .ms-Checkbox-checkbox":{background:"Window",borderColor:"Highlight"},":focus .ms-Checkbox-checkbox":{background:"Highlight"},":focus:hover .ms-Checkbox-checkbox":{background:"Highlight"},":focus:hover .ms-Checkbox-checkmark":{color:"Window"},":hover .ms-Checkbox-checkmark":{color:"Highlight"}}},r)},{selectors:{":hover .ms-Checkbox-text":{color:S},":focus .ms-Checkbox-text":{color:S}}}],s],label:["ms-Checkbox-label",{display:"flex",margin:"0 -4px",alignItems:d?"center":"flex-start",cursor:h?"default":"pointer",position:"relative",userSelect:"none",textAlign:"left"},c&&{flexDirection:"row-reverse",justifyContent:"flex-end"}],checkbox:["ms-Checkbox-checkbox",{display:"flex",flexShrink:0,alignItems:"center",justifyContent:"center",height:"20px",width:"20px",borderWidth:"1px",borderStyle:"solid",borderColor:v,margin:"0 4px",boxSizing:"border-box",transitionProperty:"background, border, border-color",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(.4, 0, .23, 1)",overflow:"hidden"},!h&&u&&{background:_,borderColor:y,selectors:(i={},i[o.f]={background:"Highlight",borderColor:"Highlight"},i)},h&&{borderColor:b},u&&h&&{background:C,borderColor:b}],checkmark:["ms-Checkbox-checkmark",{opacity:u?"1":"0",color:u&&h?m:f,selectors:(a={},a[o.f]={color:h?"InactiveBorder":"Window",MsHighContrastAdjust:"none"},a)}],text:["ms-Checkbox-text",{color:h?T:E,margin:"0 4px",fontSize:o.d.medium,lineHeight:"20px"}]}},void 0,{scope:"Checkbox"})},function(e,t,n){"use strict";n.r(t);var r=n(89),i=n(48);n.d(t,"Checkbox",function(){return r.a}),n.d(t,"CheckboxBase",function(){return i.a})},function(e,t,n){"use strict";n.r(t);var r=n(51),i=n(50),o=n(13),a=n(17),s=n(49);n.d(t,"ContextualMenu",function(){return r.a}),n.d(t,"getSubmenuItems",function(){return i.c}),n.d(t,"canAnyMenuItemsCheck",function(){return i.b}),n.d(t,"ContextualMenuBase",function(){return i.a}),n.d(t,"DirectionalHint",function(){return o.b}),n.d(t,"ContextualMenuItemType",function(){return o.a}),n.d(t,"ContextualMenuItem",function(){return a.a}),n.d(t,"ContextualMenuItemBase",function(){return s.a})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return l});var r,i,o=0,a=(r="undefined"!=typeof window?window:void 0!==e?e:{}).__globalSettings__=r.__globalSettings__||((i={}).__callbacks__={},i),s=a.__callbacks__,l=function(){function e(){}return e.getValue=function(e,t){return void 0===a[e]&&(a[e]="function"==typeof t?t():t),a[e]},e.setValue=function(e,t){var n=a[e];if(t!==n){a[e]=t;var r={oldValue:n,value:t,key:e};for(var i in s)s.hasOwnProperty(i)&&s[i](r)}return t},e.addChangeListener=function(e){var t=e.__id__;t||(t=e.__id__=String(o++)),s[t]=e},e.removeChangeListener=function(e){delete s[e.__id__]},e}()}).call(this,n(76))},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r,i=n(7),o=((r={})[i.a.up]=1,r[i.a.down]=1,r[i.a.left]=1,r[i.a.right]=1,r[i.a.home]=1,r[i.a.end]=1,r[i.a.tab]=1,r[i.a.pageUp]=1,r[i.a.pageDown]=1,r);function a(e){return!!o[e]}},function(e,t,n){"use strict";(function(e){var n,r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i="undefined"==typeof window?e:window,o=function(){var e=i.__themeState__||{theme:void 0,lastStyleElement:void 0,registeredStyles:[]};e.runState||(e=r({},e,{perf:{count:0,duration:0},runState:{flushTimer:0,mode:0,buffer:[]}}));e.registeredThemableStyles||(e=r({},e,{registeredThemableStyles:[]}));return i.__themeState__=e,e}(),a=/[\'\"]\[theme:\s*(\w+)\s*(?:\,\s*default:\s*([\\"\']?[\.\,\(\)\#\-\s\w]*[\.\,\(\)\#\-\w][\"\']?))?\s*\][\'\"]/g,s=1e4,l=function(){return"undefined"!=typeof performance&&performance.now?performance.now():Date.now()};function c(e){var t=l();e();var n=l();o.perf.duration+=n-t}function u(){c(function(){var e=o.runState.buffer.slice();o.runState.buffer=[];var t=[].concat.apply([],e);t.length>0&&h(t)})}function h(e,t){o.loadStyles?o.loadStyles(m(e).styleString,e):n?function(e,t){if("undefined"==typeof document)return;var n=document.getElementsByTagName("head")[0],r=o.registeredStyles,i=o.lastStyleElement,a=i?i.styleSheet:void 0,l=a?a.cssText:"",c=r[r.length-1],u=m(e).styleString;(!i||l.length+u.length>s)&&((i=document.createElement("style")).type="text/css",t?(n.replaceChild(i,t.styleElement),t.styleElement=i):n.appendChild(i),t||(c={styleElement:i,themableStyle:e},r.push(c)));i.styleSheet.cssText+=f(u),Array.prototype.push.apply(c.themableStyle,e),o.lastStyleElement=i}(e,t):function(e){if("undefined"==typeof document)return;var t=document.getElementsByTagName("head")[0],n=document.createElement("style"),r=m(e),i=r.styleString,a=r.themable;n.type="text/css",n.appendChild(document.createTextNode(i)),o.perf.count++,t.appendChild(n);var s={styleElement:n,themableStyle:e};a?o.registeredThemableStyles.push(s):o.registeredStyles.push(s)}(e)}function d(e){void 0===e&&(e=3),3!==e&&2!==e||(p(o.registeredStyles),o.registeredStyles=[]),3!==e&&1!==e||(p(o.registeredThemableStyles),o.registeredThemableStyles=[])}function p(e){e.forEach(function(e){var t=e&&e.styleElement;t&&t.parentElement&&t.parentElement.removeChild(t)})}function f(e){return e&&(e=m(g(e)).styleString),e}function m(e){var t=o.theme,n=!1;return{styleString:(e||[]).map(function(e){var r=e.theme;if(r){n=!0;var i=t?t[r]:void 0,o=e.defaultValue||"inherit";return!t||i||!console||r in t||"undefined"==typeof DEBUG||!DEBUG||console.warn('Theming value not provided for "'+r+'". Falling back to "'+o+'".'),i||o}return e.rawString}).join(""),themable:n}}function g(e){var t=[];if(e){for(var n=0,r=void 0;r=a.exec(e);){var i=r.index;i>n&&t.push({rawString:e.substring(n,i)}),t.push({theme:r[1],defaultValue:r[2]}),n=a.lastIndex}t.push({rawString:e.substring(n)})}return t}t.loadStyles=function(e,t){void 0===t&&(t=!1),c(function(){var r=Array.isArray(e)?e:g(e);void 0===n&&(n=function(){var e=!1;if("undefined"!=typeof document){var t=document.createElement("style");t.type="text/css",e=!!t.styleSheet}return e}());var i=o.runState,a=i.mode,s=i.buffer,l=i.flushTimer;t||1===a?(s.push(r),l||(o.runState.flushTimer=setTimeout(function(){o.runState.flushTimer=0,u()},0))):h(r)})},t.configureLoadStyles=function(e){o.loadStyles=e},t.configureRunMode=function(e){o.runState.mode=e},t.flush=u,t.loadTheme=function(e){o.theme=e,function(){if(o.theme){for(var e=[],t=0,n=o.registeredThemableStyles;t<n.length;t++){var r=n[t];e.push(r.themableStyle)}e.length>0&&(d(1),h([].concat.apply([],e)))}}()},t.clearStyles=d,t.detokenize=f,t.splitStyles=g}).call(this,n(76))},function(e,t,n){"use strict";function r(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(69);function i(){return function(e,t){if(void 0===t&&(t={}),void 0===e)return{};var n=e&&("function"==typeof e?e(t):e);return Object(r.a)(n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(67);n(98);var o=n(72),a=n(81),s=n(63),l=n(82),c=n(83),u=n(65),h=n(112),d=new(function(){function e(){}return Object.defineProperty(e.prototype,"savedNodeGraph",{get:function(){var e=localStorage.getItem("savedNodeGraph");return null==e?null:o.NodeGraph.deserialize(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoSaveInterval",{get:function(){var e=localStorage.getItem("autoSaveInterval");return null==e?3e5:parseInt(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldLoadSavedNodeGraph",{get:function(){var e=localStorage.getItem("shouldLoadSavedNodeGraph");return null==e||"true"===e},enumerable:!0,configurable:!0}),e}()),p=d.savedNodeGraph;if(null!=p&&d.shouldLoadSavedNodeGraph)console.debug("loading nodegraph from localStorage");else{var f=new a.NoiseNode({name:"noise",coordinate:{x:200,y:100},width:128,height:128}),m=new s.ColorChannelNode({name:"color_channel",coordinate:{x:400,y:150},width:128,height:128}),g=new l.TransformNode({name:"transform",coordinate:{x:600,y:250},width:128,height:128}),v=new c.TileNode({name:"tile",coordinate:{x:800,y:128},width:128,height:128});p=new o.NodeGraph({links:[new u.NodeGraphLink({sourceExpression:"~/"+f.id+"/outputs/noise_sampler/@value",targetExpression:"~/"+m.id+"/inputs/input_sampler/@value"}),new u.NodeGraphLink({sourceExpression:"~/"+m.id+"/outputs/rgba_channel_sampler/@value",targetExpression:"~/"+g.id+"/inputs/input_sampler/@value"}),new u.NodeGraphLink({sourceExpression:"~/"+g.id+"/outputs/transformed_sampler/@value",targetExpression:"~/"+v.id+"/inputs/input_sampler/@value"})],nodes:[f,m,g,v]})}i.render(r.createElement(h.NodeGraphRenderer,{nodeGraph:p}),document.getElementById("root"))},function(e,t,n){var r=n(99);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(29)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(28)(!1)).push([e.i,"body {\n  margin: 0;\n  padding: 0;\n  font-family: Verdana, Geneva, Tahoma, sans-serif !important; }\n\n#root {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden; }\n\n/* material UI stuff */\n.ms-ComboBox-container {\n  background-color: #121212 !important;\n  border: 1px solid #000 !important;\n  border-radius: 1mm !important;\n  -moz-border-radius: 1mm !important;\n  -webkit-border-radius: 1mm !important;\n  overflow: hidden; }\n  .ms-ComboBox-container > .ms-ComboBox {\n    background-color: #121212 !important; }\n\n.ms-TextField {\n  background-color: #121212 !important;\n  border: 1px solid #000 !important;\n  border-radius: 1mm !important;\n  -moz-border-radius: 1mm !important;\n  -webkit-border-radius: 1mm !important;\n  overflow: hidden; }\n  .ms-TextField.is-disabled {\n    opacity: 0.25; }\n\n.ms-Callout {\n  border: 1px solid #000 !important; }\n\n.ms-ComboBox-optionsContainerWrapper,\n.ms-Slider-container,\n.ms-ContextualMenu-container,\n.ms-Toggle-background,\n.ms-Button,\n.ms-ComboBox-Input,\n.ms-TextField-field,\n.ms-Checkbox-text {\n  color: #ccc !important; }\n\n.ms-ComboBox-optionsContainerWrapper,\n.ms-Slider-container,\n.ms-ContextualMenu-container,\n.ms-Toggle-background,\n.ms-Button,\n.ms-ComboBox-Input,\n.ms-TextField-field {\n  background-color: #121212 !important; }\n\ntable.inspectorTable {\n  padding: 0;\n  background-color: #333; }\n  table.inspectorTable > tbody,\n  table.inspectorTable > thead {\n    padding: 0;\n    background-color: #333; }\n    table.inspectorTable > tbody > tr,\n    table.inspectorTable > thead > tr {\n      padding: 0;\n      background-color: #333;\n      height: 32px;\n      min-height: initial; }\n      table.inspectorTable > tbody > tr > td,\n      table.inspectorTable > tbody > tr > th,\n      table.inspectorTable > thead > tr > td,\n      table.inspectorTable > thead > tr > th {\n        height: 32px;\n        margin: 0;\n        color: #ccc;\n        padding: 0;\n        background-color: #333;\n        font-size: 12px;\n        border-bottom: 1px solid rgba(0, 0, 0, 0.22); }\n        table.inspectorTable > tbody > tr > td.keyColumn,\n        table.inspectorTable > tbody > tr > th.keyColumn,\n        table.inspectorTable > thead > tr > td.keyColumn,\n        table.inspectorTable > thead > tr > th.keyColumn {\n          background-color: #222;\n          color: #fff;\n          text-align: center;\n          border-right: 1px solid #444 !important;\n          border-bottom: 0 !important; }\n      table.inspectorTable > tbody > tr > th,\n      table.inspectorTable > thead > tr > th {\n        color: #fff;\n        font-weight: bold; }\n\n.ms-Label,\nlabel {\n  color: #ccc !important;\n  padding-left: 3mm !important;\n  font-weight: bold !important;\n  font-size: 12px !important; }\n\n[class*='MuiTypography-'] {\n  color: #ccc;\n  padding-left: 3mm;\n  font-weight: bold;\n  font-size: 12px; }\n\n.ms-Button-icon {\n  color: #ccc;\n  fill: #ccc; }\n\n[class*='MuiPaper-'] {\n  margin: 0; }\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){var r=n(104);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(29)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(28)(!1)).push([e.i,".nodeGraph {\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  /*\r\n    background:\r\n    linear-gradient(27deg, #151515 2.5px, transparent 2.5px) 0 2.5px,\r\n    linear-gradient(207deg, #151515 2.5px, transparent 2.5px) 5px 0px,\r\n    linear-gradient(27deg, #222 2.5px, transparent 2.5px) 0px 5px,\r\n    linear-gradient(207deg, #222 2.5px, transparent 2.5px) 5px 2.5px,\r\n    linear-gradient(90deg, #1b1b1b 5px, transparent 5px),\r\n    linear-gradient(#1d1d1d 25%, #1a1a1a 25%, #1a1a1a 50%, transparent 50%, transparent 75%, #242424 75%, #242424);\r\n    */\n  background-color: #070807;\n  background-size: 10px 10px; }\n  .nodeGraph .nodeGraphGroup {\n    position: absolute;\n    background-color: rgba(255, 0, 255, 0.25); }\n  .nodeGraph .linksDisplay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 0;\n    width: 100%;\n    height: 100%; }\n    .nodeGraph .linksDisplay .nodeGraphLink {\n      stroke: orange;\n      stroke-width: 5px;\n      fill: none; }\n      .nodeGraph .linksDisplay .nodeGraphLink.dashed {\n        stroke: grey;\n        stroke-dasharray: 5;\n        stroke-width: 5px;\n        fill: none; }\n      .nodeGraph .linksDisplay .nodeGraphLink:not(.dashed):hover {\n        cursor: pointer;\n        stroke: white; }\n  .nodeGraph > .node {\n    position: relative;\n    display: inline-block;\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box; }\n    .nodeGraph > .node.dragging {\n      border: 1mm dashed grey;\n      border-radius: 2mm;\n      -webkit-border-radius: 2mm;\n      -moz-border-radius: 2mm; }\n      .nodeGraph > .node.dragging > * {\n        opacity: 0.25; }\n    .nodeGraph > .node > .nodeChannelOverlay {\n      position: absolute;\n      box-sizing: border-box;\n      -moz-box-sizing: border-box;\n      -webkit-box-sizing: border-box;\n      top: 25px;\n      left: 0;\n      right: 0;\n      bottom: 0; }\n      .nodeGraph > .node > .nodeChannelOverlay > .nodeAttributes {\n        position: absolute;\n        list-style: none;\n        padding: 0;\n        margin: 0;\n        z-index: 10; }\n        .nodeGraph > .node > .nodeChannelOverlay > .nodeAttributes.outbound {\n          right: -1.5mm; }\n        .nodeGraph > .node > .nodeChannelOverlay > .nodeAttributes.inbound {\n          left: -1.5mm; }\n        .nodeGraph > .node > .nodeChannelOverlay > .nodeAttributes.inbound > li > div, .nodeGraph > .node > .nodeChannelOverlay > .nodeAttributes.outbound > li > div {\n          display: block;\n          background-color: black;\n          border-radius: 2mm;\n          width: 2mm;\n          height: 2mm;\n          border: 1mm solid orange;\n          text-align: right; }\n        .nodeGraph > .node > .nodeChannelOverlay > .nodeAttributes.inbound > li, .nodeGraph > .node > .nodeChannelOverlay > .nodeAttributes.outbound > li {\n          display: block;\n          height: 5mm; }\n          .nodeGraph > .node > .nodeChannelOverlay > .nodeAttributes.inbound > li > div, .nodeGraph > .node > .nodeChannelOverlay > .nodeAttributes.outbound > li > div {\n            position: relative; }\n            .nodeGraph > .node > .nodeChannelOverlay > .nodeAttributes.inbound > li > div:hover, .nodeGraph > .node > .nodeChannelOverlay > .nodeAttributes.inbound > li > div.selected, .nodeGraph > .node > .nodeChannelOverlay > .nodeAttributes.outbound > li > div:hover, .nodeGraph > .node > .nodeChannelOverlay > .nodeAttributes.outbound > li > div.selected {\n              background-color: #000;\n              border-color: #fff;\n              cursor: pointer; }\n          .nodeGraph > .node > .nodeChannelOverlay > .nodeAttributes.inbound > li:not(:hover) > div:not(.selected):not(.forceLabel) > span, .nodeGraph > .node > .nodeChannelOverlay > .nodeAttributes.outbound > li:not(:hover) > div:not(.selected):not(.forceLabel) > span {\n            display: none; }\n          .nodeGraph > .node > .nodeChannelOverlay > .nodeAttributes.inbound > li > div > span, .nodeGraph > .node > .nodeChannelOverlay > .nodeAttributes.outbound > li > div > span {\n            position: absolute;\n            top: -2mm;\n            left: 5mm;\n            display: inline-block;\n            background-color: rgba(0, 0, 0, 0.75);\n            color: #fff;\n            font-weight: bold;\n            font-size: 10px;\n            padding: 1mm; }\n    .nodeGraph > .node > .primitiveNode {\n      border: 2px solid #000;\n      border-radius: 2mm;\n      -webkit-border-radius: 2mm;\n      -moz-border-radius: 2mm;\n      overflow: hidden;\n      background-color: grey;\n      z-index: 1;\n      cursor: pointer; }\n      .nodeGraph > .node > .primitiveNode > span.name {\n        background-color: maroon;\n        color: #fff;\n        text-align: center;\n        font-size: 10px;\n        font-weight: bold;\n        display: block;\n        padding: 1mm;\n        cursor: move;\n        box-sizing: border-box;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        -webkit-touch-callout: none;\n        /* iOS Safari */\n        -webkit-user-select: none;\n        /* Safari */\n        -khtml-user-select: none;\n        /* Konqueror HTML */\n        -moz-user-select: none;\n        /* Firefox */\n        -ms-user-select: none;\n        /* Internet Explorer/Edge */\n        user-select: none;\n        /* Non-prefixed version */ }\n      .nodeGraph > .node > .primitiveNode > .previewTexture {\n        z-index: 0;\n        max-width: 96px;\n        max-height: 96px;\n        box-sizing: border-box; }\n        .nodeGraph > .node > .primitiveNode > .previewTexture > canvas {\n          width: 100%;\n          height: 100%; }\n        .nodeGraph > .node > .primitiveNode > .previewTexture > .textureDetails {\n          user-select: none;\n          -moz-user-select: none;\n          -webkit-user-select: none;\n          display: block;\n          color: #fff;\n          font-size: 10px;\n          text-align: center; }\n",""])},function(e,t,n){"use strict";function r(e,t,n){return e.replace(new RegExp(t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"g"),n)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringReplaceAll=r,String.prototype.replaceAll=function(e,t){return r(this,e,t)}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){var r=n(108);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(29)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(28)(!1)).push([e.i,".inspector {\n  position: absolute;\n  right: 5mm;\n  bottom: 5mm;\n  color: #fff;\n  padding: 2mm;\n  z-index: 100; }\n\n.inspectorTable {\n  width: 100%;\n  border-spacing: initial; }\n\n.numberField.dragging input {\n  border: 1px solid #4571b4 !important; }\n\n.numberField > input {\n  -webkit-touch-callout: none !important;\n  /* iOS Safari */\n  -webkit-user-select: none !important;\n  /* Safari */\n  -khtml-user-select: none !important;\n  /* Konqueror HTML */\n  -moz-user-select: none !important;\n  /* Firefox */\n  -ms-user-select: none !important;\n  /* Internet Explorer/Edge */\n  user-select: none !important;\n  /* Non-prefixed version */ }\n\n.propertyTable {\n  width: 100%;\n  border-spacing: initial; }\n  .propertyTable .ms-ComboBox-container {\n    border: 0 !important; }\n    .propertyTable .ms-ComboBox-container .ms-ComboBox {\n      border: 0 !important; }\n  .propertyTable .ms-TextField {\n    border: 0 !important; }\n    .propertyTable .ms-TextField .ms-TextField-wrapper {\n      border: 0 !important; }\n      .propertyTable .ms-TextField .ms-TextField-wrapper .ms-TextField-fieldGroup {\n        border: 0 !important; }\n  .propertyTable .keyColumn {\n    border-right: 1px solid #333 !important;\n    background-color: #1c1c1c !important;\n    text-align: right !important;\n    padding-right: 2mm !important; }\n\n.expansionPanel > .title {\n  padding: 3mm;\n  background-color: #070707;\n  border-top: 1px solid #222;\n  border-bottom: 1px solid #222;\n  color: #fff;\n  font-weight: bold;\n  font-size: 12px; }\n",""])},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t){var n=e.call(this,t)||this;return n.state={expanded:!1},n}return i(t,e),t.prototype.render=function(){return o.createElement("div",{className:"expansionPanel"},o.createElement("div",{className:"title"},this.props.title),o.createElement("div",null,this.props.children))},t}(o.Component);t.ExpansionPanel=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(87),l=function(e){function t(t){var n=e.call(this,t)||this;return n._mouseMoveBinding=function(e){return n.mouseMoveHandler(e)},n._mouseUpBinding=function(e){return n.mouseUpHandler(e)},n.state={isMouseDown:!1,isDragging:!1,startCoord:0,value:n.props.value||"0"},n}return i(t,e),t.prototype.mouseDownHandler=function(e){this.state.isDragging||this.setState(o({},this.state,{isMouseDown:!0}))},t.prototype.mouseMoveHandler=function(e){if(this.state.isMouseDown){this.state.isDragging||this.setState(o({},this.state,{isDragging:!0,startCoord:e.screenX}));var t=e.screenX-this.state.startCoord,n=parseInt(this.props.value)+t;return this.setState(o({},this.state,{value:String(n)})),event.stopPropagation(),event.stopImmediatePropagation(),event.preventDefault(),!1}return!0},t.prototype.mouseUpHandler=function(e){if(this.state.isMouseDown){var t=o({},this.state,{isMouseDown:!1});if(this.state.isDragging){t=o({},t,{isDragging:!1});var n=e.screenX-this.state.startCoord,r=parseInt(this.props.value)+n;this.onValueChanged(null,String(r))}return this.setState(t),event.stopPropagation(),event.stopImmediatePropagation(),event.preventDefault(),!1}return!0},t.prototype.componentDidMount=function(){window.addEventListener("mousemove",this._mouseMoveBinding),window.addEventListener("mouseup",this._mouseUpBinding)},t.prototype.componentWillUnmount=function(){window.removeEventListener("mousemove",this._mouseMoveBinding),window.removeEventListener("mouseup",this._mouseUpBinding)},t.prototype.componentDidUpdate=function(){this.state.isDragging||this.props.value!=this.state.value&&this.setState(o({},this.state,{value:this.props.value||"0"}))},t.prototype.onValueChanged=function(e,t){this.props.onChange(e,t),this.setState(o({},this.state,{value:t}))},t.prototype.render=function(){var e=this;return a.createElement(s.TextField,o({},this.props,{componentRef:function(t){return e.textFieldReference=t},value:this.state.value,onChange:function(t,n){e.onValueChanged(t.nativeEvent,n)},className:"numberField "+(this.state.isDragging?"dragging":""),onMouseDown:function(t){return e.mouseDownHandler(t)}}))},t}(a.Component);t.NumberField=l},function(e,t,n){"use strict";n.r(t);var r=function(){function e(t){this._value=NaN,this._seed="string"==typeof t?this.hashCode(t):"number"==typeof t?this.getSafeSeed(t):this.getSafeSeed(e.MIN+Math.floor((e.MAX-e.MIN)*Math.random())),this.reset()}return e.prototype.next=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=1),this.recalculate(),this.map(this._value,e.MIN,e.MAX,t,n)},e.prototype.nextInt=function(t,n){return void 0===t&&(t=10),void 0===n&&(n=100),this.recalculate(),Math.floor(this.map(this._value,e.MIN,e.MAX,t,n+1))},e.prototype.nextString=function(e,t){void 0===e&&(e=16),void 0===t&&(t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789");for(var n="";n.length<e;)n+=this.nextChar(t);return n},e.prototype.nextChar=function(e){return void 0===e&&(e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"),this.recalculate(),e.substr(this.nextInt(0,e.length-1),1)},e.prototype.nextArrayItem=function(e){return this.recalculate(),e[this.nextInt(0,e.length-1)]},e.prototype.nextBoolean=function(){return this.recalculate(),this._value>.5},e.prototype.skip=function(e){for(void 0===e&&(e=1);e-- >0;)this.recalculate()},e.prototype.reset=function(){this._value=this._seed},e.prototype.recalculate=function(){this._value=this.xorshift(this._value)},e.prototype.xorshift=function(e){return e^=e<<13,e^=e>>17,e^=e<<5},e.prototype.map=function(e,t,n,r,i){return(e-t)/(n-t)*(i-r)+r},e.prototype.hashCode=function(e){var t=0;if(e)for(var n=e.length,r=0;r<n;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0,t=this.xorshift(t);return this.getSafeSeed(t)},e.prototype.getSafeSeed=function(e){return 0===e?1:e},e.MIN=-2147483648,e.MAX=2147483647,e}();t.default=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(62),l=n(21),c=n(65),u=n(113),h=n(116),d=n(43),p=n(119),f=n(128),m=n(44),g=n(130),v=n(91),y=n(86),b=n(45),x=n(132),_=n(129),w=n(120),M=n(84),S=n(36),C=n(66),E=n(72),T=n(74),L=n(66),P=n(85),k=function(e){function t(t){var n=e.call(this,t)||this;return n._documentOnMouseMove=function(e){return n.onDragChannel(e,e.clientX,e.clientY)},n._documentOnMouseUp=function(e){return n.cancelDragChannel(e)},n.state={selectedAsset:null,opacity:128,isDraggingLink:!1,standardPreviewProps:{color:void 0,displacement:void 0},draggingSourceChannelNamespace:null,draggingCoordinate:{x:0,y:0},contextMenuMeta:null,contextMenuHidden:!0,contextMenuTarget:null,hoveringEntity:null},n.nodeAssetReferences={},n}return i(t,e),t.prototype.registerNodeReference=function(e,t){this.nodeAssetReferences[e]=t},t.prototype.unregisterNodeReference=function(e){delete this.nodeAssetReferences[e]},t.prototype.renderNodeGraphGroups=function(){var e=this;return s.from(this.props.nodeGraph.groups).select(function(t){return t.interface(e)}).toArray()},t.prototype.renderNodeGraphNodes=function(){var e=this;return s.from(this.props.nodeGraph.nodes).select(function(t){return t.interface(e)}).toArray()},t.prototype.onAssetClicked=function(e){this.setState(o({},this.state,{selectedAsset:e}))},t.prototype.renderNodeGraphLinks=function(){var e=this;return s.from(this.props.nodeGraph.links).select(function(t){return t.interface(e)}).where(function(e){return null!=e}).toArray()},t.prototype.onEntityHover=function(e,t,n){n&&this.setState(o({},this.state,{hoveringEntity:e+":"+t})),n||null==this.state.hoveringEntity||this.setState(o({},this.state,{hoveringEntity:null}))},t.prototype.componentDidMount=function(){document.addEventListener("mousemove",this._documentOnMouseMove),document.addEventListener("mouseup",this._documentOnMouseUp),this.updateStandardPreview()},t.prototype.updateStandardPreview=function(){var e=this,t=s.from(this.props.nodeGraph.nodes).where(function(e){return e instanceof M.OutboundNode}).firstOrDefault();if(null!=t){var n,r,i=t.getInboundLinkPaths(),a=s.from(i).toDictionary(function(t){return e.props.nodeGraph.getAssetByNamespace(t).object.name},function(t){return d.NodeGraphExpression.evaluate(e.props.nodeGraph,t)});n=a.get("color"),r=a.get("displacement"),this.setState(o({},this.state,{standardPreviewProps:{color:n,displacement:r}}))}},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousemove",this._documentOnMouseMove),document.removeEventListener("mouseup",this._documentOnMouseUp)},t.prototype.cancelDragChannel=function(e){return!this.state.isDraggingLink||(this.setState(o({},this.state,{isDraggingLink:!1})),e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),!1)},t.prototype.onDragChannel=function(e,t,n){if(this.state.isDraggingLink){var r=document.getElementById(this.props.nodeGraph.id+"_LinksDisplay");if(null!=r){var i=r.getBoundingClientRect();this.setState(o({},this.state,{draggingCoordinate:{x:t-i.left,y:n-i.top}}))}return e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),!1}return!0},t.prototype.onChannelDown=function(e,t,n){if(!this.state.isDraggingLink){var r=document.getElementById(this.props.nodeGraph.id+"_LinksDisplay");if(null!=r){var i=r.getBoundingClientRect();this.setState(o({},this.state,{isDraggingLink:!0,draggingSourceChannelNamespace:e,draggingCoordinate:{x:t-i.left,y:n-i.top}}))}}},t.prototype.onChannelUp=function(e,t,n){if(this.state.isDraggingLink){var r=document.getElementById(this.props.nodeGraph.id+"_LinksDisplay");if(null!=r){var i=r.getBoundingClientRect();this.setState(o({},this.state,{isDraggingLink:!1,draggingCoordinate:{x:t-i.left,y:n-i.top}}));var a=this.state.draggingSourceChannelNamespace+"/@value",s=e+"/@value",u=this.props.nodeGraph.getAssetByNamespace(this.state.draggingSourceChannelNamespace),h=this.props.nodeGraph.getAssetByNamespace(e);if(h instanceof l.NodeGraphChannel&&u instanceof l.NodeGraphChannel&&s!=a&&h.direction!=u.direction){var d=null,p=null;h.direction==l.NodeGraphChannelDirection.Outbound?(d=s,p=a):(d=a,p=s),this.props.nodeGraph.removeLinkTo(p),this.props.nodeGraph.addLinks([new c.NodeGraphLink({sourceExpression:d,targetExpression:p})]),this.saveNodeGraph()}}}},t.prototype.saveNodeGraph=function(e){void 0===e&&(e=null),e=e||"savedNodeGraph";var t=E.NodeGraph.serialize(this.props.nodeGraph);null!=t&&localStorage.setItem(e,btoa(JSON.stringify(t))),this.updateStandardPreview()},t.prototype.onAssetChanged=function(e,t){this.nodeAssetReferences[e].updateState(t),this.setState(o({},this.state)),this.saveNodeGraph()},t.prototype.clearSelection=function(){this.setState(o({},this.state,{selectedAsset:null}))},t.prototype.renderAssetInspector=function(){var e=this;if(null!=this.state.selectedAsset){console.debug("begin renderAssetInspector");var t=this.props.nodeGraph.getAssetByNamespace(this.state.selectedAsset),n=null,r=[],i=[];if(t instanceof S.PrimitiveNode){for(var o in t.outputs){var s=t.outputs[o];for(var l in s.attributes){var c=s.attributes[l];"sampler2d"===c.type&&(i.push(o+"_"+c.name),r.push(c.expression))}}console.debug("asset:",t),console.debug("previewAssets:",r),console.debug("previewOptions:",i),console.debug("this.state.selectedAsset:",this.state.selectedAsset),console.debug("asset.nodeType:",t.nodeType),console.debug("NodeGraphAssembly:",E.NodeGraphAssembly),n=a.createElement(T.ObjectInspectorRenderer,{instance:t,onChange:function(){return e.onAssetChanged(e.state.selectedAsset,t)},type:t.nodeType,assembly:E.NodeGraphAssembly})}else n=a.createElement("span",null,t.name);var g=a.createElement(p.DockingWindow,{title:"Inspector",onClose:function(){return e.clearSelection()}},n);return console.debug("end renderAssetInspector"),0==r.length?g:a.createElement(u.DockingContainer,{primarySize:25,axis:u.DockingContainerAxis.Vertical,primary:a.createElement(p.DockingWindow,{title:"Channel Preview",controls:function(t){return a.createElement(_.OverflowSet,{onRenderItem:function(e){return e.onRender(e)},onRenderOverflowButton:function(e){return a.createElement(m.DefaultButton,{menuIconProps:{iconName:"More"},menuProps:{items:e}})},items:[],overflowItems:[{key:"Opacity",onRender:function(n){return a.createElement(x.Slider,{min:0,value:e.channelPreviewImageViewer.state.opacity,max:255,onChanged:function(n,r){e.channelPreviewImageViewer.setOpacity(r),t.updateControls()}})}},{key:"Channel Sampler",onRender:function(e){return a.createElement(f.TooltipHost,{content:i[0],id:"myID",calloutProps:{gapSpace:0}},a.createElement(y.ComboBox,{defaultSelectedKey:i[0],allowFreeform:!0,"aria-describedby":"myID",autoComplete:"on",onChange:function(e,t){return console.log("changed:",t)},options:i.map(function(e){return{key:e,text:e}})}))}}]})},onClose:function(){return e.clearSelection()}},a.createElement(h.ImageViewport,{ref:function(t){return e.channelPreviewImageViewer=t},image:d.NodeGraphExpression.evaluate(this.props.nodeGraph,r[0])})),secondary:g})}return null},t.prototype.createNodeManagerItems=function(){for(var e=[],t=0;t<this.props.nodeGraph.nodes.length;++t){var n=this.props.nodeGraph.nodes[t];C.NodeLibraryMetadata.hasOwnProperty(n.nodeType)&&e.push({name:n.name,url:"#",icon:C.NodeLibraryMetadata[n.nodeType].icon,key:"Explorer_"+n.id})}return[{links:e}]},t.prototype.renderNodeManager=function(){for(var e,t,n=this,r=[],i=0;i<this.props.nodeGraph.nodes.length;++i)e=i,t=void 0,t=n.props.nodeGraph.nodes[e],r.push({id:t.id,name:t.name});return a.createElement(b.FocusZone,null,a.createElement(g.Nav,{groups:this.createNodeManagerItems()}))},t.prototype.closeContextMenu=function(){this.state.contextMenuHidden||this.setState({contextMenuHidden:!0})},t.prototype.removeLink=function(e){this.props.nodeGraph.removeLink(e),this.saveNodeGraph()},t.prototype.removeNode=function(e){this.props.nodeGraph.removeNode(e),this.saveNodeGraph()},t.prototype.withUniqueName=function(e,t){for(var n=e,r=0;t.indexOf(e)>=0&&r++<1024;)e=""+n+r;return e},t.prototype.getDraggingCoordinate=function(){return this.state.draggingCoordinate},t.prototype.renderNodeGraph=function(){var e=this,t=[];if(null!=this.state.contextMenuMeta){var n=this.state.contextMenuMeta.split(":"),r=n[0],i=n[1];switch(r){case"link":var l=i.split(";")[0];t=[{key:"Remove Link",text:"Remove Link",onClick:function(){e.removeLink(l),e.closeContextMenu()}}];break;case"node":l=i.split(";")[0];t=[{key:"Remove Node",text:"Remove Node",onClick:function(){e.removeNode(l),e.closeContextMenu()}}];break;case"none":for(var u in t=[],L)!function(n){null!=C.NodeLibraryMetadata[n]&&t.push({key:n,iconProps:{iconName:C.NodeLibraryMetadata[n].icon},text:""+n,onClick:function(){var t=s.from(e.props.nodeGraph.nodes).select(function(e){return e.name}).toArray(),r={name:e.withUniqueName(n.toLowerCase().replace("node",""),t),coordinate:e.getDraggingCoordinate()};e.props.nodeGraph.addNodes([new L[n](r)]),e.saveNodeGraph(),e.closeContextMenu()}})}(u)}}return a.createElement("div",{className:"nodeGraph",onClick:function(t){return!!e.state.contextMenuHidden||(e.setState(o({},e.state,{contextMenuHidden:!0,contextMenuMeta:null,contextMenuTarget:t.nativeEvent})),t.preventDefault(),t.stopPropagation(),!1)},onContextMenu:function(t){if(2==t.button&&!t.ctrlKey&&e.state.contextMenuHidden){var n=document.getElementById(e.props.nodeGraph.id+"_LinksDisplay");if(null!=n){var r=n.getBoundingClientRect();e.setState(o({},e.state,{draggingCoordinate:{x:t.clientX-r.left,y:t.clientY-r.top},contextMenuHidden:!1,contextMenuMeta:e.state.hoveringEntity||"none",contextMenuTarget:t.nativeEvent}))}return t.preventDefault(),t.stopPropagation(),!1}return 2!=t.button||!t.ctrlKey}},a.createElement("svg",{id:this.props.nodeGraph.id+"_LinksDisplay",className:"linksDisplay"},this.renderNodeGraphLinks(),this.state.isDraggingLink?a.createElement(c.NodeGraphLinkRenderer,{key:"draggingLinkNode",nodeGraph:this.props.nodeGraph,id:"draggingLinkNode",sourceChannel:this.state.draggingSourceChannelNamespace,targetCoordinate:this.state.draggingCoordinate}):null),this.renderNodeGraphGroups(),this.renderNodeGraphNodes(),a.createElement(v.ContextualMenu,{hidden:this.state.contextMenuHidden,target:this.state.contextMenuTarget,items:[{key:"placeSection",itemType:v.ContextualMenuItemType.Section,sectionProps:{topDivider:!1,bottomDivider:!1,title:"Place",items:t}},{key:"utilitySection",itemType:v.ContextualMenuItemType.Section,sectionProps:{topDivider:!1,bottomDivider:!1,title:"Utility",items:[{key:"createGroup",text:"Group",onClick:function(){e.createGroup([{name:"",coordinate:e.getDraggingCoordinate()}]),e.closeContextMenu()},iconProps:{iconName:"FabricFolder"}}]}}]}))},t.prototype.createGroup=function(e){for(var t=0;t<e.length;++t){var n=e[t];this.props.nodeGraph.groups.push(new P.NodeGraphGroup(n))}},t.prototype.render=function(){return null==this.props.nodeGraph.nodes||0===this.props.nodeGraph.nodes.length?null:a.createElement(u.DockingContainer,{axis:u.DockingContainerAxis.Vertical,primarySize:20,primary:a.createElement(u.DockingContainer,{secondarySize:40,axis:u.DockingContainerAxis.Horizontal,primary:a.createElement(p.DockingWindow,{title:"Explorer"},this.renderNodeManager()),secondary:a.createElement(p.DockingWindow,{title:"Standard Preview"},a.createElement(w.StandardPreview,o({},this.state.standardPreviewProps)))}),secondary:null==this.state.selectedAsset?this.renderNodeGraph():a.createElement(u.DockingContainer,{axis:u.DockingContainerAxis.Horizontal,secondarySize:40,primary:this.renderNodeGraph(),secondary:this.renderAssetInspector()})})},t}(a.Component);t.NodeGraphRenderer=k},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(0);n(114),function(e){e[e.Horizontal=0]="Horizontal",e[e.Vertical=2]="Vertical"}(o=t.DockingContainerAxis||(t.DockingContainerAxis={}));var s=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t.prototype.render=function(){var e=null,t=null;switch(this.props.axis){case o.Horizontal:null!=this.props.primarySize?(e={bottom:100-this.props.primarySize+"%"},t={top:this.props.primarySize+"%"}):null!=this.props.secondarySize&&(e={bottom:this.props.secondarySize+"%"},t={top:100-this.props.secondarySize+"%"});break;case o.Vertical:null!=this.props.primarySize?(e={right:100-this.props.primarySize+"%"},t={left:this.props.primarySize+"%"}):null!=this.props.secondarySize&&(e={right:this.props.secondarySize+"%"},t={left:100-this.props.secondarySize+"%"})}return a.createElement("div",{className:"dockingContainer"},a.createElement("div",{className:"primary",style:e},this.props.primary),a.createElement("div",{className:"secondary",style:t},this.props.secondary))},t}(a.Component);t.DockingContainer=s},function(e,t,n){var r=n(115);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(29)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(28)(!1)).push([e.i,".dockingContainer {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0; }\n  .dockingContainer .primary,\n  .dockingContainer .secondary {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    overflow: auto; }\n    .dockingContainer .primary > .dockingWindow,\n    .dockingContainer .secondary > .dockingWindow {\n      position: absolute;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      top: 0;\n      overflow: hidden; }\n      .dockingContainer .primary > .dockingWindow > .dockingMenu,\n      .dockingContainer .secondary > .dockingWindow > .dockingMenu {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 32px;\n        background: #444;\n        border-bottom: inset 1mm #222;\n        box-sizing: border-box; }\n        .dockingContainer .primary > .dockingWindow > .dockingMenu span.windowTitle,\n        .dockingContainer .secondary > .dockingWindow > .dockingMenu span.windowTitle {\n          cursor: pointer;\n          display: inline-block;\n          background: #222;\n          color: #fff;\n          font-size: 12px;\n          height: 32px;\n          padding-left: 3mm;\n          padding-right: 3mm;\n          line-height: 32px;\n          vertical-align: middle;\n          border-top-left-radius: 1mm;\n          border-top-right-radius: 1mm;\n          -moz-border-top-left-radius: 1mm;\n          -moz-border-top-right-radius: 1mm;\n          -webkit-border-top-left-radius: 1mm;\n          -webkit-border-top-right-radius: 1mm; }\n      .dockingContainer .primary > .dockingWindow > .windowViewport,\n      .dockingContainer .secondary > .dockingWindow > .windowViewport {\n        position: absolute;\n        top: 32px;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        overflow: auto;\n        background-color: #121212; }\n",""])},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);n(117);var a=function(e){function t(t){var n=e.call(this,t)||this;return n.renderCanvas=null,n.state={opacity:n.props.opacity||128},n}return i(t,e),t.prototype.renderViewer=function(){if(null!=this.props.image){var e=this.renderCanvas.getContext("2d");e.fillStyle="transparent",e.rect(0,0,this.renderCanvas.width,this.renderCanvas.height),e.fill(),this.props.image instanceof HTMLCanvasElement?(this.renderCanvas.width=this.props.image.width,this.renderCanvas.height=this.props.image.height,e.fillStyle="rgba(255, 255, 255, "+this.state.opacity/255+")",e.rect(0,0,this.renderCanvas.width,this.renderCanvas.height),e.fill(),e.drawImage(this.props.image,0,0)):this.props.image instanceof HTMLImageElement?(this.renderCanvas.width=this.props.image.width,this.renderCanvas.height=this.props.image.height,e.fillStyle="rgba(255, 255, 255, "+this.state.opacity/255+")",e.rect(0,0,this.renderCanvas.width,this.renderCanvas.height),e.fill(),e.drawImage(this.props.image,0,0)):this.props.image instanceof String&&console.log("is string:",this.props.image)}},t.prototype.setOpacity=function(e){this.setState({opacity:e}),this.renderViewer()},t.prototype.setupCanvas=function(e){this.renderCanvas=e,null!=this.renderCanvas&&this.renderViewer()},t.prototype.render=function(){var e=this;return o.createElement("div",{className:"imageViewport"},o.createElement("canvas",{ref:function(t){return e.setupCanvas(t)}}))},t}(o.Component);t.ImageViewport=a},function(e,t,n){var r=n(118);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(29)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(28)(!1)).push([e.i,".imageViewport {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  background-color: #fff;\n  background-image: linear-gradient(45deg, #000 25%, transparent 25%, transparent 75%, #000 75%, #000), linear-gradient(45deg, #000 25%, transparent 25%, transparent 75%, #000 75%, #000);\n  background-size: 32px 32px;\n  background-position: 0 0, 16px 16px; }\n  .imageViewport > canvas {\n    position: absolute;\n    left: 50%;\n    margin-left: -25%;\n    top: 50%;\n    margin-top: -25%;\n    box-shadow: 0px 0px 5mm rgba(0, 0, 0, 0.75);\n    border: 0.5mm solid rgba(255, 255, 255, 0.75);\n    box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box; }\n",""])},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isDeferredRender:!0},n}return i(t,e),t.prototype.componentDidMount=function(){var e=this;null!=this.props.controls&&setTimeout(function(){e.setState({isDeferredRender:!1})},10)},t.prototype.updateControls=function(){this.setState({isDeferredRender:!1})},t.prototype.render=function(){return o.createElement("div",{className:"dockingWindow"},o.createElement("div",{className:"dockingMenu"},o.createElement("span",{className:"windowTitle"},this.props.title),this.state.isDeferredRender?null:o.createElement("div",{style:{display:"inline-block"}},this.props.controls(this))),o.createElement("div",{className:"windowViewport"},this.props.children))},t}(o.Component);t.DockingWindow=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);n(121);var a=n(30);n(123),n(124),n(125),n(126);var s=function(e){function t(t){var n=e.call(this,t)||this;return n.renderCanvas=null,n.state={},n}return i(t,e),t.prototype.setupCanvas=function(e){this.renderCanvas=e},t.prototype.componentDidMount=function(){this.initializeStandardPreview()},t.prototype.componentWillUnmount=function(){this.disposeStandardPreview()},t.prototype.initializeStandardPreview=function(){var e=this;if(null!=this.renderCanvas){this.renderer=new a.WebGLRenderer({canvas:this.renderCanvas,alpha:!0});var t=this.renderCanvas.getBoundingClientRect();this.renderer.autoClear=!1,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(t.width,t.height),this.renderer.setClearColor(16777215,0),this.scene=new a.Scene,this.camera=new a.PerspectiveCamera(45,t.width/t.height,1,1e4),this.camera.position.set(0,0,3);var n=new a.DirectionalLight(16777215);n.position.set(1,1,1),this.scene.add(n),this.opacityMaterial=new a.MeshStandardMaterial,this.opacityMaterial.displacementScale=.25,this.opacityMaterial.needsUpdate=!0;var r=new a.SphereBufferGeometry(.5,256,256);this.material=new a.MeshStandardMaterial,this.material.displacementScale=.25,this.material.needsUpdate=!0,this.mesh=new a.Mesh(r,this.material),this.scene.add(this.mesh),this.animate(),setInterval(function(){e.animate()},1e3/60)}},t.prototype.createBoxSphereProjection=function(e,t,n,r,i,o){for(var s=new a.BoxGeometry(e,t,n,r,i,o),l=0;l<s.vertices.length;l++)s.vertices[l].normalize().multiplyScalar(.5);var c=new a.Vector2(1/3,.5),u=[new a.Vector2(0,0),new a.Vector2(0,.5),new a.Vector2(1/3,0),new a.Vector2(1/3,.5),new a.Vector2(2/3,0),new a.Vector2(2/3,.5)];for(l=0;l<s.faces.length;l++){var h=s.faces[l];h.vertexNormals[0].copy(s.vertices[h.a]).normalize(),h.vertexNormals[1].copy(s.vertices[h.b]).normalize(),h.vertexNormals[2].copy(s.vertices[h.c]).normalize();for(var d=s.faceVertexUvs[0],p=0;p<3;p++)d[l][p].multiply(c).add(u[h.materialIndex])}return s},t.prototype.animate=function(){if(null!=this.renderer){this.mesh.rotateY(.01),this.renderer.clear(!0,!0,!0);var e=this.scene.overrideMaterial;this.scene.overrideMaterial=this.opacityMaterial,this.renderer.render(this.scene,this.camera,null,!1),this.scene.overrideMaterial=e,this.renderer.render(this.scene,this.camera,null,!1)}},t.prototype.disposeStandardPreview=function(){null!=this.renderer&&(this.renderer.dispose(),delete this.camera,delete this.material,delete this.scene,delete this.renderer)},t.prototype.render=function(){var e=this;if(null!=this.material){if(null!=this.props.color){var t=new a.Texture(this.props.color);t.needsUpdate=!0,this.material.map=t,this.material.needsUpdate=!0}if(null!=this.props.displacement){var n=new a.Texture(this.props.displacement);n.needsUpdate=!0,this.material.displacementMap=n,this.material.needsUpdate=!0,this.opacityMaterial.displacementMap=n,this.opacityMaterial.needsUpdate=!0}}return o.createElement("div",{className:"standardPreview"},o.createElement("canvas",{ref:function(t){return e.setupCanvas(t)}}))},t}(o.Component);t.StandardPreview=s},function(e,t,n){var r=n(122);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(29)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(28)(!1)).push([e.i,".standardPreview {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  background-color: #121212;\n  background-image: linear-gradient(45deg, #444 25%, transparent 25%, transparent 75%, #444 75%, #444), linear-gradient(45deg, #444 25%, transparent 25%, transparent 75%, #444 75%, #444);\n  background-size: 32px 32px;\n  background-position: 0 0, 16px 16px; }\n  .standardPreview > canvas {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    width: 100% !important;\n    height: 100% !important; }\n",""])},function(e,t,n){(function(e){e.CopyShader={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n")}}).call(this,n(30))},function(e,t,n){(function(e){e.EffectComposer=function(t,n){if(this.renderer=t,void 0===n){var r={minFilter:e.LinearFilter,magFilter:e.LinearFilter,format:e.RGBAFormat,stencilBuffer:!1},i=t.getDrawingBufferSize();(n=new e.WebGLRenderTarget(i.width,i.height,r)).texture.name="EffectComposer.rt1"}this.renderTarget1=n,this.renderTarget2=n.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.passes=[],void 0===e.CopyShader&&console.error("THREE.EffectComposer relies on THREE.CopyShader"),void 0===e.ShaderPass&&console.error("THREE.EffectComposer relies on THREE.ShaderPass"),this.copyPass=new e.ShaderPass(e.CopyShader)},Object.assign(e.EffectComposer.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e);var t=this.renderer.getDrawingBufferSize();e.setSize(t.width,t.height)},insertPass:function(e,t){this.passes.splice(t,0,e)},render:function(t){var n,r,i=!1,o=this.passes.length;for(r=0;r<o;r++)if(!1!==(n=this.passes[r]).enabled){if(n.render(this.renderer,this.writeBuffer,this.readBuffer,t,i),n.needsSwap){if(i){var a=this.renderer.context;a.stencilFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,t),a.stencilFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==e.MaskPass&&(n instanceof e.MaskPass?i=!0:n instanceof e.ClearMaskPass&&(i=!1))}},reset:function(e){if(void 0===e){var t=this.renderer.getDrawingBufferSize();(e=this.renderTarget1.clone()).setSize(t.width,t.height)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){this.renderTarget1.setSize(e,t),this.renderTarget2.setSize(e,t);for(var n=0;n<this.passes.length;n++)this.passes[n].setSize(e,t)}}),e.Pass=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1},Object.assign(e.Pass.prototype,{setSize:function(e,t){},render:function(e,t,n,r,i){console.error("THREE.Pass: .render() must be implemented in derived pass.")}})}).call(this,n(30))},function(e,t,n){(function(e){e.RenderPass=function(t,n,r,i,o){e.Pass.call(this),this.scene=t,this.camera=n,this.overrideMaterial=r,this.clearColor=i,this.clearAlpha=void 0!==o?o:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1},e.RenderPass.prototype=Object.assign(Object.create(e.Pass.prototype),{constructor:e.RenderPass,render:function(e,t,n,r,i){var o,a,s=e.autoClear;e.autoClear=!1,this.scene.overrideMaterial=this.overrideMaterial,this.clearColor&&(o=e.getClearColor().getHex(),a=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.render(this.scene,this.camera,this.renderToScreen?null:n,this.clear),this.clearColor&&e.setClearColor(o,a),this.scene.overrideMaterial=null,e.autoClear=s}})}).call(this,n(30))},function(e,t,n){(function(e){e.ShaderPass=function(t,n){e.Pass.call(this),this.textureID=void 0!==n?n:"tDiffuse",t instanceof e.ShaderMaterial?(this.uniforms=t.uniforms,this.material=t):t&&(this.uniforms=e.UniformsUtils.clone(t.uniforms),this.material=new e.ShaderMaterial({defines:Object.assign({},t.defines),uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader})),this.camera=new e.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new e.Scene,this.quad=new e.Mesh(new e.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)},e.ShaderPass.prototype=Object.assign(Object.create(e.Pass.prototype),{constructor:e.ShaderPass,render:function(e,t,n,r,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.quad.material=this.material,this.renderToScreen?e.render(this.scene,this.camera):e.render(this.scene,this.camera,t,this.clear)}})}).call(this,n(30))},function(e,t,n){"use strict";n.r(t);var r=n(3);var i=function(){Object(r.t)("trash","delete"),Object(r.t)("onedrive","onedrivelogo"),Object(r.t)("alertsolid12","eventdatemissed12"),Object(r.t)("sixpointstar","6pointstar"),Object(r.t)("twelvepointstar","12pointstar"),Object(r.t)("toggleon","toggleleft"),Object(r.t)("toggleoff","toggleright")},o=n(145);Object(o.a)("@uifabric/icons","6.3.0");var a="https://spoprod-a.akamaihd.net/files/fabric/assets/icons/";function s(e,t){void 0===e&&(e=a),[function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons"',src:"url('"+e+"fabric-icons-a13498cf.woff') format('woff')"},icons:{GlobalNavButton:"",ChevronDown:"",ChevronUp:"",Edit:"",Add:"",Cancel:"",More:"",Settings:"",Mail:"",Filter:"",Search:"",Share:"",BlockedSite:"",FavoriteStar:"",FavoriteStarFill:"",CheckMark:"",Delete:"",ChevronLeft:"",ChevronRight:"",Calendar:"",Megaphone:"",Undo:"",Flag:"",Page:"",Pinned:"",View:"",Clear:"",Download:"",Upload:"",Folder:"",Sort:"",AlignRight:"",AlignLeft:"",Tag:"",AddFriend:"",Info:"",SortLines:"",List:"",CircleRing:"",Heart:"",HeartFill:"",Tiles:"",Embed:"",Glimmer:"",Ascending:"",Descending:"",SortUp:"",SortDown:"",SyncToPC:"",LargeGrid:"",SkypeCheck:"",SkypeClock:"",SkypeMinus:"",ClearFilter:"",Flow:"",StatusCircleCheckmark:"",MoreVertical:""}};Object(r.u)(n,t)},function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-0"',src:"url('"+e+"fabric-icons-0-498a310c.woff') format('woff')"},icons:{InternetSharing:"",Brightness:"",MapPin:"",Airplane:"",Tablet:"",QuickNote:"",Video:"",People:"",Phone:"",Pin:"",Shop:"",Stop:"",Link:"",AllApps:"",Zoom:"",ZoomOut:"",Microphone:"",Camera:"",Attach:"",Send:"",FavoriteList:"",PageSolid:"",Forward:"",Back:"",Refresh:"",Lock:"",ReportHacked:"",EMI:"",MiniLink:"",Blocked:"",ReadingMode:"",Favicon:"",Remove:"",Checkbox:"",CheckboxComposite:"",CheckboxFill:"",CheckboxIndeterminate:"",CheckboxCompositeReversed:"",BackToWindow:"",FullScreen:"",Print:"",Up:"",Down:"",OEM:"",Save:"",Cloud:"",Flashlight:"",CommandPrompt:"",Sad:"",RealEstate:"",SIPMove:"",EraseTool:"",GripperTool:"",Dialpad:"",PageLeft:"",PageRight:"",MultiSelect:"",KeyboardClassic:"",Play:"",Pause:"",Emoji2:"",GripperBarHorizontal:"",System:"",Personalize:"",SearchAndApps:"",Globe:"",EaseOfAccess:"",ContactInfo:"",Unpin:"",Contact:"",Memo:"",Paste:"",WindowsLogo:"",Error:"",GripperBarVertical:"",Unlock:"",Slideshow:"",AutoEnhanceOn:"",AutoEnhanceOff:"",Color:"",SaveAs:"",Light:"",Filters:"",AspectRatio:"",Contrast:"",Redo:"",Crop:"",PhotoCollection:"",Album:"",Rotate:"",PanoIndicator:"",Translate:"",RedEye:"",ThumbnailView:"",Package:"",Telemarketer:"",Warning:"",Financial:"",Education:"",ShoppingCart:""}};Object(r.u)(n,t)},function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-1"',src:"url('"+e+"fabric-icons-1-0f021d71.woff') format('woff')"},icons:{Train:"",Move:"",TouchPointer:"",Merge:"",TurnRight:"",Ferry:"",Highlight:"",PowerButton:"",Tab:"",Admin:"",TVMonitor:"",Speakers:"",Game:"",UnstackSelected:"",StackIndicator:"",Nav2DMapView:"",StreetsideSplitMinimize:"",Car:"",Bus:"",EatDrink:"",SeeDo:"",LocationCircle:"",Home:"",SwitcherStartEnd:"",ParkingLocation:"",IncidentTriangle:"",Touch:"",MapDirections:"",CaretHollow:"",CaretSolid:"",History:"",Location:"",MapLayers:"",SearchNearby:"",Work:"",Recent:"",Hotel:"",Bank:"",LocationDot:"",Dictionary:"",ChromeBack:"",FolderOpen:"",PinnedFill:"",RevToggleKey:"",Previous:"",Next:"",Sync:"",Help:"",Emoji:"",MailForward:"",ClosePane:"",OpenPane:"",PreviewLink:"",ZoomIn:"",Bookmarks:"",Document:"",ProtectedDocument:"",OpenInNewWindow:"",MailFill:"",ViewAll:"",Switch:"",Rename:"",Go:"",Remote:"",SelectAll:"",Orientation:"",Import:"",Picture:"",ChromeClose:"",ShowResults:"",Message:"",CalendarDay:"",CalendarWeek:"",MailReplyAll:"",Read:"",Cut:"",PaymentCard:"",Copy:"",Important:"",MailReply:"",GotoToday:"",Font:"",FontColor:"",FolderFill:"",Permissions:"",DisableUpdates:"",Unfavorite:"",Italic:"",Underline:"",Bold:"",MoveToFolder:"",Dislike:"",Like:"",AlignCenter:"",OpenFile:"",FontDecrease:"",FontIncrease:"",FontSize:"",CellPhone:"",RepeatAll:""}};Object(r.u)(n,t)},function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-2"',src:"url('"+e+"fabric-icons-2-be6a5f70.woff') format('woff')"},icons:{Calculator:"",Library:"",PostUpdate:"",NewFolder:"",CalendarReply:"",UnsyncFolder:"",SyncFolder:"",BlockContact:"",Accept:"",BulletedList:"",Preview:"",News:"",Chat:"",Group:"",World:"",Comment:"",DockLeft:"",DockRight:"",Repair:"",Accounts:"",Street:"",RadioBullet:"",Stopwatch:"",Clock:"",WorldClock:"",AlarmClock:"",Photo:"",ActionCenter:"",Hospital:"",Timer:"",FullCircleMask:"",LocationFill:"",ChromeMinimize:"",ChromeRestore:"",Annotation:"",Fingerprint:"",Handwriting:"",ChromeFullScreen:"",Completed:"",Label:"",FlickDown:"",FlickUp:"",FlickLeft:"",FlickRight:"",MiniExpand:"",MiniContract:"",Streaming:"",MusicInCollection:"",OneDriveLogo:"",CompassNW:"",Code:"",LightningBolt:"",CalculatorMultiply:"",CalculatorAddition:"",CalculatorSubtract:"",CalculatorEqualTo:"",PrintfaxPrinterFile:"",StorageOptical:"",Communications:"",Headset:"",Health:"",FrontCamera:"",ChevronUpSmall:"",ChevronDownSmall:"",ChevronLeftSmall:"",ChevronRightSmall:"",ChevronUpMed:"",ChevronDownMed:"",ChevronLeftMed:"",ChevronRightMed:"",Devices2:"",PC1:"",PresenceChickletVideo:"",Reply:"",HalfAlpha:"",ConstructionCone:"",DoubleChevronLeftMed:"",Volume0:"",Volume1:"",Volume2:"",Volume3:"",Chart:"",Robot:"",Manufacturing:"",LockSolid:"",FitPage:"",FitWidth:"",BidiLtr:"",BidiRtl:"",RightDoubleQuote:"",Sunny:"",CloudWeather:"",Cloudy:"",PartlyCloudyDay:"",PartlyCloudyNight:"",ClearNight:"",RainShowersDay:"",Rain:"",Thunderstorms:"",RainSnow:""}};Object(r.u)(n,t)},function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-3"',src:"url('"+e+"fabric-icons-3-ccddc9e1.woff') format('woff')"},icons:{Snow:"",BlowingSnow:"",Frigid:"",Fog:"",Squalls:"",Duststorm:"",Unknown:"",Precipitation:"",Ribbon:"",AreaChart:"",Assign:"",FlowChart:"",CheckList:"",Diagnostic:"",Generate:"",LineChart:"",Equalizer:"",BarChartHorizontal:"",BarChartVertical:"",Freezing:"",FunnelChart:"",Processing:"",Quantity:"",ReportDocument:"",StackColumnChart:"",SnowShowerDay:"",HailDay:"",WorkFlow:"",HourGlass:"",StoreLogoMed20:"",TimeSheet:"",TriangleSolid:"",UpgradeAnalysis:"",VideoSolid:"",RainShowersNight:"",SnowShowerNight:"",Teamwork:"",HailNight:"",PeopleAdd:"",Glasses:"",DateTime2:"",Shield:"",Header1:"",PageAdd:"",NumberedList:"",PowerBILogo:"",Info2:"",MusicInCollectionFill:"",Asterisk:"",ErrorBadge:"",CircleFill:"",Record2:"",AllAppsMirrored:"",BookmarksMirrored:"",BulletedListMirrored:"",CaretHollowMirrored:"",CaretSolidMirrored:"",ChromeBackMirrored:"",ClosePaneMirrored:"",DockLeftMirrored:"",DoubleChevronLeftMedMirrored:"",GoMirrored:"",HelpMirrored:"",ImportMirrored:"",ImportAllMirrored:"",ListMirrored:"",MailForwardMirrored:"",MailReplyMirrored:"",MailReplyAllMirrored:"",MiniContractMirrored:"",MiniExpandMirrored:"",OpenPaneMirrored:"",ParkingLocationMirrored:"",SendMirrored:"",ShowResultsMirrored:"",ThumbnailViewMirrored:"",Media:"",Devices3:"",Focus:"",VideoLightOff:"",Lightbulb:"",StatusTriangle:"",VolumeDisabled:"",Puzzle:"",EmojiNeutral:"",EmojiDisappointed:"",HomeSolid:"",Ringer:"",PDF:"",HeartBroken:"",StoreLogo16:"",MultiSelectMirrored:"",Broom:"",Cocktails:"",Wines:"",Articles:"",Cycling:"",DietPlanNotebook:"",Pill:"",ExerciseTracker:""}};Object(r.u)(n,t)},function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-4"',src:"url('"+e+"fabric-icons-4-0721c5c2.woff') format('woff')"},icons:{HandsFree:"",Medical:"",Running:"",Weights:"",Trackers:"",AddNotes:"",AllCurrency:"",BarChart4:"",CirclePlus:"",Coffee:"",Cotton:"",Market:"",Money:"",PieDouble:"",PieSingle:"",RemoveFilter:"",Savings:"",Sell:"",StockDown:"",StockUp:"",Lamp:"",Source:"",MSNVideos:"",Cricket:"",Golf:"",Baseball:"",Soccer:"",MoreSports:"",AutoRacing:"",CollegeHoops:"",CollegeFootball:"",ProFootball:"",ProHockey:"",Rugby:"",SubstitutionsIn:"",Tennis:"",Arrivals:"",Design:"",Website:"",Drop:"",HistoricalWeather:"",SkiResorts:"",Snowflake:"",BusSolid:"",FerrySolid:"",AirplaneSolid:"",TrainSolid:"",Ticket:"",WifiWarning4:"",Devices4:"",AzureLogo:"",BingLogo:"",MSNLogo:"",OutlookLogoInverse:"",OfficeLogo:"",SkypeLogo:"",Door:"",EditMirrored:"",GiftCard:"",DoubleBookmark:"",StatusErrorFull:"",Certificate:"",FastForward:"",Rewind:"",Photo2:"",OpenSource:"",Movers:"",CloudDownload:"",Family:"",WindDirection:"",Bug:"",SiteScan:"",BrowserScreenShot:"",F12DevTools:"",CSS:"",JS:"",DeliveryTruck:"",ReminderPerson:"",ReminderGroup:"",TabletMode:"",Umbrella:"",NetworkTower:"",CityNext:"",CityNext2:"",Section:"",OneNoteLogoInverse:"",ToggleFilled:"",ToggleBorder:"",SliderThumb:"",ToggleThumb:"",Documentation:"",Badge:"",Giftbox:"",VisualStudioLogo:"",HomeGroup:"",ExcelLogoInverse:"",WordLogoInverse:"",PowerPointLogoInverse:"",Cafe:"",SpeedHigh:""}};Object(r.u)(n,t)},function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-5"',src:"url('"+e+"fabric-icons-5-fca90b7d.woff') format('woff')"},icons:{Commitments:"",ThisPC:"",MusicNote:"",MicOff:"",EdgeLogo:"",CompletedSolid:"",AlbumRemove:"",MessageFill:"",TabletSelected:"",MobileSelected:"",LaptopSelected:"",TVMonitorSelected:"",DeveloperTools:"",Shapes:"",InsertTextBox:"",LowerBrightness:"",WebComponents:"",OfflineStorage:"",DOM:"",CloudUpload:"",ScrollUpDown:"",DateTime:"",Event:"",Cake:"",Org:"",PartyLeader:"",DRM:"",CloudAdd:"",AppIconDefault:"",Photo2Add:"",Photo2Remove:"",POI:"",AddTo:"",RadioBtnOff:"",RadioBtnOn:"",ExploreContent:"",Product:"",ProgressLoopInner:"",ProgressLoopOuter:"",Blocked2:"",FangBody:"",PageHeader:"",ChatInviteFriend:"",Brush:"",Shirt:"",Crown:"",Diamond:"",ScaleUp:"",QRCode:"",Feedback:"",SharepointLogoInverse:"",YammerLogo:"",Hide:"",Uneditable:"",ReturnToSession:"",OpenFolderHorizontal:"",CalendarMirrored:"",SwayLogoInverse:"",OutOfOffice:"",Trophy:"",ReopenPages:"",EmojiTabSymbols:"",AADLogo:"",AccessLogo:"",AdminALogoInverse32:"",AdminCLogoInverse32:"",AdminDLogoInverse32:"",AdminELogoInverse32:"",AdminLLogoInverse32:"",AdminMLogoInverse32:"",AdminOLogoInverse32:"",AdminPLogoInverse32:"",AdminSLogoInverse32:"",AdminYLogoInverse32:"",DelveLogoInverse:"",ExchangeLogoInverse:"",LyncLogo:"",OfficeVideoLogoInverse:"",SocialListeningLogo:"",VisioLogoInverse:"",Balloons:"",Cat:"",MailAlert:"",MailCheck:"",MailLowImportance:"",MailPause:"",MailRepeat:"",SecurityGroup:"",Table:"",VoicemailForward:"",VoicemailReply:"",Waffle:"",RemoveEvent:"",EventInfo:"",ForwardEvent:"",WipePhone:"",AddOnlineMeeting:"",JoinOnlineMeeting:"",RemoveLink:"",PeopleBlock:""}};Object(r.u)(n,t)},function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-6"',src:"url('"+e+"fabric-icons-6-957ed700.woff') format('woff')"},icons:{PeopleRepeat:"",PeopleAlert:"",PeoplePause:"",TransferCall:"",AddPhone:"",UnknownCall:"",NoteReply:"",NoteForward:"",NotePinned:"",RemoveOccurrence:"",Timeline:"",EditNote:"",CircleHalfFull:"",Room:"",Unsubscribe:"",Subscribe:"",HardDrive:"",RecurringTask:"",TaskManager:"",TaskManagerMirrored:"",Combine:"",Split:"",DoubleChevronUp:"",DoubleChevronLeft:"",DoubleChevronRight:"",TextBox:"",TextField:"",NumberField:"",Dropdown:"",PenWorkspace:"",BookingsLogo:"",ClassNotebookLogoInverse:"",DelveAnalyticsLogo:"",DocsLogoInverse:"",Dynamics365Logo:"",DynamicSMBLogo:"",OfficeAssistantLogo:"",OfficeStoreLogo:"",OneNoteEduLogoInverse:"",PlannerLogo:"",PowerApps:"",Suitcase:"",ProjectLogoInverse:"",CaretLeft8:"",CaretRight8:"",CaretUp8:"",CaretDown8:"",CaretLeftSolid8:"",CaretRightSolid8:"",CaretUpSolid8:"",CaretDownSolid8:"",ClearFormatting:"",Superscript:"",Subscript:"",Strikethrough:"",Export:"",ExportMirrored:"",SingleBookmark:"",SingleBookmarkSolid:"",DoubleChevronDown:"",FollowUser:"",ReplyAll:"",WorkforceManagement:"",RecruitmentManagement:"",Questionnaire:"",ManagerSelfService:"",ProductRelease:"",ReplyMirrored:"",ReplyAllMirrored:"",Medal:"",AddGroup:"",QuestionnaireMirrored:"",TemporaryUser:"",CaretSolid16:"",GroupedDescending:"",GroupedAscending:"",AwayStatus:"",MyMoviesTV:"",GenericScan:"",AustralianRules:"",WifiEthernet:"",TrackersMirrored:"",DateTimeMirrored:"",StopSolid:"",DoubleChevronUp12:"",DoubleChevronDown12:"",DoubleChevronLeft12:"",DoubleChevronRight12:"",CalendarAgenda:"",AddEvent:"",AssetLibrary:"",DataConnectionLibrary:"",DocLibrary:"",FormLibrary:"",FormLibraryMirrored:"",ReportLibrary:"",ReportLibraryMirrored:"",ContactCard:"",CustomList:"",CustomListMirrored:""}};Object(r.u)(n,t)},function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-7"',src:"url('"+e+"fabric-icons-7-36bda45d.woff') format('woff')"},icons:{IssueTracking:"",IssueTrackingMirrored:"",PictureLibrary:"",OfficeAddinsLogo:"",OfflineOneDriveParachute:"",OfflineOneDriveParachuteDisabled:"",TriangleSolidUp12:"",TriangleSolidDown12:"",TriangleSolidLeft12:"",TriangleSolidRight12:"",TriangleUp12:"",TriangleDown12:"",TriangleLeft12:"",TriangleRight12:"",ArrowUpRight8:"",ArrowDownRight8:"",DocumentSet:"",DelveAnalytics:"",ArrowUpRightMirrored8:"",ArrowDownRightMirrored8:"",CompanyDirectory:"",OpenEnrollment:"",CompanyDirectoryMirrored:"",OneDriveAdd:"",ProfileSearch:"",Header2:"",Header3:"",Header4:"",Eyedropper:"",MarketDown:"",CalendarWorkWeek:"",SidePanel:"",GlobeFavorite:"",CaretTopLeftSolid8:"",CaretTopRightSolid8:"",ViewAll2:"",DocumentReply:"",PlayerSettings:"",ReceiptForward:"",ReceiptReply:"",ReceiptCheck:"",Fax:"",RecurringEvent:"",ReplyAlt:"",ReplyAllAlt:"",EditStyle:"",EditMail:"",Lifesaver:"",LifesaverLock:"",InboxCheck:"",FolderSearch:"",CollapseMenu:"",ExpandMenu:"",Boards:"",SunAdd:"",SunQuestionMark:"",LandscapeOrientation:"",DocumentSearch:"",PublicCalendar:"",PublicContactCard:"",PublicEmail:"",PublicFolder:"",WordDocument:"",PowerPointDocument:"",ExcelDocument:"",GroupedList:"",ClassroomLogo:"",Sections:"",EditPhoto:"",Starburst:"",ShareiOS:"",AirTickets:"",PencilReply:"",Tiles2:"",SkypeCircleCheck:"",SkypeCircleClock:"",SkypeCircleMinus:"",SkypeMessage:"",ClosedCaption:"",ATPLogo:"",OfficeFormsLogoInverse:"",RecycleBin:"",EmptyRecycleBin:"",Hide2:"",Breadcrumb:"",BirthdayCake:"",TimeEntry:"",CRMProcesses:"",PageEdit:"",PageArrowRight:"",PageRemove:"",Database:"",CRMServices:"",EditContact:"",ConnectContacts:"",AppIconDefaultAdd:"",AppIconDefaultList:"",ActivateOrders:"",DeactivateOrders:"",DocumentManagement:""}};Object(r.u)(n,t)},function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-8"',src:"url('"+e+"fabric-icons-8-58fb017e.woff') format('woff')"},icons:{CRMReport:"",KnowledgeArticle:"",Relationship:"",ZipFolder:"",SurveyQuestions:"",TextDocument:"",TextDocumentShared:"",PageCheckedOut:"",SaveAndClose:"",Script:"",Archive:"",ActivityFeed:"",EventDate:"",ArrowUpRight:"",CaretRight:"",SetAction:"",CaretSolidLeft:"",CaretSolidDown:"",CaretSolidRight:"",CaretSolidUp:"",PowerAppsLogo:"",PowerApps2Logo:"",SearchIssue:"",SearchIssueMirrored:"",FabricAssetLibrary:"",FabricDataConnectionLibrary:"",FabricDocLibrary:"",FabricFormLibrary:"",FabricFormLibraryMirrored:"",FabricReportLibrary:"",FabricReportLibraryMirrored:"",FabricPublicFolder:"",FabricFolderSearch:"",FabricMovetoFolder:"",FabricUnsyncFolder:"",FabricSyncFolder:"",FabricOpenFolderHorizontal:"",FabricFolder:"",FabricFolderFill:"",FabricNewFolder:"",FabricPictureLibrary:"",AddFavorite:"",AddFavoriteFill:"",BufferTimeBefore:"",BufferTimeAfter:"",BufferTimeBoth:"",PublishContent:"",CannedChat:"",SkypeForBusinessLogo:"",TabCenter:"",PageCheckedin:"",PageList:"",ReadOutLoud:"",CaretBottomLeftSolid8:"",CaretBottomRightSolid8:"",FolderHorizontal:"",MicrosoftStaffhubLogo:"",GiftboxOpen:"",StatusCircleOuter:"",StatusCircleInner:"",StatusCircleRing:"",StatusTriangleOuter:"",StatusTriangleInner:"",StatusTriangleExclamation:"",StatusCircleExclamation:"",StatusCircleErrorX:"",StatusCircleInfo:"",StatusCircleBlock:"",StatusCircleBlock2:"",StatusCircleQuestionMark:"",StatusCircleSync:"",Toll:"",ExploreContentSingle:"",CollapseContent:"",CollapseContentSingle:"",InfoSolid:"",ProgressRingDots:"",CaloriesAdd:"",BranchFork:"",MobileReport:"",ScaleVolume:"",HardDriveGroup:"",FastMode:"",ToggleLeft:"",ToggleRight:"",TriangleShape:"",RectangleShape:"",Trophy2:"",BucketColor:"",BucketColorFill:"",Taskboard:"",SingleColumn:"",DoubleColumn:"",TripleColumn:"",ColumnLeftTwoThirds:"",ColumnRightTwoThirds:"",AccessLogoFill:"",AnalyticsLogo:"",AnalyticsQuery:"",NewAnalyticsQuery:""}};Object(r.u)(n,t)},function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-9"',src:"url('"+e+"fabric-icons-9-e5eafdb0.woff') format('woff')"},icons:{AnalyticsReport:"",WordLogo:"",WordLogoFill:"",ExcelLogo:"",ExcelLogoFill:"",OneNoteLogo:"",OneNoteLogoFill:"",OutlookLogo:"",OutlookLogoFill:"",PowerPointLogo:"",PowerPointLogoFill:"",PublisherLogo:"",PublisherLogoFill:"",ScheduleEventAction:"",FlameSolid:"",ServerProcesses:"",Server:"",SaveAll:"",LinkedInLogo:"",Decimals:"",SidePanelMirrored:"",ProtectRestrict:"",Blog:"",UnknownMirrored:"",PublicContactCardMirrored:"",GridViewSmall:"",GridViewMedium:"",GridViewLarge:"",Step:"",StepInsert:"",StepShared:"",StepSharedAdd:"",StepSharedInsert:"",ViewDashboard:"",ViewList:"",ViewListGroup:"",ViewListTree:"",TriggerAuto:"",TriggerUser:"",PivotChart:"",StackedBarChart:"",StackedLineChart:"",BuildQueue:"",BuildQueueNew:"",UserFollowed:"",ContactLink:"",Stack:"",Bullseye:"",VennDiagram:"",FiveTileGrid:"",FocalPoint:"",RingerRemove:"",TeamsLogoInverse:"",TeamsLogo:"",TeamsLogoFill:"",SkypeForBusinessLogoFill:"",SharepointLogo:"",SharepointLogoFill:"",DelveLogo:"",DelveLogoFill:"",OfficeVideoLogo:"",OfficeVideoLogoFill:"",ExchangeLogo:"",ExchangeLogoFill:"",DocumentApproval:"",CloneToDesktop:"",InstallToDrive:"",Blur:"",Build:"",ProcessMetaTask:"",BranchFork2:"",BranchLocked:"",BranchCommit:"",BranchCompare:"",BranchMerge:"",BranchPullRequest:"",BranchSearch:"",BranchShelveset:"",RawSource:"",MergeDuplicate:"",RowsGroup:"",RowsChild:"",Deploy:"",Redeploy:"",ServerEnviroment:"",VisioDiagram:"",HighlightMappedShapes:"",TextCallout:"",IconSetsFlag:"",VisioLogo:"",VisioLogoFill:"",VisioDocument:"",TimelineProgress:"",TimelineDelivery:"",Backlog:"",TeamFavorite:"",TaskGroup:"",TaskGroupMirrored:"",ScopeTemplate:"",AssessmentGroupTemplate:""}};Object(r.u)(n,t)},function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-10"',src:"url('"+e+"fabric-icons-10-45ab7e58.woff') format('woff')"},icons:{NewTeamProject:"",CommentAdd:"",CommentNext:"",CommentPrevious:"",ShopServer:"",LocaleLanguage:"",QueryList:"",UserSync:"",UserPause:"",StreamingOff:"",ArrowTallUpLeft:"",ArrowTallUpRight:"",ArrowTallDownLeft:"",ArrowTallDownRight:"",FieldEmpty:"",FieldFilled:"",FieldChanged:"",FieldNotChanged:"",RingerOff:"",PlayResume:"",BulletedList2:"",BulletedList2Mirrored:"",ImageCrosshair:"",GitGraph:"",Repo:"",RepoSolid:"",FolderQuery:"",FolderList:"",FolderListMirrored:"",LocationOutline:"",POISolid:"",CalculatorNotEqualTo:"",BoxSubtractSolid:"",BoxAdditionSolid:"",BoxMultiplySolid:"",BoxPlaySolid:"",BoxCheckmarkSolid:"",CirclePauseSolid:"",CirclePause:"",MSNVideosSolid:"",CircleStopSolid:"",CircleStop:"",NavigateBack:"",NavigateBackMirrored:"",NavigateForward:"",NavigateForwardMirrored:"",UnknownSolid:"",UnknownMirroredSolid:"",CircleAddition:"",CircleAdditionSolid:"",FilePDB:"",FileTemplate:"",FileSQL:"",FileJAVA:"",FileASPX:"",FileCSS:"",FileSass:"",FileLess:"",FileHTML:"",JavaScriptLanguage:"",CSharpLanguage:"",CSharp:"",VisualBasicLanguage:"",VB:"",CPlusPlusLanguage:"",CPlusPlus:"",FSharpLanguage:"",FSharp:"",TypeScriptLanguage:"",PythonLanguage:"",PY:"",CoffeeScript:"",MarkDownLanguage:"",FullWidth:"",FullWidthEdit:"",Plug:"",PlugSolid:"",PlugConnected:"",PlugDisconnected:"",UnlockSolid:"",Variable:"",Parameter:"",CommentUrgent:"",Storyboard:"",DiffInline:"",DiffSideBySide:"",ImageDiff:"",ImagePixel:"",FileBug:"",FileCode:"",FileComment:"",BusinessHoursSign:"",FileImage:"",FileSymlink:"",AutoFillTemplate:"",WorkItem:"",WorkItemBug:"",LogRemove:"",ColumnOptions:"",Packages:""}};Object(r.u)(n,t)},function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-11"',src:"url('"+e+"fabric-icons-11-1821d7ea.woff') format('woff')"},icons:{BuildIssue:"",AssessmentGroup:"",VariableGroup:"",FullHistory:"",SingleColumnEdit:"",DoubleColumnEdit:"",TripleColumnEdit:"",ColumnLeftTwoThirdsEdit:"",ColumnRightTwoThirdsEdit:"",StreamLogo:"",PassiveAuthentication:"",AlertSolid:"",MegaphoneSolid:"",TaskSolid:"",ConfigurationSolid:"",BugSolid:"",CrownSolid:"",Trophy2Solid:"",QuickNoteSolid:"",ConstructionConeSolid:"",PageListSolid:"",PageListMirroredSolid:"",StarburstSolid:"",ReadingModeSolid:"",SadSolid:"",HealthSolid:"",ShieldSolid:"",GiftBoxSolid:"",ShoppingCartSolid:"",MailSolid:"",ChatSolid:"",RibbonSolid:"",FinancialSolid:"",FinancialMirroredSolid:"",HeadsetSolid:"",PermissionsSolid:"",ParkingSolid:"",ParkingMirroredSolid:"",DiamondSolid:"",AsteriskSolid:"",OfflineStorageSolid:"",BankSolid:"",DecisionSolid:"",Parachute:"",ParachuteSolid:"",FiltersSolid:"",ColorSolid:"",ReviewSolid:"",ReviewRequestSolid:"",ReviewRequestMirroredSolid:"",ReviewResponseSolid:"",FeedbackRequestSolid:"",FeedbackRequestMirroredSolid:"",FeedbackResponseSolid:"",WorkItemBar:"",WorkItemBarSolid:"",Separator:"",NavigateExternalInline:"",PlanView:"",TimelineMatrixView:"",EngineeringGroup:"",ProjectCollection:"",CaretBottomRightCenter8:"",CaretBottomLeftCenter8:"",CaretTopRightCenter8:"",CaretTopLeftCenter8:"",DonutChart:"",ChevronUnfold10:"",ChevronFold10:"",DoubleChevronDown8:"",DoubleChevronUp8:"",DoubleChevronLeft8:"",DoubleChevronRight8:"",ChevronDownEnd6:"",ChevronUpEnd6:"",ChevronLeftEnd6:"",ChevronRightEnd6:"",ContextMenu:"",AzureAPIManagement:"",AzureServiceEndpoint:"",VSTSLogo:"",VSTSAltLogo1:"",VSTSAltLogo2:"",FileTypeSolution:"",WordLogoInverse16:"",WordLogo16:"",WordLogoFill16:"",PowerPointLogoInverse16:"",PowerPointLogo16:"",PowerPointLogoFill16:"",ExcelLogoInverse16:"",ExcelLogo16:"",ExcelLogoFill16:"",OneNoteLogoInverse16:"",OneNoteLogo16:"",OneNoteLogoFill16:"",OutlookLogoInverse16:"",OutlookLogo16:"",OutlookLogoFill16:"",PublisherLogoInverse16:""}};Object(r.u)(n,t)},function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-12"',src:"url('"+e+"fabric-icons-12-2ceff391.woff') format('woff')"},icons:{PublisherLogo16:"",PublisherLogoFill16:"",VisioLogoInverse16:"",VisioLogo16:"",VisioLogoFill16:"",TestBeaker:"",TestBeakerSolid:"",TestExploreSolid:"",TestAutoSolid:"",TestUserSolid:"",TestImpactSolid:"",TestPlan:"",TestStep:"",TestParameter:"",TestSuite:"",TestCase:"",Sprint:"",SignOut:"",TriggerApproval:"",Rocket:"",AzureKeyVault:"",Onboarding:"",Transition:"",LikeSolid:"",DislikeSolid:"",CRMCustomerInsightsApp:"",EditCreate:"",UnSetColor:"",DeclineCall:"",RectangularClipping:"",TeamsLogo16:"",TeamsLogoFill16:"",Spacer:"",SkypeLogo16:"",SkypeForBusinessLogo16:"",SkypeForBusinessLogoFill16:"",FilterSolid:"",MailUndelivered:"",MailTentative:"",MailTentativeMirrored:"",MailReminder:"",ReceiptUndelivered:"",ReceiptTentative:"",ReceiptTentativeMirrored:"",Inbox:"",IRMReply:"",IRMReplyMirrored:"",IRMForward:"",IRMForwardMirrored:"",VoicemailIRM:"",EventAccepted:"",EventTentative:"",EventTentativeMirrored:"",EventDeclined:"",IDBadge:"",BackgroundColor:"",OfficeFormsLogoInverse16:"",OfficeFormsLogo:"",OfficeFormsLogoFill:"",OfficeFormsLogo16:"",OfficeFormsLogoFill16:"",OfficeFormsLogoInverse24:"",OfficeFormsLogo24:"",OfficeFormsLogoFill24:"",PageLock:"",NotExecuted:"",NotImpactedSolid:"",FieldReadOnly:"",FieldRequired:"",BacklogBoard:"",ExternalBuild:"",ExternalTFVC:"",ExternalXAML:"",IssueSolid:"",DefectSolid:"",LadybugSolid:"",NugetLogo:"",TFVCLogo:"",ProjectLogo32:"",ProjectLogoFill32:"",ProjectLogo16:"",ProjectLogoFill16:"",SwayLogo32:"",SwayLogoFill32:"",SwayLogo16:"",SwayLogoFill16:"",ClassNotebookLogo32:"",ClassNotebookLogoFill32:"",ClassNotebookLogo16:"",ClassNotebookLogoFill16:"",ClassNotebookLogoInverse32:"",ClassNotebookLogoInverse16:"",StaffNotebookLogo32:"",StaffNotebookLogoFill32:"",StaffNotebookLogo16:"",StaffNotebookLogoFill16:"",StaffNotebookLogoInverted32:"",StaffNotebookLogoInverted16:"",KaizalaLogo:"",TaskLogo:""}};Object(r.u)(n,t)},function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-13"',src:"url('"+e+"fabric-icons-13-3151b011.woff') format('woff')"},icons:{ProtectionCenterLogo32:"",GallatinLogo:"",Globe2:"",Guitar:"",Breakfast:"",Brunch:"",BeerMug:"",Vacation:"",Teeth:"",Taxi:"",Chopsticks:"",SyncOccurence:"",UnsyncOccurence:"",PrimaryCalendar:"",SearchCalendar:"",VideoOff:"",MicrosoftFlowLogo:"",BusinessCenterLogo:"",ToDoLogoBottom:"",ToDoLogoTop:"",EditSolid12:"",EditSolidMirrored12:"",UneditableSolid12:"",UneditableSolidMirrored12:"",UneditableMirrored:"",AdminALogo32:"",AdminALogoFill32:"",ToDoLogoInverse:"",Snooze:"",WaffleOffice365:"",ImageSearch:"",NewsSearch:"",VideoSearch:"",R:"",FontColorA:"",FontColorSwatch:"",LightWeight:"",NormalWeight:"",SemiboldWeight:"",GroupObject:"",UngroupObject:"",AlignHorizontalLeft:"",AlignHorizontalCenter:"",AlignHorizontalRight:"",AlignVerticalTop:"",AlignVerticalCenter:"",AlignVerticalBottom:"",HorizontalDistributeCenter:"",VerticalDistributeCenter:"",Ellipse:"",Line:"",Octagon:"",Hexagon:"",Pentagon:"",RightTriangle:"",HalfCircle:"",QuarterCircle:"",ThreeQuarterCircle:"","6PointStar":"","12PointStar":"",ArrangeBringToFront:"",ArrangeSendToBack:"",ArrangeSendBackward:"",ArrangeBringForward:"",BorderDash:"",BorderDot:"",LineStyle:"",LineThickness:"",WindowEdit:"",HintText:"",MediaAdd:"",AnchorLock:"",AutoHeight:"",ChartSeries:"",ChartXAngle:"",ChartYAngle:"",Combobox:"",LineSpacing:"",Padding:"",PaddingTop:"",PaddingBottom:"",PaddingLeft:"",PaddingRight:"",NavigationFlipper:"",AlignJustify:"",TextOverflow:"",VisualsFolder:"",VisualsStore:"",PictureCenter:"",PictureFill:"",PicturePosition:"",PictureStretch:"",PictureTile:"",Slider:"",SliderHandleSize:"",DefaultRatio:"",NumberSequence:"",GUID:"",ReportAdd:"",DashboardAdd:""}};Object(r.u)(n,t)},function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-14"',src:"url('"+e+"fabric-icons-14-19b735bc.woff') format('woff')"},icons:{MapPinSolid:"",WebPublish:"",PieSingleSolid:"",BlockedSolid:"",DrillDown:"",DrillDownSolid:"",DrillExpand:"",DrillShow:"",SpecialEvent:"",OneDriveFolder16:"",FunctionalManagerDashboard:"",BIDashboard:"",CodeEdit:"",RenewalCurrent:"",RenewalFuture:"",SplitObject:"",BulkUpload:"",DownloadDocument:"",Flower:"",WaitlistConfirm:"",WaitlistConfirmMirrored:"",LaptopSecure:"",DragObject:"",EntryView:"",EntryDecline:"",ContactCardSettings:"",ContactCardSettingsMirrored:"",CalendarSettings:"",CalendarSettingsMirrored:"",HardDriveLock:"",HardDriveUnlock:"",AccountManagement:"",TransitionPop:"",TransitionPush:"",TransitionEffect:"",LookupEntities:"",ExploreData:"",AddBookmark:"",SearchBookmark:"",DrillThrough:"",MasterDatabase:"",CertifiedDatabase:"",MaximumValue:"",MinimumValue:"",VisualStudioIDELogo32:"",PasteAsText:"",PasteAsCode:"",BrowserTab:"",BrowserTabScreenshot:"",DesktopScreenshot:"",FileYML:"",ClipboardSolid:"",FabricUserFolder:"",FabricNetworkFolder:"",AnalyticsView:"",Video360Generic:"",Leave:"",Trending12:"",Blocked12:"",Warning12:"",CheckedOutByOther12:"",CheckedOutByYou12:"",CircleShapeSolid:"",SquareShapeSolid:"",TriangleShapeSolid:"",DropShapeSolid:"",RectangleShapeSolid:"",ZoomToFit:"",InsertColumnsLeft:"",InsertColumnsRight:"",InsertRowsAbove:"",InsertRowsBelow:"",DeleteColumns:"",DeleteRows:"",DeleteRowsMirrored:"",DeleteTable:"",VersionControlPush:"",StackedColumnChart2:"",TripleColumnWide:"",QuadColumn:"",WhiteBoardApp16:"",WhiteBoardApp32:"",InsertSignatureLine:"",ArrangeByFrom:"",Phishing:"",CreateMailRule:"",PublishCourse:"",DictionaryRemove:"",UserRemove:"",UserEvent:"",Encryption:"",D365TalentLearn:"",D365TalentInsight:"",D365TalentHRCore:"",BacklogList:"",ButtonControl:"",TableGroup:"",MountainClimbing:"",TagUnknown:"",TagUnknownMirror:""}};Object(r.u)(n,t)},function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-15"',src:"url('"+e+"fabric-icons-15-2f8b45d0.woff') format('woff')"},icons:{TagUnknown12:"",TagUnknown12Mirror:"",Link12:"",Presentation:"",Presentation12:"",Lock12:"",BuildDefinition:"",ReleaseDefinition:"",SaveTemplate:"",UserGauge:"",BlockedSiteSolid12:"",TagSolid:"",OfficeChat:"",OfficeChatSolid:"",MailSchedule:"",WarningSolid:"",Blocked2Solid:"",SkypeCircleArrow:"",SkypeArrow:"",SyncStatus:"",SyncStatusSolid:"",ProjectDocument:"",ToDoLogoOutline:"",VisioOnlineLogoFill32:"",VisioOnlineLogo32:"",VisioOnlineLogoCloud32:"",VisioDiagramSync:"",Event12:"",EventDateMissed12:"",UserOptional:"",ResponsesMenu:"",DoubleDownArrow:"",DistributeDown:"",BookmarkReport:"",FilterSettings:"",GripperDotsVertical:"",MailAttached:"",AddIn:"",LinkedDatabase:"",PromotedDatabase:"",BarChartVerticalFilter:"",BarChartVerticalFilterSolid:"",ShowTimeAs:"",FileRequest:"",WorkItemAlert:"",PowerBILogo16:"",PowerBILogoBackplate16:"",BulletedListText:"",BulletedListBullet:"",BulletedListTextMirrored:"",BulletedListBulletMirrored:"",NumberedListText:"",NumberedListNumber:"",NumberedListTextMirrored:"",NumberedListNumberMirrored:"",RemoveLinkChain:"",RemoveLinkX:"",FabricTextHighlight:"",ClearFormattingA:"",ClearFormattingEraser:"",Photo2Fill:"",IncreaseIndentText:"",IncreaseIndentArrow:"",DecreaseIndentText:"",DecreaseIndentArrow:"",IncreaseIndentTextMirrored:"",IncreaseIndentArrowMirrored:"",DecreaseIndentTextMirrored:"",DecreaseIndentArrowMirrored:"",CheckListText:"",CheckListCheck:"",CheckListTextMirrored:"",CheckListCheckMirrored:"",NumberSymbol:"",Coupon:"",VerifiedBrand:"",ReleaseGate:"",ReleaseGateCheck:"",ReleaseGateError:"",M365InvoicingLogo:"",FabricTextHighlightComposite:"",Dataflows:"",GenericScanFilled:"",DiagnosticDataBarTooltip:"",SaveToMobile:"",Orientation2:"",ScreenCast:"",ShowGrid:"",SnapToGrid:"",ContactList:"",NewMail:"",EyeShadow:"",CampaignTemplate:"",ChartTemplate:"",PageListFilter:"",SecondaryNav:"",ColumnVerticalSection:"",SkypeCircleSlash:"",SkypeSlash:"",CustomizeToolbar:""}};Object(r.u)(n,t)},function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-16"',src:"url('"+e+"fabric-icons-16-7ed535b6.woff') format('woff')"},icons:{DuplicateRow:"",RemoveFromTrash:"",MailOptions:"",Childof:"",Footer:"",Header:"",BarChartVerticalFill:"",StackedColumnChart2Fill:"",PlainText:"",AccessibiltyChecker:"",DatabaseSync:"",TabOneColumn:"",TabTwoColumn:"",TabThreeColumn:"",DecreaseIndentLegacy:"",IncreaseIndentLegacy:"",SizeLegacy:""}};Object(r.u)(n,t)}].forEach(function(n){return n(e,t)}),i()}n.d(t,"initializeIcons",function(){return s})},function(e,t,n){"use strict";n.r(t);var r,i=n(133),o=n(1),a=n(0),s=n(96),l=n(58),c=n(34);!function(e){e[e.zero=0]="zero",e[e.medium=1]="medium",e[e.long=2]="long"}(r||(r={}));var u=n(151),h=n(5),d=Object(s.a)(),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onRenderContent=function(e){return a.createElement("p",{className:t._classNames.subText},e.content)},t}return o.c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.calloutProps,r=e.delay,i=e.directionalHint,s=e.directionalHintForRTL,c=e.styles,h=e.id,p=e.maxWidth,f=e.onRenderContent,m=void 0===f?this._onRenderContent:f,g=e.targetElement,v=e.theme;return this._classNames=d(c,{theme:v,className:t||n&&n.className,delay:r,maxWidth:p}),a.createElement(u.a,o.a({target:g,directionalHint:i,directionalHintForRTL:s},n,Object(l.d)(this.props,l.c,["id"]),{className:this._classNames.root}),a.createElement("div",{className:this._classNames.content,id:h,role:"tooltip",onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},m(this.props,this._onRenderContent)))},t.defaultProps={directionalHint:h.a.topCenter,delay:r.medium,maxWidth:"364px",calloutProps:{isBeakVisible:!0,beakWidth:16,gapSpace:0,setInitialFocus:!0,doNotLayer:!1}},t}(c.a),f=n(3),m=Object(i.a)(p,function(e){var t=e.className,n=e.delay,i=e.maxWidth,o=e.theme,a=o.palette,s=o.fonts;return{root:["ms-Tooltip",o.fonts.medium,f.a.fadeIn200,{background:a.white,padding:"8px",animationDelay:"300ms",maxWidth:i},n===r.zero&&{animationDelay:"0s"},n===r.long&&{animationDelay:"500ms"},t],content:["ms-Tooltip-content",s.small,a.neutralPrimary,{wordWrap:"break-word",overflowWrap:"break-word"}],subText:["ms-Tooltip-subtext",{margin:0}]}},void 0,{scope:"Tooltip"}),g=n(146);var v,y=n(6),b=n(24);!function(e){e[e.Parent=0]="Parent",e[e.Self=1]="Self"}(v||(v={}));var x=Object(s.a)(),_=function(e){function t(n){var r=e.call(this,n)||this;return r._tooltipHost=Object(g.a)(),r._closingTimer=-1,r.dismiss=function(){r._hideTooltip()},r._onTooltipMouseEnter=function(e){var n,i=r.props.overflowMode;if(t._currentVisibleTooltip&&t._currentVisibleTooltip!==r&&t._currentVisibleTooltip.dismiss(),t._currentVisibleTooltip=r,void 0!==i){var o=r._getTargetElement();if(o&&(!function(e){return e.clientWidth<e.scrollWidth}(n=o)&&!function(e){return e.clientHeight<e.scrollHeight}(n)))return}e.target&&Object(y.g)(e.target,r._getTargetElement())||(r._toggleTooltip(!0),r._clearDismissTimer())},r._onTooltipMouseLeave=function(e){r.props.closeDelay?(r._clearDismissTimer(),r._closingTimer=r._async.setTimeout(function(){r._toggleTooltip(!1)},r.props.closeDelay)):r._toggleTooltip(!1),t._currentVisibleTooltip===r&&(t._currentVisibleTooltip=void 0)},r._clearDismissTimer=function(){r._async.clearTimeout(r._closingTimer)},r._hideTooltip=function(){r._toggleTooltip(!1)},r.state={isTooltipVisible:!1},r}return o.c(t,e),t.prototype.render=function(){var e=this.props,t=e.calloutProps,n=e.children,r=e.content,i=e.delay,s=e.directionalHint,c=e.directionalHintForRTL,u=e.hostClassName,h=e.id,d=e.setAriaDescribedBy,p=void 0===d||d,f=e.tooltipProps,g=e.styles,v=e.theme;this._classNames=x(g,{theme:v,className:u});var y=this.state.isTooltipVisible,_=h||Object(b.c)("tooltip"),w=!!(r||f&&f.onRenderContent&&f.onRenderContent()),M=y&&w,S=p&&y&&w?_:void 0;return a.createElement("div",o.a({className:this._classNames.root,ref:this._tooltipHost},{onFocusCapture:this._onTooltipMouseEnter},{onBlurCapture:this._hideTooltip},{onMouseEnter:this._onTooltipMouseEnter,onMouseLeave:this._onTooltipMouseLeave,"aria-describedby":S}),n,M&&a.createElement(m,o.a({id:_,delay:i,content:r,targetElement:this._getTargetElement(),directionalHint:s,directionalHintForRTL:c,calloutProps:Object(b.a)({},t,{onMouseEnter:this._onTooltipMouseEnter,onMouseLeave:this._onTooltipMouseLeave}),onMouseEnter:this._onTooltipMouseEnter,onMouseLeave:this._onTooltipMouseLeave},Object(l.d)(this.props,l.c),f)))},t.prototype.componentWillUnmount=function(){t._currentVisibleTooltip&&t._currentVisibleTooltip===this&&(t._currentVisibleTooltip=void 0)},t.prototype._getTargetElement=function(){if(this._tooltipHost.current){var e=this.props.overflowMode;if(void 0!==e)switch(e){case v.Parent:return this._tooltipHost.current.parentElement;case v.Self:return this._tooltipHost.current}return this._tooltipHost.current}},t.prototype._toggleTooltip=function(e){var t=this;this.state.isTooltipVisible!==e&&this.setState({isTooltipVisible:e},function(){return t.props.onTooltipToggle&&t.props.onTooltipToggle(t.state.isTooltipVisible)})},t.defaultProps={delay:r.medium},t}(c.a),w={root:"ms-TooltipHost"},M=Object(i.a)(_,function(e){var t=e.className,n=e.theme;return{root:[Object(f.l)(w,n).root,{display:"inline"},t]}},void 0,{scope:"TooltipHost"});n.d(t,"Tooltip",function(){return m}),n.d(t,"TooltipBase",function(){return p}),n.d(t,"TooltipDelay",function(){return r}),n.d(t,"TooltipHost",function(){return M}),n.d(t,"TooltipHostBase",function(){return _}),n.d(t,"TooltipOverflowMode",function(){return v}),n.d(t,"DirectionalHint",function(){return h.a})},function(e,t,n){"use strict";n.r(t);var r=n(133),i=n(1),o=n(0),a=n(80),s=n(11),l=n(96),c=n(58),u=n(9),h=n(6),d=n(34),p=n(55),f=Object(l.a)(),m=function(e){function t(t){var n=e.call(this,t)||this;return n._focusZone=o.createRef(),n._persistedKeytips={},n._keytipManager=p.a.getInstance(),n._divContainer=o.createRef(),n._onRenderItems=function(e){return e.map(function(e,t){var r={className:n._classNames.item};return o.createElement("div",i.a({key:e.key},r),n.props.onRenderItem(e))})},n._onRenderOverflowButtonWrapper=function(e){var t={className:n._classNames.overflowButton},r=n.props.keytipSequences,a=[];return r?e.forEach(function(e){var t=e.keytipProps;if(t){var o={content:t.content,keySequences:t.keySequences,disabled:t.disabled||!(!e.disabled&&!e.isDisabled)};t.hasDynamicChildren||n._getSubMenuForItem(e)?o.onExecute=n._keytipManager.menuExecute.bind(n._keytipManager,r,e.keytipProps.keySequences):o.onExecute=t.onExecute,n._persistedKeytips[o.content]=o;var s=i.a({},e,{keytipProps:i.a({},t,{overflowSetSequence:r})});a.push(s)}else a.push(e)}):a=e,o.createElement("div",i.a({},t),n.props.onRenderOverflowButton(a))},t.doNotContainWithinFocusZone&&n._warnMutuallyExclusive({doNotContainWithinFocusZone:"focusZoneProps"}),n}return i.c(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.items,l=n.overflowItems,u=n.className,h=n.focusZoneProps,d=n.styles,p=n.vertical,m=n.role,g=n.doNotContainWithinFocusZone;return this._classNames=f(d,{className:u,vertical:p}),g?(e="div",t=i.a({},Object(c.d)(this.props,c.c),{ref:this._divContainer})):(e=a.a,t=i.a({},Object(c.d)(this.props,c.c),h,{componentRef:this._focusZone,direction:p?s.a.vertical:s.a.horizontal})),o.createElement(e,i.a({},t,{className:this._classNames.root,role:m}),r&&this._onRenderItems(r),l&&l.length>0&&this._onRenderOverflowButtonWrapper(l))},t.prototype.focus=function(e){var t=!1;return this.props.doNotContainWithinFocusZone?this._divContainer.current&&(t=Object(u.c)(this._divContainer.current)):this._focusZone.current&&(t=this._focusZone.current.focus(e)),t},t.prototype.focusElement=function(e){var t=!1;return!!e&&(this.props.doNotContainWithinFocusZone?this._divContainer.current&&Object(h.a)(this._divContainer.current,e)&&(e.focus(),t=document.activeElement===e):this._focusZone.current&&(t=this._focusZone.current.focusElement(e)),t)},t.prototype.componentDidMount=function(){this._registerPersistedKeytips()},t.prototype.componentWillUnmount=function(){this._unregisterPersistedKeytips()},t.prototype.componentWillUpdate=function(){this._unregisterPersistedKeytips()},t.prototype.componentDidUpdate=function(){this._registerPersistedKeytips()},t.prototype._registerPersistedKeytips=function(){var e=this;Object.keys(this._persistedKeytips).forEach(function(t){var n=e._persistedKeytips[t],r=e._keytipManager.register(n,!0);e._persistedKeytips[r]=n,delete e._persistedKeytips[t]})},t.prototype._unregisterPersistedKeytips=function(){var e=this;Object.keys(this._persistedKeytips).forEach(function(t){e._keytipManager.unregister(e._persistedKeytips[t],t,!0)}),this._persistedKeytips={}},t.prototype._getSubMenuForItem=function(e){return this.props.itemSubMenuProvider?this.props.itemSubMenuProvider(e):e.subMenuProps?e.subMenuProps.items:void 0},t.defaultProps={vertical:!1,role:"menubar"},t}(d.a),g={flexShrink:0,display:"inherit"},v=Object(r.a)(m,function(e){var t=e.className;return{root:["ms-OverflowSet",{position:"relative",display:"flex",flexWrap:"nowrap"},e.vertical&&{flexDirection:"column"},t],item:["ms-OverflowSet-item",g],overflowButton:["ms-OverflowSet-overflowButton",g]}},void 0,{scope:"OverflowSet"});n.d(t,"OverflowSet",function(){return v}),n.d(t,"OverflowSetBase",function(){return m})},function(e,t,n){"use strict";n.r(t);var r,i=n(133),o=n(1),a=n(0),s=n(96),l=n(58),c=n(34),u=n(80),h=n(11),d=n(31),p=n(61),f=n(3),m={root:"ms-Nav",linkText:"ms-Nav-linkText",compositeLink:"ms-Nav-compositeLink",link:"ms-Nav-link",chevronButton:"ms-Nav-chevronButton",chevronIcon:"ms-Nav-chevron",navItem:"ms-Nav-navItem",navItems:"ms-Nav-navItems",group:"ms-Nav-group",groupContent:"ms-Nav-groupContent"},g={textContainer:{overflow:"hidden"},label:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",lineHeight:"36px"}};function v(e){return!!e&&!/^[a-z0-9+-.]:\/\//i.test(e)}var y=Object(s.a)(),b=function(e){function t(t){var n=e.call(this,t)||this;if(n._onRenderLink=function(e){var t=n.props,r=t.styles,i=t.groups,o=t.theme,s=y(r,{theme:o,groups:i});return a.createElement("div",{className:s.linkText},e.name)},n._renderGroup=function(e,t){var r=n.props,i=r.styles,o=r.groups,s=r.theme,l=r.onRenderGroupHeader,c=void 0===l?n._renderGroupHeader:l,u=y(i,{theme:s,isGroup:!0,isExpanded:!n.state.isGroupCollapsed[e.name],groups:o});return a.createElement("div",{key:t,className:u.group},e.name?c(e,n._renderGroupHeader):null,a.createElement("div",{className:u.groupContent},n._renderLinks(e.links,0)))},n._renderGroupHeader=function(e){var t=n.props,r=t.styles,i=t.groups,o=t.theme,s=t.expandButtonAriaLabel,l=y(r,{theme:o,isGroup:!0,isExpanded:!n.state.isGroupCollapsed[e.name],groups:i});return a.createElement("button",{className:l.chevronButton,onClick:n._onGroupHeaderClicked.bind(n,e),"aria-label":s,"aria-expanded":!n.state.isGroupCollapsed[e.name]},a.createElement(p.a,{className:l.chevronIcon,iconName:"ChevronDown"}),e.name)},n.state={isGroupCollapsed:{},isLinkExpandStateChanged:!1,selectedKey:t.initialSelectedKey||t.selectedKey},t.groups)for(var r=0,i=t.groups;r<i.length;r++){var o=i[r];o.collapseByDefault&&o.name&&(n.state.isGroupCollapsed[o.name]=!0)}return n}return o.c(t,e),t.prototype.componentWillReceiveProps=function(e){for(var t=e.groups||[],n=this.state.isGroupCollapsed,r=!1,i=0,o=t;i<o.length;i++){var a=o[i];a.name&&a.collapseByDefault&&!n.hasOwnProperty(a.name)&&(n[a.name]=!0,r=!0)}r&&this.setState({isGroupCollapsed:n})},t.prototype.render=function(){var e=this.props,t=e.styles,n=e.groups,r=e.className,i=e.isOnTop,o=e.theme;if(!n)return null;var s=n.map(this._renderGroup),l=y(t,{theme:o,className:r,isOnTop:i,groups:n});return a.createElement(u.a,{direction:h.a.vertical},a.createElement("nav",{role:"navigation",className:l.root,"aria-label":this.props.ariaLabel},s))},Object.defineProperty(t.prototype,"selectedKey",{get:function(){return this.state.selectedKey},enumerable:!0,configurable:!0}),t.prototype._renderNavLink=function(e,t,n){var r=this.props,i=r.styles,o=r.groups,s=r.theme,l=r.onRenderLink,c=void 0===l?this._onRenderLink:l,u=r.linkAs,h=void 0===u?d.a:u,p=y(i,{theme:s,isSelected:this._isLinkSelected(e),isButtonEntry:e.onClick&&!e.forceAnchor,leftPadding:14*n+3,groups:o}),f=e.url&&e.target&&!v(e.url)?"noopener noreferrer":void 0;return a.createElement(h,{className:p.link,styles:g,href:e.url||(e.forceAnchor?"javascript:":void 0),iconProps:e.iconProps||{iconName:e.icon||""},onClick:e.onClick?this._onNavButtonLinkClicked.bind(this,e):this._onNavAnchorLinkClicked.bind(this,e),title:e.title||e.name,target:e.target,rel:f,"aria-label":e.ariaLabel},c(e,this._onRenderLink))},t.prototype._renderCompositeLink=function(e,t,n){var r=o.a({},Object(l.d)(e,l.c,["onClick"])),i=this.props,s=i.styles,c=i.groups,u=i.theme,h=y(s,{theme:u,isExpanded:!!e.isExpanded,isSelected:this._isLinkSelected(e),isLink:!0,position:14*n+1,groups:c});return a.createElement("div",o.a({},r,{key:e.key||t,className:h.compositeLink}),e.links&&e.links.length>0?a.createElement("button",{className:h.chevronButton,onClick:this._onLinkExpandClicked.bind(this,e),"aria-label":this.props.expandButtonAriaLabel,"aria-expanded":e.isExpanded?"true":"false"},a.createElement(p.a,{className:h.chevronIcon,iconName:"ChevronDown"})):null,this._renderNavLink(e,t,n))},t.prototype._renderLink=function(e,t,n){var r=this.props,i=r.styles,o=r.groups,s=r.theme,l=y(i,{theme:s,groups:o});return a.createElement("li",{key:e.key||t,role:"listitem",className:l.navItem},this._renderCompositeLink(e,t,n),e.isExpanded?this._renderLinks(e.links,++n):null)},t.prototype._renderLinks=function(e,t){var n=this;if(!e||!e.length)return null;var r=e.map(function(e,r){return n._renderLink(e,r,t)}),i=this.props,o=i.styles,s=i.groups,l=i.theme,c=y(o,{theme:l,groups:s});return a.createElement("ul",{role:"list",className:c.navItems},r)},t.prototype._onGroupHeaderClicked=function(e,t){var n=this.state.isGroupCollapsed,r=e.name,i=!n[r];e.onHeaderClick&&e.onHeaderClick(t,i),n[r]=i,this.setState({isGroupCollapsed:n}),t.preventDefault(),t.stopPropagation()},t.prototype._onLinkExpandClicked=function(e,t){var n=this.props.onLinkExpandClick;n&&n(t,e),t.defaultPrevented||(e.isExpanded=!e.isExpanded,this.setState({isLinkExpandStateChanged:!0})),t.preventDefault(),t.stopPropagation()},t.prototype._onNavAnchorLinkClicked=function(e,t){this.props.onLinkClick&&this.props.onLinkClick(t,e),!e.url&&e.links&&e.links.length>0&&this._onLinkExpandClicked(e,t),this.setState({selectedKey:e.key})},t.prototype._onNavButtonLinkClicked=function(e,t){e.onClick&&e.onClick(t,e),!e.url&&e.links&&e.links.length>0&&this._onLinkExpandClicked(e,t),this.setState({selectedKey:e.key})},t.prototype._isLinkSelected=function(e){if(void 0!==this.props.selectedKey)return e.key===this.props.selectedKey;if(void 0!==this.state.selectedKey&&e.key===this.state.selectedKey)return!0;if("undefined"==typeof window)return!1;if(!e.url)return!1;(r=r||document.createElement("a")).href=e.url||"";var t=r.href;return location.href===t||(location.protocol+"//"+location.host+location.pathname===t||!!location.hash&&(location.hash===e.url||(r.href=location.hash.substring(1),r.href===t)))},t.defaultProps={groups:null},t}(c.a),x=Object(i.a)(b,function(e){var t=e.className,n=e.theme,r=e.isOnTop,i=e.isExpanded,o=e.isGroup,a=e.isLink,s=e.isSelected,l=e.isButtonEntry,c=e.navHeight,u=void 0===c?36:c,h=e.position,d=e.leftPadding,p=void 0===d?20:d,g=e.leftPaddingExpanded,v=void 0===g?28:g,y=e.rightPadding,b=void 0===y?20:y,x=n.palette,_=n.semanticColors,w=Object(f.l)(m,n);return{root:[w.root,t,n.fonts.medium,{overflowY:"auto",userSelect:"none",WebkitOverflowScrolling:"touch"},r&&[{position:"absolute"},f.a.slideRightIn40]],linkText:[w.linkText,{margin:"0 4px",overflow:"hidden",verticalAlign:"middle",textOverflow:"ellipsis"}],compositeLink:[w.compositeLink,{display:"block",position:"relative",color:_.bodyText,backgroundColor:_.bodyBackground},i&&"is-expanded",s&&"is-selected"],link:[w.link,Object(f.k)(n),{display:"block",position:"relative",height:u+"px",width:"100%",lineHeight:u+"px",textDecoration:"none",cursor:"pointer",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",paddingLeft:p,paddingRight:b,selectors:{".ms-Nav-compositeLink:hover &":{backgroundColor:x.neutralLighterAlt,color:_.bodyText}}},s&&{color:x.themePrimary,backgroundColor:x.neutralLighter,selectors:{"&:after":{borderLeft:"2px solid "+x.themePrimary,content:'""',position:"absolute",top:0,right:0,bottom:0,left:0}}},l&&{color:x.themePrimary}],chevronButton:[w.chevronButton,Object(f.k)(n),{display:"block",fontWeight:f.e.regular,fontSize:f.d.small,textAlign:"left",lineHeight:u+"px",margin:"5px 0",padding:"0px, "+b+"px, 0px, "+v+"px",border:"none",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",cursor:"pointer",color:_.bodyText,backgroundColor:"transparent",selectors:{"&:visited":{color:"inherit"},"&:hover":{color:_.bodyText,backgroundColor:x.neutralLighterAlt},"$compositeLink:hover &":{color:_.bodyText,backgroundColor:x.neutralLighterAlt}}},o&&[{width:"100%",height:u+"px",borderBottom:"1px solid "+_.bodyDivider},f.c.large],a&&[{display:"block",width:v-2+"px",height:u-2+"px",position:"absolute",top:"1px",left:h+"px",zIndex:f.h.Nav,padding:0,margin:0}],s&&{color:x.themePrimary,backgroundColor:x.neutralLighterAlt,selectors:{"&:after":{borderLeft:"2px solid "+x.themePrimary,content:'""',position:"absolute",top:0,right:0,bottom:0,left:0}}}],chevronIcon:[w.chevronIcon,{position:"absolute",left:"8px",height:u+"px",lineHeight:u+"px",fontSize:"12px",transition:"transform .1s linear"},i&&{transform:"rotate(-180deg)"},a&&{top:0}],navItem:[w.navItem,{padding:0}],navItems:[w.navItems,{listStyleType:"none",padding:0}],group:[w.group,i&&"is-expanded"],groupContent:[w.groupContent,{display:"none",marginBottom:"40px"},f.a.slideDownIn20,i&&{display:"block"}]}},void 0,{scope:"Nav"});n.d(t,"Nav",function(){return x}),n.d(t,"isRelativeUrl",function(){return v}),n.d(t,"NavBase",function(){return b})},function(e,t,n){"use strict";n.r(t);var r=n(133),i=n(1),o=n(0),a=n(96),s=n(146),l=n(24),c=n(58),u=n(34),h=n(88),d=n(136),p=Object(a.a)(),f=function(e){function t(t){var n=e.call(this,t)||this;return n._toggleButton=Object(s.a)(),n._onClick=function(e){var t=n.props,r=t.disabled,i=t.checked,o=t.onChange,a=t.onChanged,s=t.onClick,l=n.state.checked;r||(void 0===i&&n.setState({checked:!l}),o&&o(e,!l),a&&a(!l),s&&s(e))},n._warnMutuallyExclusive({checked:"defaultChecked"}),n._warnDeprecations({onAriaLabel:"ariaLabel",offAriaLabel:void 0,onChanged:"onChange"}),n.state={checked:!(!t.checked&&!t.defaultChecked)},n._id=t.id||Object(l.c)("Toggle"),n}return i.c(t,e),Object.defineProperty(t.prototype,"checked",{get:function(){return this.state.checked},enumerable:!0,configurable:!0}),t.prototype.componentWillReceiveProps=function(e){void 0!==e.checked&&this.setState({checked:!!e.checked})},t.prototype.render=function(){var e=this,t=this.props,n=t.as,r=void 0===n?"div":n,a=t.className,s=t.theme,l=t.disabled,u=t.keytipProps,f=t.label,m=t.ariaLabel,g=t.onAriaLabel,v=t.offAriaLabel,y=t.offText,b=t.onText,x=t.styles,_=this.state.checked,w=_?b:y,M=_?g:v,S=Object(c.d)(this.props,c.g,["defaultChecked"]),C=p(x,{theme:s,className:a,disabled:l,checked:_});return o.createElement(r,{className:C.root},f&&o.createElement(h.a,{htmlFor:this._id,className:C.label},f),o.createElement("div",{className:C.container},o.createElement(d.a,{keytipProps:u,ariaDescribedBy:S["aria-describedby"],disabled:l},function(t){return o.createElement("button",i.a({},S,t,{className:C.pill,disabled:l,id:e._id,type:"button",role:"switch",ref:e._toggleButton,"aria-disabled":l,"aria-checked":_,"aria-label":m||M,"data-is-focusable":!0,onChange:e._noop,onClick:e._onClick}),o.createElement("div",{className:C.thumb}))}),w&&o.createElement(h.a,{className:C.text},w)))},t.prototype.focus=function(){this._toggleButton.current&&this._toggleButton.current.focus()},t.prototype._noop=function(){},t}(u.a),m=n(3),g=Object(r.a)(f,function(e){var t,n,r,i,o,a,s,l=e.theme,c=e.className,u=e.disabled,h=e.checked,d=l.semanticColors,p=d.bodyBackground,f=d.inputBackgroundChecked,g=d.inputBackgroundCheckedHovered,v=d.disabledBodySubtext,y=d.inputBorderHovered,b=d.inputForegroundChecked,x=d.disabledBodySubtext,_=d.disabledBackground,w=d.smallInputBorder,M=d.inputBorderHovered,S=d.disabledBodySubtext,C=d.disabledText;return{root:["ms-Toggle",h&&"is-checked",!u&&"is-enabled",u&&"is-disabled",l.fonts.medium,{marginBottom:"8px"},c],label:["ms-Toggle-label",u&&{color:C,selectors:(t={},t[m.f]={color:"GrayText"},t)}],container:["ms-Toggle-innerContainer",{display:"inline-flex",position:"relative"}],pill:["ms-Toggle-background",Object(m.k)(l,-3),{fontSize:"20px",boxSizing:"border-box",width:"2.2em",height:"1em",borderRadius:"1em",transition:"all 0.1s ease",borderWidth:"1px",borderStyle:"solid",background:p,borderColor:w,cursor:"pointer",display:"flex",alignItems:"center",padding:"0 .2em"},!u&&[!h&&{selectors:{":hover":[{borderColor:M}],":hover .ms-Toggle-thumb":[{selectors:(n={},n[m.f]={borderColor:"Highlight"},n)}]}},h&&[{background:f,borderColor:"transparent",justifyContent:"flex-end"},{selectors:(r={":hover":[{backgroundColor:g,borderColor:"transparent",selectors:(i={},i[m.f]={backgroundColor:"Highlight"},i)}]},r[m.f]={backgroundColor:"WindowText"},r)}]],u&&[{cursor:"default"},!h&&[{borderColor:S}],h&&[{backgroundColor:v,borderColor:"transparent",justifyContent:"flex-end"}]],!u&&{selectors:{"&:hover":{selectors:(o={},o[m.f]={borderColor:"Highlight"},o)}}}],thumb:["ms-Toggle-thumb",{width:".5em",height:".5em",borderRadius:".5em",transition:"all 0.1s ease",backgroundColor:y,borderColor:"transparent",borderWidth:".28em",borderStyle:"solid",boxSizing:"border-box"},!u&&h&&[{backgroundColor:b,selectors:(a={},a[m.f]={backgroundColor:"Window",borderColor:"Window"},a)}],u&&[!h&&[{backgroundColor:x}],h&&[{backgroundColor:_}]]],text:["ms-Toggle-stateText",{selectors:{"&&":{padding:"0",margin:"0 10px",userSelect:"none"}}},u&&{selectors:{"&&":{color:C,selectors:(s={},s[m.f]={color:"GrayText"},s)}}}]}},void 0,{scope:"Toggle"});n.d(t,"Toggle",function(){return g}),n.d(t,"ToggleBase",function(){return f})},function(e,t,n){"use strict";n.r(t);var r,i=n(133),o=n(1),a=n(0),s=n(35),l=n(7),c=n(24),u=n(135),h=n(34),d=n(96),p=n(58),f=n(88);!function(e){e[e.Previous=0]="Previous",e[e.Next=1]="Next"}(r||(r={}));var m=Object(d.a)(),g=function(e){function t(t){var n=e.call(this,t)||this;n._sliderLine=a.createRef(),n._thumb=a.createRef(),n._getAriaValueText=function(e){if(n.props.ariaValueText&&void 0!==e)return n.props.ariaValueText(e)},n._onMouseDownOrTouchStart=function(e){"mousedown"===e.type?(n._events.on(window,"mousemove",n._onMouseMoveOrTouchMove,!0),n._events.on(window,"mouseup",n._onMouseUpOrTouchEnd,!0)):"touchstart"===e.type&&(n._events.on(window,"touchmove",n._onMouseMoveOrTouchMove,!0),n._events.on(window,"touchend",n._onMouseUpOrTouchEnd,!0)),n._onMouseMoveOrTouchMove(e,!0)},n._onMouseMoveOrTouchMove=function(e,t){if(n._sliderLine.current){var r,i,o,a=n.props,l=a.max,c=a.min,u=a.step,h=(l-c)/u,d=n._sliderLine.current.getBoundingClientRect(),p=(n.props.vertical?d.height:d.width)/h;if(n.props.vertical){var f=n._getPosition(e,n.props.vertical);r=(d.bottom-f)/p}else{var m=n._getPosition(e,n.props.vertical);r=(Object(s.a)()?d.right-m:m-d.left)/p}r>Math.floor(h)?o=i=l:r<0?o=i=c:(o=c+u*r,i=c+u*Math.round(r)),n._updateValue(i,o),t||(e.preventDefault(),e.stopPropagation())}},n._onMouseUpOrTouchEnd=function(e){n.setState({renderedValue:n.state.value}),n.props.onChanged&&n.props.onChanged(e,n.state.value),n._events.off()},n._onKeyDown=function(e){var t=n.state.value,r=n.props,i=r.max,o=r.min,a=r.step,c=0;switch(e.which){case Object(s.b)(l.a.left):case l.a.down:c=-a;break;case Object(s.b)(l.a.right):case l.a.up:c=a;break;case l.a.home:t=o;break;case l.a.end:t=i;break;default:return}var u=Math.min(i,Math.max(o,t+c));n._updateValue(u,u),e.preventDefault(),e.stopPropagation()},n._warnMutuallyExclusive({value:"defaultValue"}),n._id=Object(c.c)("Slider");var r=void 0!==t.value?t.value:void 0!==t.defaultValue?t.defaultValue:t.min;return n.state={value:r,renderedValue:r},n}return o.c(t,e),t.prototype.componentWillReceiveProps=function(e){if(void 0!==e.value){var t=Math.max(e.min,Math.min(e.max,e.value));this.setState({value:t,renderedValue:t})}},t.prototype.render=function(){var e,t,n=this.props,r=n.ariaLabel,i=n.className,s=n.disabled,l=n.label,c=n.max,h=n.min,d=n.showValue,g=n.buttonProps,v=n.vertical,y=n.styles,b=n.theme,x=this.state,_=x.value,w=x.renderedValue,M=h===c?0:(w-h)/(c-h)*100,S=v?"height":"width",C=s?{}:{onMouseDown:this._onMouseDownOrTouchStart},E=s?{}:{onTouchStart:this._onMouseDownOrTouchStart},T=s?{}:{onKeyDown:this._onKeyDown},L=m(y,{className:i,disabled:s,vertical:v,showTransitions:w===_,showValue:d,theme:b}),P=g?Object(p.d)(g,p.c):void 0;return a.createElement("div",{className:L.root},l&&a.createElement(f.a,o.a({className:L.titleLabel},r?{}:{htmlFor:this._id}),l),a.createElement("div",{className:L.container},a.createElement("div",o.a({"aria-valuenow":_,"aria-valuemin":h,"aria-valuemax":c,"aria-valuetext":this._getAriaValueText(_),"aria-label":r||l,"aria-disabled":s},C,E,T,P,{className:Object(u.a)(L.slideBox,g.className),id:this._id,role:"slider",tabIndex:s?void 0:0,"data-is-focusable":!s}),a.createElement("div",{ref:this._sliderLine,className:L.line},a.createElement("span",{ref:this._thumb,className:L.thumb,style:this._getThumbStyle(v,M)}),a.createElement("span",{className:Object(u.a)(L.lineContainer,L.activeSection),style:(e={},e[S]=M+"%",e)}),a.createElement("span",{className:Object(u.a)(L.lineContainer,L.inactiveSection),style:(t={},t[S]=100-M+"%",t)}))),d&&a.createElement(f.a,{className:L.valueLabel},_)))},t.prototype.focus=function(){this._thumb.current&&this._thumb.current.focus()},Object.defineProperty(t.prototype,"value",{get:function(){return this.state.value},enumerable:!0,configurable:!0}),t.prototype._getThumbStyle=function(e,t){var n;return(n={})[e?"bottom":Object(s.a)()?"right":"left"]=t+"%",n},t.prototype._getPosition=function(e,t){var n;switch(e.type){case"mousedown":case"mousemove":n=t?e.clientY:e.clientX;break;case"touchstart":case"touchmove":n=t?e.touches[0].clientY:e.touches[0].clientX}return n},t.prototype._updateValue=function(e,t){var n=this,r=this.props.step,i=0;if(isFinite(r))for(;Math.round(r*Math.pow(10,i))/Math.pow(10,i)!==r;)i++;var o=parseFloat(e.toFixed(i)),a=o!==this.state.value;this.setState({value:o,renderedValue:t},function(){a&&n.props.onChange&&n.props.onChange(n.state.value)})},t.defaultProps={step:1,min:0,max:10,showValue:!0,disabled:!1,vertical:!1,buttonProps:{}},t}(h.a),v=n(3),y={root:"ms-Slider",enabled:"ms-Slider-enabled",disabled:"ms-Slider-disabled",row:"ms-Slider-row",column:"ms-Slider-column",container:"ms-Slider-container",slideBox:"ms-Slider-slideBox",line:"ms-Slider-line",thumb:"ms-Slider-thumb",activeSection:"ms-Slider-active",inactiveSection:"ms-Slider-inactive",valueLabel:"ms-Slider-value",showValue:"ms-Slider-showValue",showTransitions:"ms-Slider-showTransitions"},b=Object(i.a)(g,function(e){var t,n,r,i,o,a,l,c,u=e.className,h=e.titleLabelClassName,d=e.theme,p=Object(v.l)(y,d),f=!e.disabled&&{backgroundColor:d.palette.themePrimary,selectors:(t={},t[v.f]={backgroundColor:"Highlight"},t)},m=!e.disabled&&{backgroundColor:d.palette.themeLight,selectors:(n={},n[v.f]={borderColor:"Highlight"},n)},g=!e.disabled&&{border:"2px solid "+d.palette.themePrimary,selectors:(r={},r[v.f]={borderColor:"Highlight"},r)};return{root:[p.root,d.fonts.medium,{userSelect:"none"},e.vertical&&{marginRight:8}].concat([e.disabled?void 0:p.enabled],[e.disabled?p.disabled:void 0],[e.vertical?void 0:p.row],[e.vertical?p.column:void 0],[u]),titleLabel:[{padding:0},h],container:[p.container,{display:"flex",flexWrap:"nowrap",alignItems:"center"},e.vertical&&{flexDirection:"column",height:"100%",textAlign:"center",margin:"8px 0"}],slideBox:[p.slideBox,Object(v.k)(d),{background:"transparent",border:"none",flexGrow:1,lineHeight:28,display:"flex",alignItems:"center",selectors:{":active $activeSection":f,":hover $activeSection":f,":active $inactiveSection":m,":hover $inactiveSection":m,":active $thumb":g,":hover $thumb":g,$thumb:[{borderWidth:2,borderStyle:"solid",borderColor:d.palette.neutralSecondary,borderRadius:10,boxSizing:"border-box",background:d.palette.white,display:"block",width:16,height:16,position:"absolute"},e.vertical?{left:-6,margin:"0 auto",transform:"translateY(8px)"}:{top:-6,transform:Object(s.a)()?"translateX(50%)":"translateX(-50%)"},e.showTransitions&&{transition:"left "+v.b.durationValue3+" "+v.b.easeFunction1},e.disabled&&{borderColor:d.palette.neutralTertiaryAlt,selectors:(i={},i[v.f]={borderColor:"GrayText"},i)}]}},e.vertical?{height:"100%",width:28,padding:"8px 0"}:{height:28,width:"auto",padding:"0 8px"}].concat([e.showValue?p.showValue:void 0],[e.showTransitions?p.showTransitions:void 0]),thumb:[p.thumb],line:[p.line,{display:"flex",position:"relative",selectors:{$lineContainer:[{borderRadius:4,boxSizing:"border-box"},e.vertical?{width:4,height:"100%"}:{height:4,width:"100%"}]}},e.vertical?{height:"100%",width:4,margin:"0 auto",flexDirection:"column-reverse"}:{width:"100%"}],lineContainer:[{}],activeSection:[p.activeSection,{background:d.palette.neutralSecondary,selectors:(o={},o[v.f]={backgroundColor:"WindowText"},o)},e.showTransitions&&{transition:"width "+v.b.durationValue3+" "+v.b.easeFunction1},e.disabled&&{background:d.palette.neutralTertiaryAlt,selectors:(a={},a[v.f]={backgroundColor:"GrayText",borderColor:"GrayText"},a)}],inactiveSection:[p.inactiveSection,{background:d.palette.neutralTertiaryAlt,selectors:(l={},l[v.f]={border:"1px solid WindowText"},l)},e.showTransitions&&{transition:"width "+v.b.durationValue3+" "+v.b.easeFunction1},e.disabled&&{background:d.palette.neutralLight,selectors:(c={},c[v.f]={backgroundColor:"GrayText",borderColor:"GrayText"},c)}],valueLabel:[p.valueLabel,{flexShrink:1,width:30,lineHeight:"1"},e.vertical?{margin:"0 auto",whiteSpace:"nowrap",width:40}:{margin:"0 8px",whiteSpace:"nowrap",width:40}]}},void 0,{scope:"Slider"});n.d(t,"Slider",function(){return b}),n.d(t,"ValuePosition",function(){return r}),n.d(t,"SliderBase",function(){return g})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),i=n(0),o=n(32),a=n(18),s=n(54),l=["theme","styles"];function c(e,t,n,c){var u=(c=c||{scope:"",fields:void 0}).scope,h=c.fields,d=void 0===h?l:h;return function(l){function c(){var e=null!==l&&l.apply(this,arguments)||this;return e._inCustomizerContext=!1,e._onSettingsChanged=function(){return e.forceUpdate()},e}return r.c(c,l),c.prototype.render=function(){var l=this;return i.createElement(s.a.Consumer,null,function(s){l._inCustomizerContext=!!s.customizations.inCustomizerContext;var c=a.a.getSettings(d,u,s.customizations),h=c.styles,p=r.d(c,["styles"]),f=n?n(l.props):void 0;return i.createElement(e,r.a({},p,f,l.props,{styles:function(e){return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=[],i=0,a=t;i<a.length;i++){var s=a[i];s&&r.push("function"==typeof s?s(e):s)}if(r.length)return o.a.apply(void 0,r)}(e,t,h,l.props.styles)}}))})},c.prototype.componentDidMount=function(){this._inCustomizerContext||a.a.observe(this._onSettingsChanged)},c.prototype.componentWillUnmount=function(){this._inCustomizerContext||a.a.unobserve(this._onSettingsChanged)},c.displayName="Styled"+(e.displayName||e.name),c}(i.Component)}},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(function(e){return null!=e}).join("");return""===n?void 0:n}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];if(o)if("string"==typeof o)n.push(o);else if(o.hasOwnProperty("toString")&&"function"==typeof o.toString)n.push(o.toString());else for(var a in o)o[a]&&n.push(a)}return n.join(" ")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(1),i=n(134),o=n(34),a=n(55),s=n(12),l=n(59);function c(e){return e.reduce(function(e,t){return e+s.e+t.split("").join(s.e)},s.d)}n.d(t,"a",function(){return u});var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._keytipManager=a.a.getInstance(),t}return r.c(t,e),t.prototype.componentDidMount=function(){this.props.keytipProps&&(this._uniqueId=this._keytipManager.register(this._getKtpProps()))},t.prototype.componentWillUnmount=function(){this.props.keytipProps&&this._keytipManager.unregister(this._getKtpProps(),this._uniqueId)},t.prototype.componentDidUpdate=function(){this.props.keytipProps&&this._keytipManager.update(this._getKtpProps(),this._uniqueId)},t.prototype.render=function(){var e=this.props,t=e.children,n=e.keytipProps,r=e.ariaDescribedBy,i={};return n&&(i=this._getKtpAttrs(n,r)),t(i)},t.prototype._getKtpProps=function(){return r.a({disabled:this.props.disabled},this.props.keytipProps)},t.prototype._getKtpAttrs=function(e,t){if(e){var n=this._keytipManager.addParentOverflow(e),r=function(e){var t=" "+s.c;return e.length?t+" "+c(e):t}(n.keySequences),o=n.keySequences.slice();n.overflowSetSequence&&(o=function(e,t){var n=t.length,r=t.slice().pop(),i=e.slice();return Object(l.a)(i,n-1,r)}(o,n.overflowSetSequence));var a=c(o);return{"aria-describedby":Object(i.a)(t,r),"data-ktp-target":a,"data-ktp-execute-target":a}}},t}(o.a)},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r={};function i(e,t){if("undefined"!=typeof window){var n=window.__packages__=window.__packages__||{};if(!n[e]||!r[e])r[e]=t,(n[e]=n[e]||[]).push(t)}}},function(e,t,n){"use strict";function r(){var e=function(t){e.current=t};return Object.defineProperty(e,"value",{get:function(){return e.current}}),e.current=null,e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return h});n(6);var r,i,o,a,s,l=n(68),c=(Object(l.a)({overflow:"hidden !important"}),"data-is-scrollable");i=0,o=null,a=function(e){1===e.targetTouches.length&&(i=e.targetTouches[0].clientY)},s=function(e){if(1===e.targetTouches.length&&(e.stopPropagation(),o)){var t=e.targetTouches[0].clientY-i;0===o.scrollTop&&t>0&&e.preventDefault(),o.scrollHeight-o.scrollTop<=o.clientHeight&&t<0&&e.preventDefault()}};function u(){if(void 0===r){var e=document.createElement("div");e.style.setProperty("width","100px"),e.style.setProperty("height","100px"),e.style.setProperty("overflow","scroll"),e.style.setProperty("position","absolute"),e.style.setProperty("top","-9999px"),document.body.appendChild(e),r=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return r}function h(e){for(var t=e;t&&t!==document.body;){if("true"===t.getAttribute(c))return t;t=t.parentElement}for(t=e;t&&t!==document.body;){if("false"!==t.getAttribute(c)){var n=getComputedStyle(t),r=n?n.getPropertyValue("overflow-y"):"";if(r&&("scroll"===r||"auto"===r))return t}t=t.parentElement}return t&&t!==document.body||(t=window),t}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),i=n(0),o=n(18),a=n(95),s=n(54),l=n(32);function c(e,t,n){return function(c){var u,h=((u=function(a){function u(e){var t=a.call(this,e)||this;return t._onSettingChanged=t._onSettingChanged.bind(t),t}return r.c(u,a),u.prototype.componentDidMount=function(){o.a.observe(this._onSettingChanged)},u.prototype.componentWillUnmount=function(){o.a.unobserve(this._onSettingChanged)},u.prototype.render=function(){var a=this;return i.createElement(s.a.Consumer,null,function(s){var u=o.a.getSettings(t,e,s.customizations),h=a.props;if(n){var d=Object(l.a)(u.styles,h.styles);return i.createElement(c,r.a({},u,h,{styles:d}))}return i.createElement(c,r.a({},u,h))})},u.prototype._onSettingChanged=function(){this.forceUpdate()},u}(i.Component)).displayName="Customized"+e,u);return Object(a.a)(c,h)}}},function(e,t,n){"use strict";var r;function i(e){if(void 0===r||e){var t="undefined"!=typeof window&&window.navigator.userAgent;r=!!t&&-1!==t.indexOf("Macintosh")}return!!r}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){return!!(window&&window.navigator&&window.navigator.userAgent)&&/iPad|iPhone|iPod/i.test(window.navigator.userAgent)}},function(e,t,n){"use strict";var r,i,o=n(1),a=n(0),s=n(34),l=n(133),c=n(5),u=n(9),h=n(58),d=n(135),p=n(6),f=n(24);!function(e){e[e.top=1]="top",e[e.bottom=-1]="bottom",e[e.left=2]="left",e[e.right=-2]="right"}(r||(r={})),function(e){e[e.top=0]="top",e[e.bottom=1]="bottom",e[e.start=2]="start",e[e.end=3]="end"}(i||(i={}));var m=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.top=n,this.bottom=r,this.left=e,this.right=t}return Object.defineProperty(e.prototype,"width",{get:function(){return this.right-this.left},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!0,configurable:!0}),e.prototype.equals=function(e){return parseFloat(this.top.toFixed(4))===parseFloat(e.top.toFixed(4))&&parseFloat(this.bottom.toFixed(4))===parseFloat(e.bottom.toFixed(4))&&parseFloat(this.left.toFixed(4))===parseFloat(e.left.toFixed(4))&&parseFloat(this.right.toFixed(4))===parseFloat(e.right.toFixed(4))},e}(),g=n(35),v=n(147),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),t}(m);function b(e,t,n){return{targetEdge:e,alignmentEdge:t,isAuto:n}}var x=((K={})[c.a.topLeftEdge]=b(r.top,r.left),K[c.a.topCenter]=b(r.top),K[c.a.topRightEdge]=b(r.top,r.right),K[c.a.topAutoEdge]=b(r.top,void 0,!0),K[c.a.bottomLeftEdge]=b(r.bottom,r.left),K[c.a.bottomCenter]=b(r.bottom),K[c.a.bottomRightEdge]=b(r.bottom,r.right),K[c.a.bottomAutoEdge]=b(r.bottom,void 0,!0),K[c.a.leftTopEdge]=b(r.left,r.top),K[c.a.leftCenter]=b(r.left),K[c.a.leftBottomEdge]=b(r.left,r.bottom),K[c.a.rightTopEdge]=b(r.right,r.top),K[c.a.rightCenter]=b(r.right),K[c.a.rightBottomEdge]=b(r.right,r.bottom),K);function _(e,t){return!(e.top<t.top)&&(!(e.bottom>t.bottom)&&(!(e.left<t.left)&&!(e.right>t.right)))}function w(e,t){var n=new Array;return e.top<t.top&&n.push(r.top),e.bottom>t.bottom&&n.push(r.bottom),e.left<t.left&&n.push(r.left),e.right>t.right&&n.push(r.right),n}function M(e,t){return e[r[t]]}function S(e,t,n){return e[r[t]]=n,e}function C(e,t){var n=D(t);return(M(e,n.positiveEdge)+M(e,n.negativeEdge))/2}function E(e,t){return e>0?t:-1*t}function T(e,t){return E(e,M(t,e))}function L(e,t,n){return E(n,M(e,n)-M(t,n))}function P(e,t,n){var r=M(e,t)-n;return e=S(e,t,n),e=S(e,-1*t,M(e,-1*t)-r)}function k(e,t,n,r){return void 0===r&&(r=0),P(e,n,M(t,n)+E(n,r))}function A(e,t,n){return T(n,e)>T(n,t)}function I(e,t,n,i,o,a,s){void 0===o&&(o=0);var l=i.alignmentEdge,c=i.alignTargetEdge,u={elementRectangle:e,targetEdge:i.targetEdge,alignmentEdge:l};a||s||(u=function(e,t,n,i,o){void 0===o&&(o=0);for(var a=[r.left,r.right,r.bottom,r.top],s=e,l=i.targetEdge,c=i.alignmentEdge,u=0;u<4;u++){if(A(s,n,l))return{elementRectangle:s,targetEdge:l,alignmentEdge:c};a.splice(a.indexOf(l),1),a.indexOf(-1*l)>-1?l*=-1:(c=l,l=a.slice(-1)[0]),s=R(e,t,{targetEdge:l,alignmentEdge:c},o)}return{elementRectangle:e,targetEdge:i.targetEdge,alignmentEdge:c}}(e,t,n,i,o));var h=w(e,n);if(c){if(u.alignmentEdge&&h.indexOf(-1*u.alignmentEdge)>-1){var d=function(e,t,n,r){var i=e.alignmentEdge,o=e.targetEdge,a=-1*i;return{elementRectangle:R(e.elementRectangle,t,{targetEdge:o,alignmentEdge:a},n,r),targetEdge:o,alignmentEdge:a}}(u,t,o,s);if(_(d.elementRectangle,n))return d}}else for(var p=0,f=h;p<f.length;p++){var m=f[p];u.elementRectangle=k(u.elementRectangle,n,m)}return u}function O(e,t,n){var r=D(t).positiveEdge;return P(e,r,n-(C(e,t)-M(e,r)))}function R(e,t,n,r,i){var o;void 0===r&&(r=0);var a=n.alignmentEdge,s=n.targetEdge,l=i?s:-1*s;(o=i?k(e,t,s,r):function(e,t,n,r){void 0===r&&(r=0);var i=E(-1*n,r);return P(e,-1*n,M(t,n)+i)}(e,t,s,r),a)?o=k(o,t,a):o=O(o,l,C(t,s));return o}function D(e){return e===r.top||e===r.bottom?{positiveEdge:r.left,negativeEdge:r.right}:{positiveEdge:r.top,negativeEdge:r.bottom}}function N(e){return Math.sqrt(e*e*2)}function B(e,t,n){if(void 0===e&&(e=c.a.bottomAutoEdge),n)return{alignmentEdge:n.alignmentEdge,isAuto:n.isAuto,targetEdge:n.targetEdge};var r=o.a({},x[e]);return Object(g.a)()?(r.alignmentEdge&&r.alignmentEdge%2==0&&(r.alignmentEdge=-1*r.alignmentEdge),void 0!==t?x[t]:r):r}function F(e,t,n){var r=C(t,e),i=C(n,e),o=D(e),a=o.positiveEdge,s=o.negativeEdge;return r<=i?a:s}function j(e,t,n,r,i,o,a){var s=R(e,t,r,i,a);return _(s,n)?{elementRectangle:s,targetEdge:r.targetEdge,alignmentEdge:r.alignmentEdge}:I(e,t,n,r,i,o,a)}function H(e,t){var n=t.targetRectangle,r=D(t.targetEdge),i=r.positiveEdge,o=r.negativeEdge,a=C(n,t.targetEdge),s=new y(e/2,t.elementRectangle.width-e/2,e/2,t.elementRectangle.height-e/2),l=new y(0,e,0,e);return A(l=O(l=P(l,-1*t.targetEdge,-e/2),-1*t.targetEdge,a-T(i,t.elementRectangle)),s,i)?A(l,s,o)||(l=k(l,s,o)):l=k(l,s,i),l}function z(e){var t=e.getBoundingClientRect();return new y(t.left,t.right,t.top,t.bottom)}function U(e){return new y(e.left,e.right,e.top,e.bottom)}function G(e,t,n,i,o){var a=0,s=x[t],l=o?-1*s.targetEdge:s.targetEdge;return(a=l===r.top?M(e,s.targetEdge)-i.top-n:l===r.bottom?i.bottom-M(e,s.targetEdge)-n:i.bottom-e.top-n)>0?a:i.height}function V(e,t,n,i){var a=e.gapSpace?e.gapSpace:0,s=e.bounds?U(e.bounds):new y(0,window.innerWidth-Object(v.b)(),0,window.innerHeight),l=function(e,t){var n;if(t){if(t.preventDefault){var i=t;n=new y(i.clientX,i.clientX,i.clientY,i.clientY)}else if(t.getBoundingClientRect)n=z(t);else{var o=t;n=new y(o.x,o.x,o.y,o.y)}if(!_(n,e))for(var a=0,s=w(n,e);a<s.length;a++){var l=s[a];n[r[l]]=e[r[l]]}}else n=new y(0,0,0,0);return n}(s,e.target),c=function(e,t,n,r,i){return e.isAuto&&(e.alignmentEdge=F(e.targetEdge,t,n)),e.alignTargetEdge=i,e}(B(e.directionalHint,e.directionalHintForRTL,i),l,s,e.coverTarget,e.alignTargetEdge),u=j(z(n),l,s,c,a,e.directionalHintFixed,e.coverTarget);return o.a({},u,{targetRectangle:l})}function W(e,t,n){return{elementPosition:function(e,t,n,i,o){var a={},s=z(t),l=o?n:-1*n,c=r[l],u=i||D(n).positiveEdge;return a[c]=L(e,s,l),a[r[u]]=L(e,s,u),a}(e.elementRectangle,t,e.targetEdge,e.alignmentEdge,n),targetEdge:e.targetEdge,alignmentEdge:e.alignmentEdge}}function q(e,t,n,i){var a=e.isBeakVisible&&e.beakWidth||0,s=N(a)/2+(e.gapSpace?e.gapSpace:0),l=e;l.gapSpace=s;var c,u,h,d,p,f,m=V(l,0,n,i),g=H(a,m),v=(u=g,h=-1*(c=m).targetEdge,d=new y(0,c.elementRectangle.width,0,c.elementRectangle.height),p=c.alignmentEdge?c.alignmentEdge:D(h).positiveEdge,(f={})[r[h]]=M(u,h),f[r[p]]=L(u,d,p),{elementPosition:o.a({},f),closestEdge:F(c.targetEdge,u,d),targetEdge:h});return o.a({},W(m,t,e.coverTarget),{beakPosition:v})}var K;var X,Y=n(7),Z=function(e){function t(t){var n=e.call(this,t)||this;return n._root=a.createRef(),n._onKeyDown=function(e){switch(e.which){case Y.a.escape:n.props.onDismiss&&(n.props.onDismiss(e),e.preventDefault(),e.stopPropagation())}},n.state={needsVerticalScrollBar:!1},n}return o.c(t,e),t.prototype.componentWillMount=function(){this._originalFocusedElement=Object(p.d)().activeElement},t.prototype.componentDidMount=function(){this._root.current&&(this._events.on(this._root.current,"focus",this._onFocus,!0),this._events.on(this._root.current,"blur",this._onBlur,!0),Object(u.a)(this._root.current)&&(this._containsFocus=!0),this._updateScrollBarAsync())},t.prototype.componentDidUpdate=function(){this._updateScrollBarAsync()},t.prototype.componentWillUnmount=function(){this.props.shouldRestoreFocus&&this._originalFocusedElement&&this._containsFocus&&this._originalFocusedElement!==window&&this._originalFocusedElement&&this._originalFocusedElement.focus()},t.prototype.render=function(){var e=this.props,t=e.role,n=e.className,r=e.ariaLabel,i=e.ariaLabelledBy,s=e.ariaDescribedBy,l=e.style;return a.createElement("div",o.a({ref:this._root},Object(h.d)(this.props,h.c),{className:n,role:t,"aria-label":r,"aria-labelledby":i,"aria-describedby":s,onKeyDown:this._onKeyDown,style:o.a({overflowY:this.state.needsVerticalScrollBar?"scroll":void 0},l)}),this.props.children)},t.prototype._updateScrollBarAsync=function(){var e=this;this._async.requestAnimationFrame(function(){e._getScrollBar()})},t.prototype._getScrollBar=function(){if(!this.props.style||!this.props.style.overflowY){var e=!1;if(this._root&&this._root.current&&this._root.current.firstElementChild){var t=this._root.current.clientHeight,n=this._root.current.firstElementChild.clientHeight;t>0&&n>t&&(e=n-t>1)}this.state.needsVerticalScrollBar!==e&&this.setState({needsVerticalScrollBar:e})}},t.prototype._onFocus=function(){this._containsFocus=!0},t.prototype._onBlur=function(e){this._root.current&&this._root.current.contains(e.relatedTarget)&&(this._containsFocus=!1)},t.defaultProps={shouldRestoreFocus:!0},t}(s.a),J=n(96),Q=n(3),$=((X={})[r.top]=Q.a.slideUpIn10,X[r.bottom]=Q.a.slideDownIn10,X[r.left]=Q.a.slideLeftIn10,X[r.right]=Q.a.slideRightIn10,X),ee=Object(J.a)(),te=0,ne=0,re={opacity:0,filter:"opacity(0)"},ie=function(e){function t(t){var n=e.call(this,t)||this;return n._hostElement=a.createRef(),n._calloutElement=a.createRef(),n._hasListeners=!1,n.dismiss=function(e){var t=n.props.onDismiss;t&&t(e)},n._setInitialFocus=function(){n.props.setInitialFocus&&!n._didSetInitialFocus&&n.state.positions&&n._calloutElement.current&&(n._didSetInitialFocus=!0,n._async.requestAnimationFrame(function(){return Object(u.c)(n._calloutElement.current)}))},n._onComponentDidMount=function(){n._addListeners(),n.props.onLayerMounted&&n.props.onLayerMounted(),n._updateAsyncPosition(),n._setHeightOffsetEveryFrame()},n._didSetInitialFocus=!1,n.state={positions:void 0,slideDirectionalClassName:void 0,calloutElementRect:void 0,heightOffset:0},n._positionAttempts=0,n}return o.c(t,e),t.prototype.componentDidUpdate=function(){this._setInitialFocus(),this.props.hidden?this._hasListeners&&this._removeListeners():(this._hasListeners||this._addListeners(),this._updateAsyncPosition())},t.prototype.componentWillMount=function(){this._setTargetWindowAndElement(this._getTarget())},t.prototype.componentWillUpdate=function(e){var t=this._getTarget(e);(t!==this._getTarget()||"string"==typeof t||t instanceof String)&&(this._maxHeight=void 0,this._setTargetWindowAndElement(t)),e.gapSpace===this.props.gapSpace&&this.props.beakWidth===e.beakWidth||(this._maxHeight=void 0),e.finalHeight!==this.props.finalHeight&&this._setHeightOffsetEveryFrame(),e.hidden&&e.hidden!==this.props.hidden&&this.setState({positions:void 0})},t.prototype.componentDidMount=function(){this.props.hidden||this._onComponentDidMount()},t.prototype.render=function(){if(!this._targetWindow)return null;var e=this.props.target,t=this.props,n=t.styles,r=t.style,i=t.role,s=t.ariaLabel,l=t.ariaDescribedBy,c=t.ariaLabelledBy,u=t.className,p=t.isBeakVisible,f=t.children,m=t.beakWidth,g=t.calloutWidth,v=t.calloutMaxWidth,y=t.finalHeight,b=t.hideOverflow,x=void 0===b?!!y:b,_=t.backgroundColor,w=t.calloutMaxHeight,M=t.onScroll;e=this._getTarget();var S=this.state.positions,C=this._getMaxHeight()?this._getMaxHeight()+this.state.heightOffset:void 0,E=w&&C&&w<C?w:C,T=x,L=p&&!!e;this._classNames=ee(n,{theme:this.props.theme,className:u,overflowYHidden:T,calloutWidth:g,positions:S,beakWidth:m,backgroundColor:_,calloutMaxWidth:v});var P=o.a({},r,{maxHeight:E},T&&{overflowY:"hidden"}),k=this.props.hidden?{visibility:"hidden"}:void 0;return a.createElement("div",{ref:this._hostElement,className:this._classNames.container,style:k},a.createElement("div",o.a({},Object(h.d)(this.props,h.c),{className:Object(d.a)(this._classNames.root,S&&S.targetEdge&&$[S.targetEdge]),style:S?S.elementPosition:re,tabIndex:-1,ref:this._calloutElement}),L&&a.createElement("div",{className:this._classNames.beak,style:this._getBeakPosition()}),L&&a.createElement("div",{className:this._classNames.beakCurtain}),!this.props.hidden&&a.createElement(Z,{role:i,ariaLabel:s,ariaDescribedBy:l,ariaLabelledBy:c,className:this._classNames.calloutMain,onDismiss:this.dismiss,onScroll:M,shouldRestoreFocus:!0,style:P},f)))},t.prototype._dismissOnScroll=function(e){var t=this.props.preventDismissOnScroll;this.state.positions&&!t&&this._dismissOnLostFocus(e)},t.prototype._dismissOnLostFocus=function(e){var t=e.target,n=this._hostElement.current&&!Object(p.a)(this._hostElement.current,t);!this.props.preventDismissOnLostFocus&&(!this._target&&n||e.target!==this._targetWindow&&n&&(this._target.stopPropagation||!this._target||t!==this._target&&!Object(p.a)(this._target,t)))&&this.dismiss(e)},t.prototype._addListeners=function(){var e=this;this._async.setTimeout(function(){e._events.on(e._targetWindow,"scroll",e._dismissOnScroll,!0),e._events.on(e._targetWindow,"resize",e.dismiss,!0),e._events.on(e._targetWindow.document.documentElement,"focus",e._dismissOnLostFocus,!0),e._events.on(e._targetWindow.document.documentElement,"click",e._dismissOnLostFocus,!0),e._hasListeners=!0},0)},t.prototype._removeListeners=function(){this._events.off(this._targetWindow,"scroll",this._dismissOnScroll,!0),this._events.off(this._targetWindow,"resize",this.dismiss,!0),this._events.off(this._targetWindow.document.documentElement,"focus",this._dismissOnLostFocus,!0),this._events.off(this._targetWindow.document.documentElement,"click",this._dismissOnLostFocus,!0),this._hasListeners=!1},t.prototype._updateAsyncPosition=function(){var e=this;this._async.requestAnimationFrame(function(){return e._updatePosition()})},t.prototype._getBeakPosition=function(){var e=this.state.positions,t=o.a({},e&&e.beakPosition?e.beakPosition.elementPosition:null);return t.top||t.bottom||t.left||t.right||(t.left=ne,t.top=te),t},t.prototype._updatePosition=function(){this._setTargetWindowAndElement(this._getTarget());var e=this.state.positions,t=this._hostElement.current,n=this._calloutElement.current,r=!!this.props.target;if(t&&n&&(!r||this._target)){var i=void 0;(i=Object(f.a)(i,this.props)).bounds=this._getBounds(),i.target=this._target;var o=function(e,t,n,r){return q(e,t,n,r)}(i,t,n,e);!e&&o||e&&o&&!this._arePositionsEqual(e,o)&&this._positionAttempts<5?(this._positionAttempts++,this.setState({positions:o})):this._positionAttempts>0&&(this._positionAttempts=0,this.props.onPositioned&&this.props.onPositioned(this.state.positions))}},t.prototype._getBounds=function(){if(!this._bounds){var e=this.props.bounds;e||(e={top:0+this.props.minPagePadding,left:0+this.props.minPagePadding,right:this._targetWindow.innerWidth-this.props.minPagePadding,bottom:this._targetWindow.innerHeight-this.props.minPagePadding,width:this._targetWindow.innerWidth-2*this.props.minPagePadding,height:this._targetWindow.innerHeight-2*this.props.minPagePadding}),this._bounds=e}return this._bounds},t.prototype._getMaxHeight=function(){var e=this;if(!this._maxHeight)if(this.props.directionalHintFixed&&this._target){var t=this.props.isBeakVisible?this.props.beakWidth:0,n=(this.props.gapSpace?this.props.gapSpace:0)+t+2;this._async.requestAnimationFrame(function(){e._target&&(e._maxHeight=function(e,t,n,r,i){void 0===n&&(n=0);var o=e,a=e,s=e,l=r?U(r):new y(0,window.innerWidth-Object(v.b)(),0,window.innerHeight);return G(o.stopPropagation?new y(o.clientX,o.clientX,o.clientY,o.clientY):void 0!==s.x&&void 0!==s.y?new y(s.x,s.x,s.y,s.y):z(a),t,n,l,i)}(e._target,e.props.directionalHint,n,e._getBounds(),e.props.coverTarget),e.forceUpdate())})}else this._maxHeight=this._getBounds().height-2;return this._maxHeight},t.prototype._arePositionsEqual=function(e,t){return this._comparePositions(e.elementPosition,t.elementPosition)&&this._comparePositions(e.beakPosition.elementPosition,t.beakPosition.elementPosition)},t.prototype._comparePositions=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=e[n],i=t[n];if(void 0===r||void 0===i)return!1;if(r.toFixed(2)!==i.toFixed(2))return!1}return!0},t.prototype._setTargetWindowAndElement=function(e){if(e)if("string"==typeof e){var t=Object(p.d)();this._target=t?t.querySelector(e):null,this._targetWindow=Object(p.f)()}else if(e.stopPropagation)this._targetWindow=Object(p.f)(e.toElement),this._target=e;else if(e.getBoundingClientRect){var n=e;this._targetWindow=Object(p.f)(n),this._target=e}else this._targetWindow=Object(p.f)(),this._target=e;else this._targetWindow=Object(p.f)()},t.prototype._setHeightOffsetEveryFrame=function(){var e=this;this._calloutElement.current&&this.props.finalHeight&&(this._setHeightOffsetTimer=this._async.requestAnimationFrame(function(){var t=e._calloutElement.current&&e._calloutElement.current.lastChild;if(t){var n=t.scrollHeight-t.offsetHeight;e.setState({heightOffset:e.state.heightOffset+n}),t.offsetHeight<e.props.finalHeight?e._setHeightOffsetEveryFrame():e._async.cancelAnimationFrame(e._setHeightOffsetTimer)}}))},t.prototype._getTarget=function(e){return void 0===e&&(e=this.props),e.target},t.defaultProps={preventDismissOnLostFocus:!1,preventDismissOnScroll:!1,isBeakVisible:!0,beakWidth:16,gapSpace:0,minPagePadding:8,directionalHint:c.a.bottomAutoEdge},t}(s.a);var oe,ae={container:"ms-Callout-container",root:"ms-Callout",beak:"ms-Callout-beak",beakCurtain:"ms-Callout-beakCurtain",calloutMain:"ms-Callout-main"},se=Object(l.a)(ie,function(e){var t,n=e.theme,r=e.className,i=e.overflowYHidden,o=e.calloutWidth,a=e.beakWidth,s=e.backgroundColor,l=e.calloutMaxWidth,c=Object(Q.l)(ae,n),u=n.palette;return{container:[c.container,{position:"relative"}],root:[c.root,n.fonts.medium,{position:"absolute",boxSizing:"border-box",borderWidth:1,borderStyle:"solid",borderColor:u.neutralLight,boxShadow:"0 0 5px 0px rgba(0,0,0,0.4)",selectors:(t={},t[Q.f]={borderWidth:1,borderStyle:"solid",borderColor:"WindowText"},t)},Object(Q.j)(),r,!!o&&{width:o},!!l&&{maxWidth:l}],beak:[c.beak,{position:"absolute",backgroundColor:u.white,boxShadow:"inherit",border:"inherit",boxSizing:"border-box",transform:"rotate(45deg)"},function(e){return{height:e,width:e}}(a),s&&{backgroundColor:s}],beakCurtain:[c.beakCurtain,{position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:u.white}],calloutMain:[c.calloutMain,{backgroundColor:u.white,overflowX:"hidden",overflowY:"auto",position:"relative"},i&&{overflowY:"hidden"},s&&{backgroundColor:s}]}},void 0,{scope:"CalloutContent"}),le=n(67),ce=n(93),ue={fontFamily:"inherit"},he={root:"ms-Fabric"},de=function(e){var t=e.theme,n=e.className,r=e.isFocusVisible;return{root:[Object(Q.l)(he,t).root,r&&"is-focusVisible",t.fonts.medium,{color:t.palette.neutralPrimary,selectors:{"& button":ue,"& input":ue,"& textarea":ue,":global(button)":{overflow:"visible",margin:0}}},n]}},pe=Object(J.a)(),fe=function(e){function t(t){var n=e.call(this,t)||this;return n._rootElement=a.createRef(),n._onMouseDown=function(e){n.setState({isFocusVisible:!1})},n._onKeyDown=function(e){Object(ce.a)(e.which)&&n.setState({isFocusVisible:!0})},n.state={isFocusVisible:!1},n}return o.c(t,e),t.prototype.render=function(){var e=pe(de,o.a({},this.props,this.state)),t=Object(h.d)(this.props,h.c);return a.createElement("div",o.a({},t,{className:e.root,ref:this._rootElement}))},t.prototype.componentDidMount=function(){var e=Object(p.f)(this._rootElement.current);e&&(this._events.on(e,"mousedown",this._onMouseDown,!0),this._events.on(e,"keydown",this._onKeyDown,!0))},t}(s.a),me=Object(l.a)(fe,de,void 0,{scope:"Fabric"}),ge=n(146),ve=n(148),ye={};var be=Object(J.a)(),xe=function(e){function t(t){var n,r,i=e.call(this,t)||this;return i._rootElement=Object(ge.a)(),i._handleRootElementRef=function(e){i._rootElement(e),e&&i._setVirtualParent()},i._filterEvent=function(e){e.eventPhase===Event.BUBBLING_PHASE&&"mouseenter"!==e.type&&"mouseleave"!==e.type&&e.stopPropagation()},i.state={hasMounted:!1},i._warnDeprecations({onLayerMounted:"onLayerDidMount"}),i.props.hostId&&(n=i.props.hostId,r=i,ye[n]||(ye[n]=[]),ye[n].push(r)),i}return o.c(t,e),t.prototype.componentWillMount=function(){this._layerElement=this._getLayerElement()},t.prototype.componentWillUpdate=function(){this._layerElement||(this._layerElement=this._getLayerElement())},t.prototype.componentDidMount=function(){this.setState({hasMounted:!0}),this._setVirtualParent();var e=this.props,t=e.onLayerDidMount,n=e.onLayerMounted;n&&n(),t&&t()},t.prototype.componentWillUnmount=function(){this._removeLayerElement();var e=this.props,t=e.onLayerWillUnmount,n=e.hostId;t&&t(),n&&function(e,t){if(ye[e]){var n=ye[e].indexOf(t);n>=0&&(ye[e].splice(n,1),0===ye[e].length&&delete ye[e])}}(n,this)},t.prototype.componentDidUpdate=function(){this._setVirtualParent()},t.prototype.render=function(){var e=this._getClassNames(),t=this.props.eventBubblingEnabled,n=this.state.hasMounted;return a.createElement("span",{className:"ms-layer",ref:this._handleRootElementRef},this._layerElement&&n&&le.createPortal(t?a.createElement(me,{className:e.content},this.props.children):a.createElement(me,{className:e.content,onClick:this._filterEvent,onContextMenu:this._filterEvent,onDoubleClick:this._filterEvent,onDrag:this._filterEvent,onDragEnd:this._filterEvent,onDragEnter:this._filterEvent,onDragExit:this._filterEvent,onDragLeave:this._filterEvent,onDragOver:this._filterEvent,onDragStart:this._filterEvent,onDrop:this._filterEvent,onMouseDown:this._filterEvent,onMouseEnter:this._filterEvent,onMouseLeave:this._filterEvent,onMouseMove:this._filterEvent,onMouseOver:this._filterEvent,onMouseOut:this._filterEvent,onMouseUp:this._filterEvent,onKeyDown:this._filterEvent,onKeyPress:this._filterEvent,onKeyUp:this._filterEvent,onFocus:this._filterEvent,onBlur:this._filterEvent,onChange:this._filterEvent,onInput:this._filterEvent,onInvalid:this._filterEvent,onSubmit:this._filterEvent},this.props.children),this._layerElement))},t.prototype._getClassNames=function(){var e=this.props,t=e.className,n=e.styles,r=e.theme;return be(n,{theme:r,className:t,isNotHost:!this.props.hostId})},t.prototype._setVirtualParent=function(){this._rootElement&&this._rootElement.current&&this._layerElement&&Object(p.i)(this._layerElement,this._rootElement.current)},t.prototype._getLayerElement=function(){var e=this._getHost(),t=this._getClassNames();if(e!==this._host&&this._removeLayerElement(),e&&(this._host=e,!this._layerElement)){var n=Object(p.d)();if(!n)return;this._layerElement=n.createElement("div"),this._layerElement.className=t.root,Object(p.h)(this._layerElement),e.appendChild(this._layerElement)}return this._layerElement},t.prototype._removeLayerElement=function(){if(this._layerElement){this.props.onLayerWillUnmount();var e=this._layerElement.parentNode;e&&e.removeChild(this._layerElement),this._layerElement=void 0}},t.prototype._getHost=function(){var e=this.props.hostId,t=Object(p.d)();if(t){if(e)return t.getElementById(e);var n=oe;return n?t.querySelector(n):t.body}},t.defaultProps={onLayerDidMount:function(){},onLayerWillUnmount:function(){}},t=o.b([Object(ve.a)("Layer",["theme","hostId"])],t)}(s.a),_e={root:"ms-Layer",rootNoHost:"ms-Layer--fixed",content:"ms-Layer-content"},we=Object(l.a)(xe,function(e){var t=e.className,n=e.isNotHost,r=e.theme,i=Object(Q.l)(_e,r);return{root:[i.root,r.fonts.medium,n&&[i.rootNoHost,{position:"fixed",zIndex:Q.h.Layer,top:0,left:0,width:"100vw",height:"100vh",visibility:"hidden"}],t],content:[i.content,{visibility:"visible"}]}},void 0,{scope:"Layer",fields:["hostId","theme","styles"]});n.d(t,"a",function(){return Me});var Me=function(e){function t(t){return e.call(this,t)||this}return o.c(t,e),t.prototype.render=function(){var e=this.props,t=e.layerProps,n=o.d(e,["layerProps"]),r=a.createElement(se,o.a({},n));return this.props.doNotLayer?r:a.createElement(we,o.a({},t),r)},t}(s.a)}]);
//# sourceMappingURL=nodegraph.js.map